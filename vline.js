




/*
     FILE ARCHIVED ON 8:47:04 Oct 25, 2013 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 0:10:06 Oct 9, 2016.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/* Copyright 2013 vLine, inc. All rights reserved. */

(function(){
"undefined"!==typeof dojo?dojo.provide("org.cometd"):(this.org=this.org||{},org.cometd={});org.cometd.JSON={};org.cometd.JSON.toJSON=org.cometd.JSON.fromJSON=function(){throw"Abstract";};org.cometd.Utils={};org.cometd.Utils.isString=function(b){return void 0===b||null===b?!1:"string"===typeof b||b instanceof String};org.cometd.Utils.isArray=function(b){return void 0===b||null===b?!1:b instanceof Array};org.cometd.Utils.inArray=function(b,d){for(var c=0;c<d.length;++c)if(b===d[c])return c;return-1};
org.cometd.Utils.setTimeout=function(b,d,c){return window.setTimeout(function(){try{d()}catch(c){b._debug("Exception invoking timed function",d,c)}},c)};org.cometd.Utils.clearTimeout=function(b){window.clearTimeout(b)};
org.cometd.TransportRegistry=function(){var b=[],d={};this.getTransportTypes=function(){return b.slice(0)};this.findTransportTypes=function(c,a,j){for(var h=[],i=0;i<b.length;++i){var f=b[i];!0===d[f].accept(c,a,j)&&h.push(f)}return h};this.negotiateTransport=function(c,a,j,h){for(var i=0;i<b.length;++i)for(var f=b[i],m=0;m<c.length;++m)if(f===c[m]){var g=d[f];if(!0===g.accept(a,j,h))return g}return null};this.add=function(c,a,j){for(var h=!1,i=0;i<b.length;++i)if(b[i]===c){h=!0;break}h||("number"!==
typeof j?b.push(c):b.splice(j,0,c),d[c]=a);return!h};this.find=function(c){for(var a=0;a<b.length;++a)if(b[a]===c)return d[c];return null};this.remove=function(c){for(var a=0;a<b.length;++a)if(b[a]===c)return b.splice(a,1),a=d[c],delete d[c],a;return null};this.clear=function(){b=[];d={}};this.reset=function(){for(var c=0;c<b.length;++c)d[b[c]].reset()}};
org.cometd.Transport=function(){var b,d;this.registered=function(c,a){b=c;d=a};this.unregistered=function(){d=b=null};this._debug=function(){d._debug.apply(d,arguments)};this._mixin=function(){return d._mixin.apply(d,arguments)};this.getConfiguration=function(){return d.getConfiguration()};this.getAdvice=function(){return d.getAdvice()};this.setTimeout=function(c,a){return org.cometd.Utils.setTimeout(d,c,a)};this.clearTimeout=function(c){org.cometd.Utils.clearTimeout(c)};this.convertToMessages=function(c){if(org.cometd.Utils.isString(c))try{return org.cometd.JSON.fromJSON(c)}catch(a){throw this._debug("Could not convert to JSON the following string",
'"'+c+'"'),a;}if(org.cometd.Utils.isArray(c))return c;if(void 0===c||null===c)return[];if(c instanceof Object)return[c];throw"Conversion Error "+c+", typeof "+typeof c;};this.accept=function(){throw"Abstract";};this.getType=function(){return b};this.send=function(){throw"Abstract";};this.reset=function(){this._debug("Transport",b,"reset")};this.abort=function(){this._debug("Transport",b,"aborted")};this.toString=function(){return this.getType()}};
org.cometd.Transport.derive=function(b){function d(){}d.prototype=b;return new d};
org.cometd.RequestTransport=function(){function b(c){for(;0<g.length;){var a=g[0],d=a[0],a=a[1];if(d.url===c.url&&d.sync===c.sync)g.shift(),c.messages=c.messages.concat(d.messages),this._debug("Coalesced",d.messages.length,"messages from request",a.id);else break}}function d(c,a){this.transportSend(c,a);a.expired=!1;if(!c.sync){var d=this.getConfiguration().maxNetworkDelay,g=d;!0===a.metaConnect&&(g+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",g,"ms for the response, maxNetworkDelay",
d);var b=this;a.timeout=this.setTimeout(function(){a.expired=!0;a.xhr&&a.xhr.abort();var d="Request "+a.id+" of transport "+b.getType()+" exceeded "+g+" ms max network delay";b._debug(d);b.complete(a,!1,a.metaConnect);c.onFailure(a.xhr,c.messages,"timeout",d)},g)}}function c(c){var a=++i,b={id:a,metaConnect:!1};m.length<this.getConfiguration().maxConnections-1?(m.push(b),d.call(this,c,b)):(this._debug("Transport",this.getType(),"queueing request",a,"envelope",c),g.push([c,b]))}function a(a,d){var f=
org.cometd.Utils.inArray(a,m);0<=f&&m.splice(f,1);if(0<g.length){var f=g.shift(),j=f[0],h=f[1];this._debug("Transport dequeued request",h.id);if(d)this.getConfiguration().autoBatch&&b.call(this,j),c.call(this,j),this._debug("Transport completed request",a.id,j);else{var i=this;this.setTimeout(function(){i.complete(h,!1,h.metaConnect);j.onFailure(h.xhr,j.messages,"error","Previous request failed")},0)}}}var j=new org.cometd.Transport,h=org.cometd.Transport.derive(j),i=0,f=null,m=[],g=[];h.complete=
function(c,d,g){if(g){c=c.id;this._debug("Transport",this.getType(),"metaConnect complete, request",c);if(null!==f&&f.id!==c)throw"Longpoll request mismatch, completing request "+c;f=null}else a.call(this,c,d)};h.transportSend=function(){throw"Abstract";};h.transportSuccess=function(c,a,d){if(!a.expired)if(this.clearTimeout(a.timeout),this.complete(a,!0,a.metaConnect),d&&0<d.length)c.onSuccess(d);else c.onFailure(a.xhr,c.messages,"Empty HTTP response")};h.transportFailure=function(c,a,d,g){a.expired||
(this.clearTimeout(a.timeout),this.complete(a,!1,a.metaConnect),c.onFailure(a.xhr,c.messages,d,g))};h.send=function(a,g){if(g){if(null!==f)throw"Concurrent metaConnect requests not allowed, request id="+f.id+" not yet completed";var b=++i;this._debug("Transport",this.getType(),"metaConnect send, request",b,"envelope",a);b={id:b,metaConnect:!0};d.call(this,a,b);f=b}else c.call(this,a)};h.abort=function(){j.abort();for(var c=0;c<m.length;++c){var a=m[c];this._debug("Aborting request",a);a.xhr&&a.xhr.abort()}f&&
(this._debug("Aborting metaConnect request",f),f.xhr&&f.xhr.abort());this.reset()};h.reset=function(){j.reset();f=null;m=[];g=[]};return h};
org.cometd.LongPollingTransport=function(){var b=new org.cometd.RequestTransport,d=org.cometd.Transport.derive(b),c=!0;d.accept=function(a,d){return c||!d};d.xhrSend=function(){throw"Abstract";};d.transportSend=function(a,d){this._debug("Transport",this.getType(),"sending request",d.id,"envelope",a);var b=this;try{var i=!0;d.xhr=this.xhrSend({transport:this,url:a.url,sync:a.sync,headers:this.getConfiguration().requestHeaders,body:org.cometd.JSON.toJSON(a.messages),onSuccess:function(f){b._debug("Transport",
b.getType(),"received response",f);var g=!1;try{var i=b.convertToMessages(f);0===i.length?(c=!1,b.transportFailure(a,d,"no response",null)):(g=!0,b.transportSuccess(a,d,i))}catch(o){b._debug(o),g||(c=!1,b.transportFailure(a,d,"bad response",o))}},onError:function(f,g){c=!1;i?b.setTimeout(function(){b.transportFailure(a,d,f,g)},0):b.transportFailure(a,d,f,g)}});i=!1}catch(f){c=!1,this.setTimeout(function(){b.transportFailure(a,d,"error",f)},0)}};d.reset=function(){b.reset();c=!0};return d};
org.cometd.CallbackPollingTransport=function(){var b=new org.cometd.RequestTransport,b=org.cometd.Transport.derive(b);b.accept=function(){return!0};b.jsonpSend=function(){throw"Abstract";};b.transportSend=function(d,c){for(var a=this,b=0,h=d.messages.length,i=[];0<h;){var f=org.cometd.JSON.toJSON(d.messages.slice(b,b+h)),f=d.url.length+encodeURI(f).length;if(2E3<f){if(1===h){var m="Bayeux message too big ("+f+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){a.transportFailure(d,
c,"error",m)},0);return}--h}else i.push(h),b+=h,h=d.messages.length-b}var g=d;if(1<i.length){b=0;h=i[0];this._debug("Transport",this.getType(),"split",d.messages.length,"messages into",i.join(" + "));g=this._mixin(!1,{},d);g.messages=d.messages.slice(b,h);g.onSuccess=d.onSuccess;g.onFailure=d.onFailure;for(f=1;f<i.length;++f){var l=this._mixin(!1,{},d),b=h,h=h+i[f];l.messages=d.messages.slice(b,h);l.onSuccess=d.onSuccess;l.onFailure=d.onFailure;this.send(l,c.metaConnect)}}this._debug("Transport",
this.getType(),"sending request",c.id,"envelope",g);try{var o=!0;this.jsonpSend({transport:this,url:g.url,sync:g.sync,headers:this.getConfiguration().requestHeaders,body:org.cometd.JSON.toJSON(g.messages),onSuccess:function(d){var b=!1;try{var f=a.convertToMessages(d);0===f.length?a.transportFailure(g,c,"no response"):(b=!0,a.transportSuccess(g,c,f))}catch(h){a._debug(h),b||a.transportFailure(g,c,"bad response",h)}},onError:function(d,b){o?a.setTimeout(function(){a.transportFailure(g,c,d,b)},0):a.transportFailure(g,
c,d,b)}});o=!1}catch(u){this.setTimeout(function(){a.transportFailure(g,c,"error",u)},0)}};return b};
org.cometd.WebSocketTransport=function(){function b(){var c=h.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",c);var a=this,d=null,b=h.getConfiguration().connectTimeout;0<b&&(d=this.setTimeout(function(){d=null;l||(a._debug("Transport",a.getType(),"timed out while connecting to URL",c,":",b,"ms"),a.onClose(1002,"Connect Timeout"))},b));var f=new org.cometd.WebSocket(c);f.onopen=function(){a._debug("WebSocket opened",f);d&&(a.clearTimeout(d),d=null);if(f!==
g)a._debug("Ignoring open event, WebSocket",g);else a.onOpen()};f.onclose=function(c){var b=c?c.code:1E3,c=c?c.reason:void 0;a._debug("WebSocket closed",b,"/",c,f);d&&(a.clearTimeout(d),d=null);if(f!==g)a._debug("Ignoring close event, WebSocket",g);else a.onClose(b,c)};f.onerror=function(){f.onclose({code:1002})};f.onmessage=function(c){a._debug("WebSocket message",c,f);if(f!==g)a._debug("Ignoring message event, WebSocket",g);else a.onMessage(c)};g=f;this._debug("Transport",this.getType(),"configured callbacks on",
f)}function d(c,a){var d=org.cometd.JSON.toJSON(c.messages);g.send(d);this._debug("Transport",this.getType(),"sent",c,"metaConnect =",a);var b=d=this.getConfiguration().maxNetworkDelay;a&&(b+=this.getAdvice().timeout,o=!0);for(var f=[],h=0;h<c.messages.length;++h){var i=c.messages[h];if(i.id){f.push(i.id);var j=g;m[i.id]=this.setTimeout(function(){j&&j.close(1E3,"Timeout")},b)}}this._debug("Transport",this.getType(),"waiting at most",b,"ms for messages",f,"maxNetworkDelay",d,", timeouts:",m)}function c(c,
a){try{null===g?b.call(this):l&&d.call(this,c,a)}catch(f){this.setTimeout(function(){c.onFailure(g,c.messages,"error",f)},0)}}var a=new org.cometd.Transport,j=org.cometd.Transport.derive(a),h,i=!0,f={},m={},g=null,l=!1,o=!1,u;j.onOpen=function(){this._debug("Transport",this.getType(),"opened",g);l=!0;this._debug("Sending pending messages",f);for(var c in f){var a=f[c],b=a[0],a=a[1];u=b.onSuccess;d.call(this,b,a)}};j.onMessage=function(c){this._debug("Transport",this.getType(),"received websocket message",
c,g);for(var a=!1,c=this.convertToMessages(c.data),d=[],b=0;b<c.length;++b){var h=c[b];if((/^\/meta\//.test(h.channel)||void 0===h.data||/^\/service\//.test(h.channel))&&h.id){d.push(h.id);var i=m[h.id];i&&(this.clearTimeout(i),delete m[h.id],this._debug("Transport",this.getType(),"removed timeout for message",h.id,", timeouts",m))}"/meta/connect"===h.channel&&(o=!1);"/meta/disconnect"===h.channel&&!o&&(a=!0)}b=!1;for(h=0;h<d.length;++h){var j=d[h],v;for(v in f){var i=v.split(","),x=org.cometd.Utils.inArray(j,
i);if(0<=x){b=!0;i.splice(x,1);j=f[v][0];x=f[v][1];delete f[v];0<i.length&&(f[i.join(",")]=[j,x]);break}}}b&&this._debug("Transport",this.getType(),"removed envelope, envelopes",f);u.call(this,c);a&&null!==g&&l&&(g.close(1E3,"Disconnect"),g=null,l=!1)};j.onClose=function(c,a){this._debug("Transport",this.getType(),"closed",c,a,g);for(var b in m)this.clearTimeout(m[b]);m={};for(var d in f)b=f[d][0],f[d][1]&&(o=!1),b.onFailure(g,b.messages,"closed "+c+"/"+a);f={};null!==g&&l&&g.close(1E3,"Close");l=
!1;g=null};j.registered=function(c,b){a.registered(c,b);h=b};j.accept=function(){return i&&!!org.cometd.WebSocket&&!1!==h.websocketEnabled};j.send=function(a,b){this._debug("Transport",this.getType(),"sending",a,"metaConnect =",b);for(var d=[],g=0;g<a.messages.length;++g){var h=a.messages[g];h.id&&d.push(h.id)}f[d.join(",")]=[a,b];this._debug("Transport",this.getType(),"stored envelope, envelopes",f);c.call(this,a,b)};j.abort=function(){a.abort();if(null!==g)try{g.close(1001)}catch(c){this._debug(c)}this.reset()};
j.reset=function(){a.reset();null!==g&&l&&g.close(1E3,"Reset");i=!0;m={};f={};g=null;l=!1;u=null};return j};
org.cometd.Cometd=function(b){function d(e){return org.cometd.Utils.isString(e)}function c(e){return void 0===e||null===e?!1:"function"===typeof e}function a(e,a){if(window.console){var b=window.console[e];if(c(b)){for(var d=Array.prototype.slice.call(a),f=0;f<d.length;f++)if("object"==typeof d[f]){var g=[];d[f]=JSON.stringify(d[f],function(e,c){if("object"===typeof c&&null!==c){if(-1!==g.indexOf(c))return;g.push(c)}return c});g=null}b.call(window.console,d.join())}}}function j(){for(var e in w)for(var c=
w[e],a=0;a<c.length;++a){var b=c[a];b&&!b.listener&&(delete c[a],k._debug("Removed subscription",b,"for channel",e))}}function h(e){A!==e&&(k._debug("Status",A,"->",e),A=e)}function i(){return"disconnecting"===A||"disconnected"===A}function f(e,a,b,d,f){try{return a.call(e,d)}catch(g){k._debug("Exception during execution of extension",b,g);e=k.onExtensionException;if(c(e)){k._debug("Invoking extension exception callback",b,g);try{e.call(k,g,b,f,d)}catch(h){k._info("Exception during execution of exception callback in extension",
b,h)}}return d}}function m(e){for(var a=0;a<q.length&&!(void 0===e||null===e);++a){var b=q[a],d=b.extension.outgoing;c(d)&&(b=f(b.extension,d,b.name,e,!0),e=void 0===b?e:b)}return e}function g(e,a){var b=w[e];if(b&&0<b.length)for(var d=0;d<b.length;++d){var f=b[d];if(f)try{f.callback.call(f.scope,a)}catch(g){k._debug("Exception during notification",f,a,g);var h=k.onListenerException;if(c(h)){k._debug("Invoking listener exception callback",f,g);try{h.call(k,g,f.handle,f.listener,a)}catch(i){k._info("Exception during execution of listener callback",
f,i)}}}}}function l(e,a){g(e,a);for(var c=e.split("/"),b=c.length-1,d=b;0<d;--d){var f=c.slice(0,d).join("/")+"/*";d===b&&g(f,a);f+="*";g(f,a)}}function o(){null!==H&&org.cometd.Utils.clearTimeout(H);H=null}function u(e){o();var a=r.interval+p;k._debug("Function scheduled in",a,"ms, interval =",r.interval,"backoff =",p,e);H=org.cometd.Utils.setTimeout(k,e,a)}function D(e,a,c,b){for(var d=0;d<a.length;++d){var f=a[d];f.id=""+ ++$;if(B)f.clientId=B;f=m(f);void 0!==f&&null!==f?a[d]=f:a.splice(d--,1)}if(0!==
a.length)d=n.url,n.appendMessageTypeToURL&&(d.match(/\/$/)||(d+="/"),b&&(d+=b)),e={url:d,sync:e,messages:a,onSuccess:function(e){try{Q.call(k,e)}catch(a){k._debug("Exception during handling of messages",a)}},onFailure:function(e,a,c,b){try{K.call(k,e,a,c,b)}catch(d){k._debug("Exception during handling of failure",d)}}},k._debug("Send",e),t.send(e,c)}function G(e){0<y||!0===E?C.push(e):D(!1,[e],!1)}function O(){var e=C;C=[];0<e.length&&D(!1,e,!1)}function I(){h("connecting");u(function(){if(!i()){var e=
{channel:"/meta/connect",connectionType:t.getType()};if(!L)e.advice={timeout:0};h("connecting");k._debug("Connect sent",e);D(!1,[e],!0,"connect");h("connected")}})}function J(e){e&&(r=k._mixin(!1,{},n.advice,e),k._debug("New advice",r))}function z(e){o();e&&t.abort();B=null;h("disconnected");p=y=0;0<C.length&&(K.call(k,void 0,C,"error","Disconnected"),C=[])}function P(e){B=null;j();i()?(s.reset(),J(n.advice)):J(k._mixin(!1,r,{reconnect:"retry"}));y=0;E=!0;M=e;var e=s.findTransportTypes("1.0",F,n.url),
a=k._mixin(!1,{},M,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:e,advice:{timeout:r.timeout,interval:r.interval}});t=s.negotiateTransport(e,"1.0",F,n.url);k._debug("Initial transport is",t.getType());h("handshaking");k._debug("Handshake sent",a);D(!1,[a],!1,"handshake")}function v(){h("handshaking");E=!0;u(function(){P(M)})}function x(e){l("/meta/handshake",e);l("/meta/unsuccessful",e);!i()&&"none"!==r.reconnect?(p<n.maxBackoff&&(p+=n.backoffIncrement),v()):
z(!1)}function R(e){l("/meta/connect",e);l("/meta/unsuccessful",e);e=i()?"none":r.reconnect;switch(e){case "retry":I();p<n.maxBackoff&&(p+=n.backoffIncrement);break;case "handshake":s.reset();p=0;v();break;case "none":z(!1);break;default:throw"Unrecognized advice action"+e;}}function S(e){z(!0);l("/meta/disconnect",e);l("/meta/unsuccessful",e)}function T(e){l("/meta/subscribe",e);l("/meta/unsuccessful",e)}function U(e){l("/meta/unsubscribe",e);l("/meta/unsuccessful",e)}function V(e){l("/meta/publish",
e);l("/meta/unsuccessful",e)}function W(e){for(var a=0;a<q.length&&!(void 0===e||null===e);++a){var b=q[n.reverseIncomingExtensions?q.length-1-a:a],d=b.extension.incoming;c(d)&&(b=f(b.extension,d,b.name,e,!1),e=void 0===b?e:b)}if(!(void 0===e||null===e))switch(J(e.advice),e.channel){case "/meta/handshake":if(e.successful){B=e.clientId;a=s.negotiateTransport(e.supportedConnectionTypes,e.version,F,n.url);if(null===a)throw"Could not negotiate transport with server; client "+s.findTransportTypes(e.version,
F,n.url)+", server "+e.supportedConnectionTypes;t!==a&&(k._debug("Transport",t,"->",a),t=a);E=!1;O();e.reestablish=N;N=!0;l("/meta/handshake",e);e=i()?"none":r.reconnect;switch(e){case "retry":p=0;I();break;case "none":z(!1);break;default:throw"Unrecognized advice action "+e;}}else x(e);break;case "/meta/connect":if(L=e.successful)switch(l("/meta/connect",e),e=i()?"none":r.reconnect,e){case "retry":p=0;I();break;case "none":z(!1);break;default:throw"Unrecognized advice action "+e;}else R(e);break;
case "/meta/disconnect":e.successful?(z(!1),l("/meta/disconnect",e)):S(e);break;case "/meta/subscribe":e.successful?l("/meta/subscribe",e):T(e);break;case "/meta/unsubscribe":e.successful?l("/meta/unsubscribe",e):U(e);break;default:void 0===e.successful?e.data?l(e.channel,e):k._debug("Unknown message",e):e.successful?l("/meta/publish",e):V(e)}}function X(e){if(e=w[e])for(var a=0;a<e.length;++a)if(e[a])return!0;return!1}function Y(e,a){var b={scope:e,method:a};if(c(e))b.scope=void 0,b.method=e;else if(d(a)){if(!e)throw"Invalid scope "+
e;b.method=e[a];if(!c(b.method))throw"Invalid callback "+a+" for scope "+e;}else if(!c(a))throw"Invalid callback "+a;return b}function Z(e,a,b,c){a=Y(a,b);k._debug("Adding listener on",e,"with scope",a.scope,"and callback",a.method);c={channel:e,scope:a.scope,callback:a.method,listener:c};a=w[e];a||(a=[],w[e]=a);a=a.push(c)-1;c.id=a;c.handle=[e,a];k._debug("Added listener",c,"for channel",e,"having id =",a);return c.handle}var k=this,aa=b||"default",F=!1,s=new org.cometd.TransportRegistry,t,A="disconnected",
$=0,B=null,y=0,C=[],E=!1,w={},p=0,H=null,q=[],r={},M,N=!1,L=!1,n={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(e,a,b){for(var c=a||{},d=2;d<arguments.length;++d){var f=arguments[d];if(!(void 0===f||null===f))for(var g in f){var h=f[g],i=c[g];h!==a&&void 0!==h&&(c[g]=e&&"object"===typeof h&&
null!==h?h instanceof Array?this._mixin(e,i instanceof Array?i:[],h):this._mixin(e,"object"===typeof i&&!(i instanceof Array)?i:{},h):h)}}return c};this._warn=function(){a("warn",arguments)};this._info=function(){"warn"!==n.logLevel&&a("info",arguments)};this._debug=function(){"debug"===n.logLevel&&a("debug",arguments)};this._isCrossDomain=function(e){return e&&e!==window.location.host};var Q,K;this.send=G;this.receive=W;Q=function(e){k._debug("Received",e);for(var a=0;a<e.length;++a)W(e[a])};K=function(e,
a,b,c){k._debug("handleFailure",e,a,b,c);for(b=0;b<a.length;++b){var d=a[b];switch(d.channel){case "/meta/handshake":x({successful:!1,failure:!0,channel:"/meta/handshake",request:d,xhr:e,advice:{reconnect:"retry",interval:p}});break;case "/meta/connect":c=e;L=!1;R({successful:!1,failure:!0,channel:"/meta/connect",request:d,xhr:c,advice:{reconnect:"retry",interval:p}});break;case "/meta/disconnect":S({successful:!1,failure:!0,channel:"/meta/disconnect",request:d,xhr:e,advice:{reconnect:"none",interval:0}});
break;case "/meta/subscribe":T({successful:!1,failure:!0,channel:"/meta/subscribe",request:d,xhr:e,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":U({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:d,xhr:e,advice:{reconnect:"none",interval:0}});break;default:V({successful:!1,failure:!0,channel:d.channel,request:d,xhr:e,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=function(a,b,d){if(d=s.add(a,b,d))this._debug("Registered transport",a),c(b.registered)&&
b.registered(a,this);return d};this.getTransportTypes=function(){return s.getTransportTypes()};this.unregisterTransport=function(a){var b=s.remove(a);null!==b&&(this._debug("Unregistered transport",a),c(b.unregistered)&&b.unregistered());return b};this.unregisterTransports=function(){s.clear()};this.findTransport=function(a){return s.find(a)};this.configure=function(a){k._debug("Configuring cometd object with",a);d(a)&&(a={url:a});a||(a={});n=k._mixin(!1,n,a);if(!n.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";
var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(n.url),a=b[8],c=b[9];F=k._isCrossDomain(b[2]);if(n.appendMessageTypeToURL)if(void 0!==c&&0<c.length)k._info("Appending message type to URI "+a+c+" is not supported, disabling 'appendMessageTypeToURL' configuration"),n.appendMessageTypeToURL=!1;else if(b=a.split("/"),c=b.length-1,a.match(/\/$/)&&(c-=1),0<=b[c].indexOf("."))k._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),
n.appendMessageTypeToURL=!1};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){h("disconnected");N=!1;P(a)};this.disconnect=function(a,b){if(!i()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var c=this._mixin(!1,{},b,{channel:"/meta/disconnect"});h("disconnecting");D(!0===a,[c],!1,"disconnect")}};this.startBatch=function(){++y};this.endBatch=function(){--y;if(0>y)throw"Calls to startBatch() and endBatch() are not paired";0===y&&!i()&&!E&&O()};this.batch=function(a,
b){var c=Y(a,b);this.startBatch();try{c.method.call(c.scope),this.endBatch()}catch(d){throw this._debug("Exception during execution of batch",d),this.endBatch(),d;}};this.addListener=function(a,b,c){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!d(a))throw"Illegal argument type: channel must be a string";return Z(a,b,c,!0)};this.removeListener=function(a){if(!org.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=w[a[0]];
b&&(delete b[a[1]],k._debug("Removed listener",a))};this.clearListeners=function(){w={}};this.subscribe=function(a,b,f,g){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!d(a))throw"Illegal argument type: channel must be a string";if(i())throw"Illegal state: already disconnected";c(b)&&(g=f,f=b,b=void 0);var h=!X(a),j=Z(a,b,f,!1);h&&(h=this._mixin(!1,{},g,{channel:"/meta/subscribe",subscription:a}),G(h));return j};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+
arguments.length;if(i())throw"Illegal state: already disconnected";this.removeListener(a);var c=a[0];X(c)||(c=this._mixin(!1,{},b,{channel:"/meta/unsubscribe",subscription:c}),G(c))};this.clearSubscriptions=function(){j()};this.publish=function(a,b,c){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!d(a))throw"Illegal argument type: channel must be a string";if(i())throw"Illegal state: already disconnected";var f=this._mixin(!1,{},c,{channel:a,data:b});
G(f)};this.getStatus=function(){return A};this.isDisconnected=i;this.setBackoffIncrement=function(a){n.backoffIncrement=a};this.getBackoffIncrement=function(){return n.backoffIncrement};this.getBackoffPeriod=function(){return p};this.resetBackOff=function(){p=0};this.setLogLevel=function(a){n.logLevel=a};this.registerExtension=function(a,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!d(a))throw"Illegal argument type: extension name must be a string";
for(var f=!1,g=0;g<q.length;++g)if(q[g].name===a){f=!0;break}if(f)return this._info("Could not register extension with name",a,"since another extension with the same name already exists"),!1;q.push({name:a,extension:b});this._debug("Registered extension",a);c(b.registered)&&b.registered(a,this);return!0};this.unregisterExtension=function(a){if(!d(a))throw"Illegal argument type: extension name must be a string";for(var b=!1,f=0;f<q.length;++f){var g=q[f];if(g.name===a){q.splice(f,1);b=!0;this._debug("Unregistered extension",
a);a=g.extension;c(a.unregistered)&&a.unregistered();break}}return b};this.getExtension=function(a){for(var b=0;b<q.length;++b){var c=q[b];if(c.name===a)return c.extension}return null};this.getName=function(){return aa};this.getClientId=function(){return B};this.getURL=function(){return n.url};this.getTransport=function(){return t};this.getConfiguration=function(){return this._mixin(!0,{},n)};this.getAdvice=function(){return this._mixin(!0,{},r)};org.cometd.WebSocket=window.WebSocket;if(!org.cometd.WebSocket)org.cometd.WebSocket=
window.MozWebSocket};"undefined"!=typeof dojo&&dojo.provide("org.cometd.AckExtension");
org.cometd.AckExtension=function(){var b,d=!1,c=-1;this.registered=function(a,c){b=c;b._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){b._debug("AckExtension: executing unregistration callback",void 0);b=null};this.incoming=function(a){var j=a.channel;if("/meta/handshake"==j)d=a.ext&&a.ext.ack,b._debug("AckExtension: server supports acks",d);else if(d&&"/meta/connect"==j&&a.successful&&(j=a.ext)&&"number"===typeof j.ack)c=j.ack,b._debug("AckExtension: server sent ack id",
c);return a};this.outgoing=function(a){var j=a.channel;if("/meta/handshake"==j){if(!a.ext)a.ext={};a.ext.ack=b&&!1!==b.ackEnabled;c=-1}else if(d&&"/meta/connect"==j){if(!a.ext)a.ext={};a.ext.ack=c;b._debug("AckExtension: client sending ack id",c)}return a}};"undefined"!=typeof dojo&&dojo.provide("org.cometd.TimeSyncExtension");
org.cometd.TimeSyncExtension=function(b){var d,c=b&&b.maxSamples||10,a=[],j=[],h=0,i=0;this.registered=function(a,b){d=b;d._debug("TimeSyncExtension: executing registration callback",void 0)};this.unregistered=function(){d._debug("TimeSyncExtension: executing unregistration callback",void 0);d=null;a=[];j=[]};this.incoming=function(b){var m=b.channel;if(m&&0===m.indexOf("/meta/")&&b.ext&&b.ext.timesync){var g=b.ext.timesync;d._debug("TimeSyncExtension: server sent timesync",g);m=((new Date).getTime()-
g.tc-g.p)/2;g=g.ts-g.tc-m;a.push(m);j.push(g);j.length>c&&(j.shift(),a.shift());for(var m=j.length,l=g=0,o=0;o<m;++o)g+=a[o],l+=j[o];h=parseInt((g/m).toFixed());i=parseInt((l/m).toFixed());d._debug("TimeSyncExtension: network lag",h)}return b};this.outgoing=function(a){var b=a.channel;if(b&&0===b.indexOf("/meta/")){if(!a.ext)a.ext={};a.ext.timesync={tc:(new Date).getTime(),l:h,o:i};b=org.cometd.JSON.toJSON(a.ext.timesync);d._debug("TimeSyncExtension: client sending timesync",b)}return a};this.getTimeOffset=
function(){return i};this.getTimeOffsetSamples=function(){return j};this.getNetworkLag=function(){return h};this.getServerTime=function(){return(new Date).getTime()+i};this.getServerDate=function(){return new Date(this.getServerTime())};this.setTimeout=function(a,b){var c=(b instanceof Date?b.getTime():0+b)-i-(new Date).getTime();0>=c&&(c=1);return org.cometd.Utils.setTimeout(d,a,c)}};


function aa(){return function(a){return a}}function ba(){return function(){}}function ca(a){return function(b){this[a]=b}}function e(a){return function(){return this[a]}}function l(a){return function(){return a}}var n,da=da||{},q=this;function ea(a){a=a.split(".");for(var b=q,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function fa(){}function ga(a){a.Ga=function(){return a.Wp?a.Wp:a.Wp=new a}}
function ha(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return void 0!==a}function ia(a){return"array"==ha(a)}function ja(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function ka(a){return"number"==typeof a}function la(a){return"function"==ha(a)}function ma(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function na(a){return a[oa]||(a[oa]=++pa)}
var oa="closure_uid_"+(1E9*Math.random()>>>0),pa=0;function qa(a,b,c){return a.call.apply(a.bind,arguments)}function ra(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function v(a,b,c){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qa:ra;return v.apply(null,arguments)}function sa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ta=Date.now||function(){return+new Date};function ua(a){var b={},c;for(c in b){var d=(""+b[c]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+c+"\\}","gi"),d)}return a}
function w(a,b){var c=a.split("."),d=q;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)c.length||void 0===b?d=d[f]?d[f]:d[f]={}:d[f]=b}function y(a,b){function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c;a.prototype.constructor=a};function va(a){Error.captureStackTrace?Error.captureStackTrace(this,va):this.stack=Error().stack||"";a&&(this.message=String(a))}y(va,Error);va.prototype.name="CustomError";function wa(a,b){return 0==a.lastIndexOf(b,0)}function xa(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function ya(a,b){for(var c=a.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")}function za(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}function Aa(a){return/^[\s\xa0]*$/.test(a)}function Ba(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}
function Ca(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Da(a){return a.replace(/[\s\xa0]+$/,"")}function Fa(a){return decodeURIComponent(a.replace(/\+/g," "))}function Ga(a){if(!Ha.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(Ia,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(Ja,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(Ka,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(La,"\x26quot;"));return a}var Ia=/&/g,Ja=/</g,Ka=/>/g,La=/\"/g,Ha=/[&<>\"]/;
function Ma(a){return-1!=a.indexOf("\x26")?"document"in q?Na(a):Oa(a):a}function Na(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c=document.createElement("div");return a.replace(Pa,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}
function Oa(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}var Pa=/&([^;\s<&]+);?/g;function Qa(a,b){for(var c=b.length,d=0;d<c;d++){var f=1==c?b:b.charAt(d);if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a}
function Ra(a,b){var c=RegExp(Sa(b),"");return a.replace(c,"")}function Sa(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ta(a,b){var c=t(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);d=Math.max(0,b-d);return Array(d+1).join("0")+c}function Ua(a){return null==a?"":String(a)}
function Va(a,b){for(var c=0,d=Ca(String(a)).split("."),f=Ca(String(b)).split("."),g=Math.max(d.length,f.length),h=0;0==c&&h<g;h++){var k=d[h]||"",m=f[h]||"",p=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var r=p.exec(k)||["","",""],x=s.exec(m)||["","",""];if(0==r[0].length&&0==x[0].length)break;c=((0==r[1].length?0:parseInt(r[1],10))<(0==x[1].length?0:parseInt(x[1],10))?-1:(0==r[1].length?0:parseInt(r[1],10))>(0==x[1].length?0:parseInt(x[1],10))?1:0)||((0==r[2].length)<(0==x[2].length)?
-1:(0==r[2].length)>(0==x[2].length)?1:0)||(r[2]<x[2]?-1:r[2]>x[2]?1:0)}while(0==c)}return c}function Wa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function Xa(a){var b=u(void 0)?Sa(void 0):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,f){return b+f.toUpperCase()})};function Ya(a,b){null!=a&&this.append.apply(this,arguments)}n=Ya.prototype;n.We="";n.set=function(a){this.We=""+a};n.append=function(a,b,c){this.We+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.We+=arguments[d];return this};n.clear=function(){this.We=""};n.toString=e("We");var Za=Array.prototype,$a=Za.indexOf?function(a,b,c){return Za.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(u(a))return u(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},z=Za.forEach?function(a,b,c){Za.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},ab=Za.filter?function(a,b,c){return Za.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=
0,h=u(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var m=h[k];b.call(c,m,k,a)&&(f[g++]=m)}return f},bb=Za.map?function(a,b,c){return Za.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=u(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},cb=Za.some?function(a,b,c){return Za.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return!0;return!1},db=Za.every?function(a,b,c){return Za.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,f=u(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};function eb(a,b,c){b=fb(a,b,c);return 0>b?null:u(a)?a.charAt(b):a[b]}function fb(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function gb(a,b){return 0<=$a(a,b)}function hb(a){if(!ia(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function ib(a,b){gb(a,b)||a.push(b)}
function kb(a,b){var c=$a(a,b),d;(d=0<=c)&&lb(a,c);return d}function lb(a,b){Za.splice.call(a,b,1)}function mb(a){return Za.concat.apply(Za,arguments)}function nb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function ob(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ia(d)||(f=ja(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,k=0;k<h;k++)a[g+k]=d[k];else a.push(d)}}
function pb(a,b,c,d){Za.splice.apply(a,qb(arguments,1))}function qb(a,b,c){return 2>=arguments.length?Za.slice.call(a,b):Za.slice.call(a,b,c)}function rb(a,b){return a>b?1:a<b?-1:0};function sb(a){return bb(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};var tb,ub,vb,wb,xb,yb;function zb(){return q.navigator?q.navigator.userAgent:null}function Ab(){return q.navigator}xb=wb=vb=ub=tb=!1;var Bb;if(Bb=zb()){var Cb=Ab();tb=wa(Bb,"Opera");ub=!tb&&(-1!=Bb.indexOf("MSIE")||-1!=Bb.indexOf("Trident"));wb=(vb=!tb&&-1!=Bb.indexOf("WebKit"))&&-1!=Bb.indexOf("Mobile");xb=!tb&&!vb&&!ub&&"Gecko"==Cb.product}var Db=tb,A=ub,B=xb,C=vb,Eb=wb,Fb=Ab();yb=-1!=(Fb&&Fb.platform||"").indexOf("Mac");var Gb=!!Ab()&&-1!=(Ab().appVersion||"").indexOf("X11");
function Hb(){var a=q.document;return a?a.documentMode:void 0}var Ib;a:{var Jb="",Kb;if(Db&&q.opera)var Lb=q.opera.version,Jb="function"==typeof Lb?Lb():Lb;else if(B?Kb=/rv\:([^\);]+)(\)|;)/:A?Kb=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:C&&(Kb=/WebKit\/(\S+)/),Kb)var Mb=Kb.exec(zb()),Jb=Mb?Mb[1]:"";if(A){var Nb=Hb();if(Nb>parseFloat(Jb)){Ib=String(Nb);break a}}Ib=Jb}var Ob={};function E(a){return Ob[a]||(Ob[a]=0<=Va(Ib,a))}function Pb(a){return A&&Qb>=a}
var Rb=q.document,Qb=Rb&&A?Hb()||("CSS1Compat"==Rb.compatMode?parseInt(Ib,10):5):void 0;var Sb=null,Tb=null,Ub=null;function Vb(){if(!Sb){Sb={};Tb={};Ub={};for(var a=0;65>a;a++)Sb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(a),Tb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),Ub[Tb[a]]=a}};function Wb(){};function Xb(){this.qb=Array(4);this.ys=Array(64);this.Yk=this.gh=0;this.reset()}y(Xb,Wb);Xb.prototype.reset=function(){this.qb[0]=1732584193;this.qb[1]=4023233417;this.qb[2]=2562383102;this.qb[3]=271733878;this.Yk=this.gh=0};
function Yb(a,b,c){c||(c=0);var d=Array(16);if(u(b))for(var f=0;16>f;++f)d[f]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(f=0;16>f;++f)d[f]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.qb[0];c=a.qb[1];var f=a.qb[2],g=a.qb[3],h=0,h=b+(g^c&(f^g))+d[0]+3614090360&4294967295;b=c+(h<<7&4294967295|h>>>25);h=g+(f^b&(c^f))+d[1]+3905402710&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(c^g&(b^c))+d[2]+606105819&4294967295;f=g+(h<<17&4294967295|h>>>15);h=c+(b^f&
(g^b))+d[3]+3250441966&4294967295;c=f+(h<<22&4294967295|h>>>10);h=b+(g^c&(f^g))+d[4]+4118548399&4294967295;b=c+(h<<7&4294967295|h>>>25);h=g+(f^b&(c^f))+d[5]+1200080426&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(c^g&(b^c))+d[6]+2821735955&4294967295;f=g+(h<<17&4294967295|h>>>15);h=c+(b^f&(g^b))+d[7]+4249261313&4294967295;c=f+(h<<22&4294967295|h>>>10);h=b+(g^c&(f^g))+d[8]+1770035416&4294967295;b=c+(h<<7&4294967295|h>>>25);h=g+(f^b&(c^f))+d[9]+2336552879&4294967295;g=b+(h<<12&4294967295|h>>>20);h=
f+(c^g&(b^c))+d[10]+4294925233&4294967295;f=g+(h<<17&4294967295|h>>>15);h=c+(b^f&(g^b))+d[11]+2304563134&4294967295;c=f+(h<<22&4294967295|h>>>10);h=b+(g^c&(f^g))+d[12]+1804603682&4294967295;b=c+(h<<7&4294967295|h>>>25);h=g+(f^b&(c^f))+d[13]+4254626195&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(c^g&(b^c))+d[14]+2792965006&4294967295;f=g+(h<<17&4294967295|h>>>15);h=c+(b^f&(g^b))+d[15]+1236535329&4294967295;c=f+(h<<22&4294967295|h>>>10);h=b+(f^g&(c^f))+d[1]+4129170786&4294967295;b=c+(h<<5&4294967295|
h>>>27);h=g+(c^f&(b^c))+d[6]+3225465664&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^c&(g^b))+d[11]+643717713&4294967295;f=g+(h<<14&4294967295|h>>>18);h=c+(g^b&(f^g))+d[0]+3921069994&4294967295;c=f+(h<<20&4294967295|h>>>12);h=b+(f^g&(c^f))+d[5]+3593408605&4294967295;b=c+(h<<5&4294967295|h>>>27);h=g+(c^f&(b^c))+d[10]+38016083&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^c&(g^b))+d[15]+3634488961&4294967295;f=g+(h<<14&4294967295|h>>>18);h=c+(g^b&(f^g))+d[4]+3889429448&4294967295;c=f+(h<<20&4294967295|
h>>>12);h=b+(f^g&(c^f))+d[9]+568446438&4294967295;b=c+(h<<5&4294967295|h>>>27);h=g+(c^f&(b^c))+d[14]+3275163606&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^c&(g^b))+d[3]+4107603335&4294967295;f=g+(h<<14&4294967295|h>>>18);h=c+(g^b&(f^g))+d[8]+1163531501&4294967295;c=f+(h<<20&4294967295|h>>>12);h=b+(f^g&(c^f))+d[13]+2850285829&4294967295;b=c+(h<<5&4294967295|h>>>27);h=g+(c^f&(b^c))+d[2]+4243563512&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^c&(g^b))+d[7]+1735328473&4294967295;f=g+(h<<14&4294967295|
h>>>18);h=c+(g^b&(f^g))+d[12]+2368359562&4294967295;c=f+(h<<20&4294967295|h>>>12);h=b+(c^f^g)+d[5]+4294588738&4294967295;b=c+(h<<4&4294967295|h>>>28);h=g+(b^c^f)+d[8]+2272392833&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^c)+d[11]+1839030562&4294967295;f=g+(h<<16&4294967295|h>>>16);h=c+(f^g^b)+d[14]+4259657740&4294967295;c=f+(h<<23&4294967295|h>>>9);h=b+(c^f^g)+d[1]+2763975236&4294967295;b=c+(h<<4&4294967295|h>>>28);h=g+(b^c^f)+d[4]+1272893353&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^
b^c)+d[7]+4139469664&4294967295;f=g+(h<<16&4294967295|h>>>16);h=c+(f^g^b)+d[10]+3200236656&4294967295;c=f+(h<<23&4294967295|h>>>9);h=b+(c^f^g)+d[13]+681279174&4294967295;b=c+(h<<4&4294967295|h>>>28);h=g+(b^c^f)+d[0]+3936430074&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^c)+d[3]+3572445317&4294967295;f=g+(h<<16&4294967295|h>>>16);h=c+(f^g^b)+d[6]+76029189&4294967295;c=f+(h<<23&4294967295|h>>>9);h=b+(c^f^g)+d[9]+3654602809&4294967295;b=c+(h<<4&4294967295|h>>>28);h=g+(b^c^f)+d[12]+3873151461&4294967295;
g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^c)+d[15]+530742520&4294967295;f=g+(h<<16&4294967295|h>>>16);h=c+(f^g^b)+d[2]+3299628645&4294967295;c=f+(h<<23&4294967295|h>>>9);h=b+(f^(c|~g))+d[0]+4096336452&4294967295;b=c+(h<<6&4294967295|h>>>26);h=g+(c^(b|~f))+d[7]+1126891415&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~c))+d[14]+2878612391&4294967295;f=g+(h<<15&4294967295|h>>>17);h=c+(g^(f|~b))+d[5]+4237533241&4294967295;c=f+(h<<21&4294967295|h>>>11);h=b+(f^(c|~g))+d[12]+1700485571&4294967295;b=c+
(h<<6&4294967295|h>>>26);h=g+(c^(b|~f))+d[3]+2399980690&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~c))+d[10]+4293915773&4294967295;f=g+(h<<15&4294967295|h>>>17);h=c+(g^(f|~b))+d[1]+2240044497&4294967295;c=f+(h<<21&4294967295|h>>>11);h=b+(f^(c|~g))+d[8]+1873313359&4294967295;b=c+(h<<6&4294967295|h>>>26);h=g+(c^(b|~f))+d[15]+4264355552&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~c))+d[6]+2734768916&4294967295;f=g+(h<<15&4294967295|h>>>17);h=c+(g^(f|~b))+d[13]+1309151649&4294967295;
c=f+(h<<21&4294967295|h>>>11);h=b+(f^(c|~g))+d[4]+4149444226&4294967295;b=c+(h<<6&4294967295|h>>>26);h=g+(c^(b|~f))+d[11]+3174756917&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~c))+d[2]+718787259&4294967295;f=g+(h<<15&4294967295|h>>>17);h=c+(g^(f|~b))+d[9]+3951481745&4294967295;a.qb[0]=a.qb[0]+b&4294967295;a.qb[1]=a.qb[1]+(f+(h<<21&4294967295|h>>>11))&4294967295;a.qb[2]=a.qb[2]+f&4294967295;a.qb[3]=a.qb[3]+g&4294967295}
Xb.prototype.update=function(a,b){t(b)||(b=a.length);for(var c=b-64,d=this.ys,f=this.gh,g=0;g<b;){if(0==f)for(;g<=c;)Yb(this,a,g),g+=64;if(u(a))for(;g<b;){if(d[f++]=a.charCodeAt(g++),64==f){Yb(this,d);f=0;break}}else for(;g<b;)if(d[f++]=a[g++],64==f){Yb(this,d);f=0;break}}this.gh=f;this.Yk+=b};function Zb(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function $b(a,b){return(new ac(b)).Da(a)}function ac(a){this.Fk=a}ac.prototype.Da=function(a){var b=[];bc(this,a,b);return b.join("")};
function bc(a,b,c){switch(typeof b){case "string":cc(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ia(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],bc(a,a.Fk?a.Fk.call(b,String(g),f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),cc(g,c),
c.push(":"),bc(a,a.Fk?a.Fk.call(b,g,f):f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var dc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},ec=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function cc(a,b){b.push('"',a.replace(ec,function(a){if(a in dc)return dc[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return dc[a]=f+b.toString(16)}),'"')};function fc(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function gc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function hc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ic(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function jc(a){for(var b in a)return!1;return!0}function kc(a,b){b in a&&delete a[b]}function lc(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function mc(a){var b={},c;for(c in a)b[c]=a[c];return b}var nc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function oc(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<nc.length;g++)c=nc[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function pc(a){var b=arguments.length;if(1==b&&ia(arguments[0]))return pc.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};function qc(a){if("function"==typeof a.Xa)return a.Xa();if(u(a))return a.split("");if(ja(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return gc(a)}function rc(a){if("function"==typeof a.ge)return a.ge();if("function"!=typeof a.Xa){if(ja(a)||u(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return hc(a)}}
function sc(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ja(a)||u(a))z(a,b,c);else for(var d=rc(a),f=qc(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)};var tc="StopIteration"in q?q.StopIteration:Error("StopIteration");function uc(){}uc.prototype.next=function(){throw tc;};uc.prototype.Ad=function(){return this};function vc(a){if(a instanceof uc)return a;if("function"==typeof a.Ad)return a.Ad(!1);if(ja(a)){var b=0,c=new uc;c.next=function(){for(;;){if(b>=a.length)throw tc;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function wc(a,b){if(ja(a))try{z(a,b,void 0)}catch(c){if(c!==tc)throw c;}else{a=vc(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(d){if(d!==tc)throw d;}}}function xc(a){if(ja(a))return nb(a);a=vc(a);var b=[];wc(a,function(a){b.push(a)});return b};function yc(a,b){this.lb={};this.va=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof yc?(c=a.ge(),d=a.Xa()):(c=hc(a),d=gc(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}n=yc.prototype;n.M=0;n.Si=0;n.bd=e("M");n.Xa=function(){zc(this);for(var a=[],b=0;b<this.va.length;b++)a.push(this.lb[this.va[b]]);return a};n.ge=function(){zc(this);return this.va.concat()};
n.Gd=function(a){return Ac(this.lb,a)};n.Nl=function(a,b){if(this===a)return!0;if(this.M!=a.bd())return!1;var c=b||Cc;zc(this);for(var d,f=0;d=this.va[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Cc(a,b){return a===b}n.clear=function(){this.lb={};this.Si=this.M=this.va.length=0};n.remove=function(a){return Ac(this.lb,a)?(delete this.lb[a],this.M--,this.Si++,this.va.length>2*this.M&&zc(this),!0):!1};
function zc(a){if(a.M!=a.va.length){for(var b=0,c=0;b<a.va.length;){var d=a.va[b];Ac(a.lb,d)&&(a.va[c++]=d);b++}a.va.length=c}if(a.M!=a.va.length){for(var f={},c=b=0;b<a.va.length;)d=a.va[b],Ac(f,d)||(a.va[c++]=d,f[d]=1),b++;a.va.length=c}}n.get=function(a,b){return Ac(this.lb,a)?this.lb[a]:b};n.set=function(a,b){Ac(this.lb,a)||(this.M++,this.va.push(a),this.Si++);this.lb[a]=b};n.cb=function(){return new yc(this)};
n.Ad=function(a){zc(this);var b=0,c=this.va,d=this.lb,f=this.Si,g=this,h=new uc;h.next=function(){for(;;){if(f!=g.Si)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw tc;var h=c[b++];return a?h:d[h]}};return h};function Ac(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Dc(a){return Ec(a||arguments.callee.caller,[])}
function Ec(a,b){var c=[];if(gb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Fc(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Fc(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Ec(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Fc(a){if(Gc[a])return Gc[a];a=String(a);if(!Gc[a]){var b=/function ([^\(]+)/.exec(a);Gc[a]=b?b[1]:"[Anonymous]"}return Gc[a]}var Gc={};function Hc(a,b,c,d,f){this.reset(a,b,c,d,f)}Hc.prototype.sr=0;Hc.prototype.Ql=null;Hc.prototype.Pl=null;var Ic=0;Hc.prototype.reset=function(a,b,c,d,f){this.sr="number"==typeof f?f:Ic++;this.Pr=d||ta();this.tf=a;this.zu=b;this.gq=c;delete this.Ql;delete this.Pl};Hc.prototype.Rn=ca("tf");Hc.prototype.Cj=e("zu");Hc.prototype.zp=e("sr");function Jc(a){this.ii=a}Jc.prototype.ra=null;Jc.prototype.tf=null;Jc.prototype.Ta=null;Jc.prototype.Lh=null;function Kc(a,b){this.name=a;this.value=b}Kc.prototype.toString=e("name");var Lc=new Kc("OFF",Infinity),Mc=new Kc("SHOUT",1200),Nc=new Kc("SEVERE",1E3),Oc=new Kc("WARNING",900),Pc=new Kc("INFO",800),Qc=new Kc("CONFIG",700),Rc=new Kc("FINE",500),Sc=new Kc("FINER",400),Tc=new Kc("FINEST",300);n=Jc.prototype;n.getName=e("ii");n.getParent=e("ra");n.vp=function(){this.Ta||(this.Ta={});return this.Ta};
n.Rn=ca("tf");function Uc(a){return a.tf?a.tf:a.ra?Uc(a.ra):null}n.log=function(a,b,c){if(a.value>=Uc(this).value)for(a=this.jt(a,b,c),b="log:"+a.Cj(),q.console&&(q.console.timeStamp?q.console.timeStamp(b):q.console.markTimeline&&q.console.markTimeline(b)),q.msWriteProfilerMark&&q.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.Lh)for(var f=0,g=void 0;g=c.Lh[f];f++)g(d);b=b.getParent()}};
n.jt=function(a,b,c){var d=new Hc(a,String(b),this.ii);if(c){d.Ql=c;var f;var g=arguments.callee.caller;try{var h;var k=ea("window.location.href");if(u(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var m,p,s=!1;try{m=c.lineNumber||c.sy||"Not available"}catch(r){m="Not available",s=!0}try{p=c.fileName||c.filename||c.sourceURL||q.$googDebugFname||k}catch(x){p="Not available",s=!0}h=!s&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:m,fileName:p,stack:c.stack||"Not available"}}f="Message: "+Ga(h.message)+'\nUrl: \x3ca href\x3d"view-source:'+h.fileName+'" target\x3d"_new"\x3e'+h.fileName+"\x3c/a\x3e\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ga(h.stack+"-\x3e ")+"[end]\n\nJS stack traversal:\n"+Ga(Dc(g)+"-\x3e ")}catch(D){f="Exception trying to expose exception! You win, we lose. "+D}d.Pl=f}return d};n.info=function(a,b){this.log(Pc,a,b)};
function Vc(a,b,c){a.log(Rc,b,c)}n.Tn=ca("ra");var Wc={},Xc=null;function Yc(){Xc||(Xc=new Jc(""),Wc[""]=Xc,Xc.Rn(Qc))}function Zc(){Yc();return Xc}function $c(a){Yc();var b;if(!(b=Wc[a])){b=new Jc(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=$c(a.substr(0,c));c.vp()[d]=b;b.Tn(c);Wc[a]=b}return b};function ad(){return new F({})}function bd(a,b){function c(){var b=a.currentTime,m=a.videoWidth,p=ta();if(b!=d)f=p;else if(p-f>h){g.pa(cd);return}0<b&&0<m?g.ca(a):(d=b,G(c,100))}var d=0,f=ta(),g=new F,h=1E3*b;c();return g};var cd="TIMED_OUT",dd="recv",ed="cancel";function fd(){this.dr=ta()}var gd=new fd;fd.prototype.set=ca("dr");fd.prototype.reset=function(){this.set(ta())};fd.prototype.get=e("dr");function hd(a){this.wc=a||"";this.tx=gd}n=hd.prototype;n.Yn=!0;n.Fr=!0;n.ox=!0;n.Er=!1;n.px=!1;function id(a){return 10>a?"0"+a:String(a)}function jd(a,b){var c=(a.Pr-b)/1E3,d=c.toFixed(3),f=0;if(1>c)f=2;else for(;100>c;)f++,c*=10;for(;0<f--;)d=" "+d;return d}function kd(a){hd.call(this,a)}y(kd,hd);function ld(){this.Vw=v(this.ps,this);this.tj=new kd;this.tj.Yn=!1;this.Yp=this.tj.Er=!1;this.fq="";this.Us={}}
ld.prototype.ps=function(a){if(!this.Us[a.gq]){var b;b=this.tj;var c=[];c.push(b.wc," ");if(b.Yn){var d=new Date(a.Pr);c.push("[",id(d.getFullYear()-2E3)+id(d.getMonth()+1)+id(d.getDate())+" "+id(d.getHours())+":"+id(d.getMinutes())+":"+id(d.getSeconds())+"."+id(Math.floor(d.getMilliseconds()/10)),"] ")}b.Fr&&c.push("[",jd(a,b.tx.get()),"s] ");b.ox&&c.push("[",a.gq,"] ");b.px&&c.push("[",a.tf.name,"] ");c.push(a.Cj(),"\n");b.Er&&a.Ql&&c.push(a.Pl,"\n");b=c.join("");if(c=md)switch(a.tf){case Mc:nd(c,
"info",b);break;case Nc:nd(c,"error",b);break;case Oc:nd(c,"warn",b);break;default:nd(c,"debug",b)}else window.opera?window.opera.postError(b):this.fq+=b}};var md=window.console;function nd(a,b,c){if(a[b])a[b](c);else a.log(c)};var od,pd=!1,qd=null;function rd(){if(!pd){qd=new ld;var a;a=qd.tj;a.Yn=!0;a.Fr=!1;a=qd;if(!0!=a.Yp){var b=Zc(),c=a.Vw;b.Lh||(b.Lh=[]);b.Lh.push(c);a.Yp=!0}pd=!0;sd(Oc)}}function sd(a){rd();Zc().Rn(a);return a}function td(a){rd();return $c(a)};function ud(a){"object"===typeof a&&(a=$b(a));var b;b=a.replace(/\r\n/g,"\n");a=[];for(var c=0,d=0;d<b.length;d++){var f=b.charCodeAt(d);128>f?a[c++]=f:(2048>f?a[c++]=f>>6|192:(a[c++]=f>>12|224,a[c++]=f>>6&63|128),a[c++]=f&63|128)}if(!ja(a))throw Error("encodeByteArray takes an array as a parameter");Vb();b=Tb;c=[];for(d=0;d<a.length;d+=3){var g=a[d],h=(f=d+1<a.length)?a[d+1]:0,k=d+2<a.length,m=k?a[d+2]:0,p=g>>2,g=(g&3)<<4|h>>4,h=(h&15)<<2|m>>6,m=m&63;k||(m=64,f||(h=64));c.push(b[p],b[g],b[h],b[m])}a=
c.join("");return a=a.split(".")[0]}
function vd(a,b){void 0===b&&(b=!0);switch(a.length%4){case 0:break;case 2:a+="..";break;case 3:a+=".";break;default:return null}var c=a;Vb();for(var d=Ub,f=[],g=0;g<c.length;){var h=d[c.charAt(g++)],k=g<c.length?d[c.charAt(g)]:0;++g;var m=g<c.length?d[c.charAt(g)]:0;++g;var p=g<c.length?d[c.charAt(g)]:0;++g;if(null==h||null==k||null==m||null==p)throw Error();f.push(h<<2|k>>4);64!=m&&(f.push(k<<4&240|m>>2),64!=p&&f.push(m<<6&192|p))}c=[];for(g=d=0;d<f.length;)h=f[d++],128>h?c[g++]=String.fromCharCode(h):
191<h&&224>h?(k=f[d++],c[g++]=String.fromCharCode((h&31)<<6|k&63)):(k=f[d++],m=f[d++],c[g++]=String.fromCharCode((h&15)<<12|(k&63)<<6|m&63));f=c.join("");return b?Zb(f):f}function wd(a){var b=a.indexOf(":");return 0<b?a.substr(b+1):a}function xd(a,b){return null!=a||null!=b?0<b.indexOf(":")?b:a+":"+b:void 0}function yd(a){if(null==a)return!1;a=a.split(":");return 2!==a.length?!1:null!=a[0]&&/^[a-zA-Z\d]([a-zA-Z\d-]*[a-zA-Z\d])?$/.test(a[0])&&null!=a[1]&&/^[^:\/]+$/.test(a[1])}
function zd(a){var b=a.indexOf(":");return 0<b?a.substr(0,b):""}function Ad(a){var b=new Xb;b.update(Ca(a).toLowerCase());var c=Array((56>b.gh?64:128)-b.gh);c[0]=128;for(a=1;a<c.length-8;++a)c[a]=0;var d=8*b.Yk;for(a=c.length-8;a<c.length;++a)c[a]=d&255,d/=256;b.update(c);c=Array(16);for(a=d=0;4>a;++a)for(var f=0;32>f;f+=8)c[d++]=b.qb[a]>>>f&255;return"/web/20131025084704/https://www.gravatar.com/avatar/"+sb(c)+"?d\x3dmm"}
var Bd=la(Object.prototype.getPrototypeOf)?Object.prototype.getPrototypeOf:function(a){return a.__proto__||a.constructor.prototype};function Cd(a,b){function c(){}c.prototype=a;var d=new c;b&&oc(d,b);return d}
function Dd(a,b){if(a===b)return!0;var c,d;d=ha(a);if(ha(b)!==d)return!1;if("array"===d){d=a.length;if(b.length!==d)return!1;for(c=0;c<d;++c)if(!Dd(a[c],b[c]))return!1;return!0}if("object"===d){for(c in a)if(!(c in b&&Dd(a[c],b[c])))return!1;for(c in b)if(!(c in a))return!1;return!0}return!1}var Ed=-1;function Fd(){var a=new Date,b=a.getTime();od&&(b+=od,a.setTime(b));return a}function Gd(a,b,c){b.prototype.kl=a;c&&(b.prototype.Co=c);b.prototype.F=td("vline."+a+(c||""))}
function Hd(a){return u(a)?a:u(a.type)?a.type:u(a.kl)?u(a.Co)?a.kl+a.Co:a.kl:Bd(a)===Object.prototype?"":(a=/function (.{1,})\(/.exec(a.constructor.toString()))&&1<a.length?a[1]:""}
var Id=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,
2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,
2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,
2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,
3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,
936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function Jd(a){return u(a)?a:a instanceof H?a.j():a.path||null}function Kd(a){if(a){if(a instanceof H)return a;if(ma(a))return Ld(Md,a,void 0,H).pb();if(u(a))return Ld(Md,null,a,H).pb()}return(new H).pb()}function Nd(a,b,c,d){Od(Pd,a,"",b,c,qb(arguments,3))}function Qd(a,b,c,d){Od(Rd,a,"",b,c,qb(arguments,3))}function Sd(a,b,c,d){Od(Md,a,"entity"===a?"":"Entity",b,c,qb(arguments,3))}
function Td(a,b){b=t(b)?b:!0;ma(a)&&la(a.Da)&&(a=a.Da());if(ma(a)){if(ja(a)){var c=a,d=b,f,g=[];for(f=0;f<c.length;++f)g.push(d?Td(c[f],d):c[f]);return g}if(Bd(a)===Object.prototype)return Ud(a,b)}return a}function Ud(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&(t(a[c])&&!/(^_)|(_$)/.test(c))&&(d[c]=b?Td(a[c],b):a[c]);return d}function Vd(a,b){a.Xg&&fc(b,function(b,d){Wd(a,d,b,!0)})}
function Wd(a,b,c,d){var f;if(a.Xg){if(f=a.Xg[b])return f.call(a,c),!0;if(d&&(f=a.Xg["$*"]))return f.call(a,b,c),!0}return!1}function Xd(a,b){var c=t(b)?b:!0,d=new Ya;Yd(d,a,0,c);return d.toString()}var Pd={},Rd={},Md={};function Od(a,b,c,d,f,g){function h(){}f&&(d.jl=f);if(g&&0<g.length){if(f=Bd(d.prototype).Xg)h.prototype=f;f=d.prototype.Xg=new h;for(var k=0;k<g.length;k+=2)f[g[k]]=g[k+1]}d.Bo=ba();d.Bo.prototype=d.prototype;u(b)?(a[b]=d,Gd(b,d,c)):z(b,function(b){a[b]=d})}
function Ld(a,b,c,d,f){c=c||b&&b.type;b=b||{type:c};c&&wa(c,"x-msg-")&&(c="x-msg");var g=a[c]||d;if(!g)return null===g?null:mc(b);var h=[],k=null;g.jl?(k={},a=function(a,b){var c=$a(g.jl,b);if(0<=c)return h[c]=a,!0;k[b]=a;return!1},fc(b,a),f&&a(f,"$entity"),f=$a(g.jl,"$props"),0<f&&(h[f]=k,k=null)):k=b;f=new g.Bo;g.apply(f,h);Vd(f,k);return f}
function Yd(a,b,c,d){switch(typeof b){case "string":if(/\s/.test(b)){a.append("'",b,"'");return}break;case "object":if(null==b)break;var f=0;if(ja(b)){a.append("[");z(b,function(b){0<f++&&a.append(", ");Yd(a,b,c+1,!0)});a.append("]");return}if(0<c&&b.toString!==Object.prototype.toString){a.append(b.toString());return}var g=Td(b,!1);if(ma(g)){var h=Hd(b);d&&a.append("{");h&&a.append(h);Bd(g)===Object.prototype&&(b=hc(g),Za.sort.call(b,rb),z(b,function(b){var d=g[b];"type"===b&&d===h||null==d||(0===
f++?h&&a.append(": "):a.append(", "),a.append(b,"\x3d"),Yd(a,d,c+1,!0))}));d&&a.append("}")}else a.append(g);return}a.append(String(b))};function Zd(){}Zd.prototype.toString=function(){return Xd(this)};Zd.prototype.V=function(){return Hd(this)};Zd.prototype.Da=function(){return Ud(this,!0)};var $d,ae=!A||Pb(9),be=!B&&!A||A&&Pb(9)||B&&E("1.9.1"),ce=A&&!E("9"),de=A||Db||C;function ee(a,b){a.className=b}function fe(a){a=a.className;return u(a)&&a.match(/\S+/g)||[]}function ge(a,b){for(var c=fe(a),d=qb(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)gb(g,d[h])||g.push(d[h]);g=c.join(" ");a.className=g;return c.length==f}function he(a,b){var c=fe(a),d=qb(arguments,1),f=ie(c,d),g=f.join(" ");a.className=g;return f.length==c.length-d.length}function ie(a,b){return ab(a,function(a){return!gb(b,a)})}
function je(a,b,c){for(var d=fe(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(pb(d,g--,1),f=!0);f&&(d.push(c),b=d.join(" "),a.className=b)}function ke(a,b,c){c?ge(a,b):he(a,b)};function I(a,b){this.x=t(a)?a:0;this.y=t(b)?b:0}I.prototype.cb=function(){return new I(this.x,this.y)};function le(a,b){return new I(a.x-b.x,a.y-b.y)}I.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};I.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};I.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function me(a,b){this.width=a;this.height=b}function ne(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}me.prototype.cb=function(){return new me(this.width,this.height)};me.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};me.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
me.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function oe(a){return a?new pe(qe(a)):$d||($d=new pe)}
function re(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,"function"==typeof b.split&&gb(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}return a}
function se(a,b){fc(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in te?a.setAttribute(te[d],b):wa(d,"aria-")||wa(d,"data-")?a.setAttribute(d,b):a[d]=b})}var te={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ue(a){a=(a||window).document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new me(a.clientWidth,a.clientHeight)}function ve(a){return C||"CSS1Compat"!=a.compatMode?a.body:a.documentElement}function we(a){return a?a.parentWindow||a.defaultView:window}function xe(a,b,c){return ye(document,arguments)}
function ye(a,b){var c=b[0],d=b[1];if(!ae&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',Ga(d.name),'"');if(d.type){c.push(' type\x3d"',Ga(d.type),'"');var f={};oc(f,d);delete f.type;d=f}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(u(d)?c.className=d:ia(d)?ge.apply(null,[c].concat(d)):se(c,d));2<b.length&&ze(a,c,b,2);return c}
function ze(a,b,c,d){function f(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];!ja(g)||ma(g)&&0<g.nodeType?f(g):z(Ae(g)?nb(g):g,f)}}function Be(a,b){ze(qe(a),a,arguments,1)}function Ce(a){for(var b;b=a.firstChild;)a.removeChild(b)}function De(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Ee(a){if(void 0!=a.firstElementChild)a=a.firstElementChild;else for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a}
function Fe(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function qe(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Ge(a){return a.contentDocument||a.contentWindow.document}
function He(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Ce(a),a.appendChild(qe(a).createTextNode(String(b)))}function Ie(a,b){var c=[];return Je(a,b,c,!0)?c[0]:void 0}function Je(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||Je(a,b,c,d))return!0;a=a.nextSibling}return!1}var Ke={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Le={IMG:" ",BR:"\n"};
function Me(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ka(a)&&0<=a&&32768>a):!1}function Ne(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}function Oe(a){if(ce&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Pe(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");ce||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Qe(a){var b=[];Pe(a,b,!1);return b.join("")}function Pe(a,b,c){if(!(a.nodeName in Ke))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Le)b.push(Le[a.nodeName]);else for(a=a.firstChild;a;)Pe(a,b,c),a=a.nextSibling}function Ae(a){if(a&&"number"==typeof a.length){if(ma(a))return"function"==typeof a.item||"string"==typeof a.item;if(la(a))return"function"==typeof a.item}return!1}
function pe(a){this.ba=a||q.document||document}n=pe.prototype;n.l=oe;function Re(a){return a.ba}n.d=function(a){return u(a)?this.ba.getElementById(a):a};n.t=function(a,b,c){return ye(this.ba,arguments)};n.createElement=function(a){return this.ba.createElement(a)};n.createTextNode=function(a){return this.ba.createTextNode(String(a))};function Se(a){return"CSS1Compat"==a.ba.compatMode}function Te(a){return a.ba.parentWindow||a.ba.defaultView}
function Ue(a){var b=a.ba;a=ve(b);b=b.parentWindow||b.defaultView;return A&&E("10")&&b.pageYOffset!=a.scrollTop?new I(a.scrollLeft,a.scrollTop):new I(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.append=Be;n.removeNode=De;n.vp=function(a){return be&&void 0!=a.children?a.children:ab(a.childNodes,function(a){return 1==a.nodeType})};n.xp=Ee;n.contains=Fe;A&&E(8);function Ve(a,b){function c(){}c.prototype=a;var d=new c,f;for(f in b)d[f]=b[f];return d};function We(){return"Email Address"}function Xe(){return"AppId not found. This app may have been deleted"}function Ye(){return"AppId already exists"};var J={BAD_PARAM:l("One or more inputs is invalid."),BUG:l("That's a bug!")};J[cd]=l("Timed out");J.NOT_FOUND=l("Not found");J.CONNECTION_FAILED=l("Connection failed");J.AUTH_FAILED=l("Login to server failed. Check login parameters.");J.FORBIDDEN=l("Access forbidden");J.SERVER_ERROR=l("Server error");J.FIELD_REQUIRED=function(a){return a.name+" can't be blank"};J.FIELD_MAX_LENGTH_EXCEEDED=function(a){return"Please limit to "+a.iq+" characters"};J.INVALID_EMAIL=l("Email is invalid");
J.INVALID_PASSWORD=l("Password must be at least six characters long");J.PASSWORDS_DONT_MATCH=l("Passwords don't match");J.INVALID_URL=l("Invalid URL");J.APPID_NOT_FOUND=Xe;J.SERVICEID_NOT_FOUND=Xe;J.INVALID_TOKEN=l("This link is invalid or has expired");J.USERID_NOT_FOUND=l("Account not found");J.NO_RELAY_FOUND=l("No relay servers were available");J.APPID_EXISTS=Ye;J.SERVICEID_EXISTS=Ye;J.EMAIL_EXISTS=l("An account with this email address already exists");J.INVALID_PAYLOAD=l("An invalid payload was passed in the request");
J.BAD_CREDENTIALS=l("Incorrect email or password");J.ACCESS_DENIED=l("You do not have permission to perform this operation");J.RSC_EXISTS=function(a){return a.name+" already exists"};J.INVALID_CHAR=function(a){return a.name+" cannot have spaces or special characters"};J.INVALID_FIELD=function(a){return a.name+" has invalid characters"};J.SUBSCRIPTION_LIMIT_EXCEEDED=l("Too many subscriptions");J.GET_LOCAL_STREAM_FAILED=l("Do you have a camera and have you given permission to access it? [/web/20131025084704/https://vline.com/developer/docs/debugging#get_local_stream_failed]");
J.INVALID_STATE=l("State Invalid");J.ROOM_NOT_FOUND=l("Room not found");function Ze(a,b){return new L("BAD_PARAM",a+"\x3d"+b)}function L(a,b){var c=a,d=b?Xd(b):null;!d&&a in J&&(d=J[a]());d&&(c+=" ("+d+")");va.call(this,c);this.type=a;ma(b)&&oc(this,b)}y(L,va);Nd("Error",L);L.prototype.name="vLineError";L.prototype.V=e("type");L.prototype.Cj=e("message");L.prototype.Da=function(){return Ud(this,!0)};function $e(a){L.call(this,"CORRUPT",a)}y($e,L);function af(a){L.call(this,"BAD_PARAM",a)}y(af,L);function bf(a){L.call(this,"BUG",a)}y(bf,L);function cf(a){L.call(this,"NOT_READY",a)}y(cf,L);function df(a){this.Tf[0][0][0]||this.ll();var b,c,d,f,g=this.Tf[0][4],h=this.Tf[1];b=a.length;var k=1;if(4!==b&&6!==b&&8!==b)throw new af("invalid aes key size");this.Zg=[d=a.slice(0),f=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(0===a%b||8===b&&4===a%b)c=g[c>>>24]<<24^g[c>>16&255]<<16^g[c>>8&255]<<8^g[c&255],0===a%b&&(c=c<<8^c>>>24^k<<24,k=k<<1^283*(k>>7));d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&3?a:a-4],f[b]=4>=a||4>b?c:h[0][g[c>>>24]]^h[1][g[c>>16&255]]^h[2][g[c>>8&255]]^h[3][g[c&255]]}
df.prototype={Tf:[[[],[],[],[],[]],[[],[],[],[],[]]],ll:function(){var a=this.Tf[0],b=this.Tf[1],c=a[4],d=b[4],f,g,h,k=[],m=[],p,s,r,x;for(f=0;256>f;f++)m[(k[f]=f<<1^283*(f>>7))^f]=f;for(g=h=0;!c[g];g^=p||1,h=m[h]||1)for(r=h^h<<1^h<<2^h<<3^h<<4,r=r>>8^r&255^99,c[g]=r,d[r]=g,s=k[f=k[p=k[g]]],x=16843009*s^65537*f^257*p^16843008*g,s=257*k[r]^16843008*r,f=0;4>f;f++)a[f][g]=s=s<<24^s>>>8,b[f][r]=x=x<<24^x>>>8;for(f=0;5>f;f++)a[f]=a[f].slice(0),b[f]=b[f].slice(0)}};function ef(a,b,c){a=ff(a.slice(b/32),32-(b&31)).slice(1);void 0!==c&&(b=c-b,32*a.length<b||(a=a.slice(0,Math.ceil(b/32)),c=a.length,b&=31,0<c&&b&&(a[c-1]=gf(b,a[c-1]&2147483648>>b-1,1))));return a}function hf(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1}function jf(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=Math.round(c/1099511627776)||32;return 32===d?a.concat(b):ff(b,d,c|0,a.slice(0,a.length-1))}
function kf(a){var b=a.length;return 0===b?0:32*(b-1)+(Math.round(a[b-1]/1099511627776)||32)}function gf(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+1099511627776*a}function ff(a,b,c,d){var f;f=0;for(void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(f=0;f<a.length;f++)d.push(c|a[f]>>>b),c=a[f]<<32-b;f=a.length?a[a.length-1]:0;a=Math.round(f/1099511627776)||32;d.push(gf(b+a&31,32<b+a?c:d.pop(),1));return d};function lf(a){this.Zg[0]||this.ll();a?(this.Ti=a.Ti.slice(0),this.Yg=a.Yg.slice(0),this.Sf=a.Sf):this.reset()}function mf(a){return nf((new lf).update(a))}
lf.prototype={reset:function(){this.Ti=this.Do.slice(0);this.Yg=[];this.Sf=0;return this},update:function(a){if("string"===typeof a){var b;b=unescape(encodeURIComponent(a));var c=[],d=0;for(a=0;a<b.length;a++)d=d<<8|b.charCodeAt(a),3===(a&3)&&(c.push(d),d=0);a&3&&c.push(gf(8*(a&3),d));a=c}b=this.Yg=jf(this.Yg,a);c=this.Sf;a=this.Sf=c+kf(a);for(c=512+c&-512;c<=a;c+=512)of(this,b.splice(0,16));return this},Do:[],Zg:[],ll:function(){var a=0,b=2,c;a:for(;64>a;b++){for(c=2;c*c<=b;c++)if(0===b%c)continue a;
8>a&&(this.Do[a]=4294967296*(Math.pow(b,0.5)-Math.floor(Math.pow(b,0.5)))|0);this.Zg[a]=4294967296*(Math.pow(b,1/3)-Math.floor(Math.pow(b,1/3)))|0;a++}}};
function of(a,b){var c,d,f,g=b.slice(0),h=a.Ti,k=a.Zg,m=h[0],p=h[1],s=h[2],r=h[3],x=h[4],D=h[5],Q=h[6],U=h[7];for(c=0;64>c;c++)16>c?d=g[c]:(d=g[c+1&15],f=g[c+14&15],d=g[c&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+g[c&15]+g[c+9&15]|0),d=d+U+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(Q^x&(D^Q))+k[c],U=Q,Q=D,D=x,x=r+d|0,r=s,s=p,p=m,m=d+(p&s^r&(p^s))+(p>>>2^p>>>13^p>>>22^p<<30^p<<19^p<<10)|0;h[0]=h[0]+m|0;h[1]=h[1]+p|0;h[2]=h[2]+s|0;h[3]=h[3]+r|0;h[4]=h[4]+x|0;h[5]=h[5]+D|0;
h[6]=h[6]+Q|0;h[7]=h[7]+U|0}function nf(a){var b,c=a.Yg,d=a.Ti,c=jf(c,[gf(1,1)]);for(b=c.length+2;b&15;b++)c.push(0);c.push(Math.floor(a.Sf/4294967296));for(c.push(a.Sf|0);c.length;)of(a,c.splice(0,16));a.reset();return d}w("sjcl.hash.sha256.hash",mf);function pf(a,b,c){c=c||"user";var d,f,g=(new Date).valueOf(),h=qf[c],k=rf();d=sf[c];void 0===d&&(d=sf[c]=tf++);void 0===h&&(h=qf[c]=0);qf[c]=(qf[c]+1)%uf.length;switch(typeof a){case "number":break;case "object":if(void 0===b)for(c=b=0;c<a.length;c++)for(f=a[c];0<f;)b++,f>>>=1;uf[h].update([d,vf++,2,b,g,a.length].concat(a));break;case "string":void 0===b&&(b=a.length);uf[h].update([d,vf++,3,b,g,a.length]);uf[h].update(a);break;default:throw new bf("random: addEntropy only supports number, array or string");
}wf[h]+=b;xf+=b;k===yf&&(rf()!==yf&&zf("seeded",Math.max(Af,xf)),a=Bf[Cf],zf("progress",Af>=a?1:xf>a?1:xf/a))}function rf(a){a=Bf[void 0!==a?a:Cf];return Af&&Af>=a?wf[0]>Df&&(new Date).valueOf()>Ef?Ff|Gf:Gf:xf>=a?Ff|yf:yf}var uf=[new lf],wf=[0],Hf=0,qf={},vf=0,sf={},tf=0,Af=0,xf=0,Ef=0,If=[0,0,0,0,0,0,0,0],Jf=[0,0,0,0],Kf=void 0,Cf=6,Lf=!1,Mf={Dy:{},Hy:{}},yf=0,Gf=1,Ff=2,Bf=[0,48,64,96,128,192,256,384,512,768,1024],Df=80;
function Nf(){for(var a=0;4>a&&(Jf[a]=Jf[a]+1|0,!Jf[a]);a++);var b=Kf;if(4!==Jf.length)throw new af("invalid aes block size");var a=b.Zg[0],c=Jf[0]^a[0],d=Jf[1]^a[1],f=Jf[2]^a[2],g=Jf[3]^a[3],h,k,m,p=a.length/4-2,s,r=4,x=[0,0,0,0];h=b.Tf[0];var b=h[0],D=h[1],Q=h[2],U=h[3],Ea=h[4];for(s=0;s<p;s++)h=b[c>>>24]^D[d>>16&255]^Q[f>>8&255]^U[g&255]^a[r],k=b[d>>>24]^D[f>>16&255]^Q[g>>8&255]^U[c&255]^a[r+1],m=b[f>>>24]^D[g>>16&255]^Q[c>>8&255]^U[d&255]^a[r+2],g=b[g>>>24]^D[c>>16&255]^Q[d>>8&255]^U[f&255]^a[r+
3],r+=4,c=h,d=k,f=m;for(s=0;4>s;s++)x[s]=Ea[c>>>24]<<24^Ea[d>>16&255]<<16^Ea[f>>8&255]<<8^Ea[g&255]^a[r++],h=c,c=d,d=f,f=g,g=h;return x}function Of(){If=Nf().concat(Nf());Kf=new df(If)}function Pf(a){pf([a.x||a.clientX||a.offsetX,a.y||a.clientY||a.offsetY],2,"mouse")}function Qf(){pf(new Date,2,"loadtime")}function zf(a,b){var c,d=Mf[a],f=[];for(c in d)d.hasOwnProperty(c)&&f.push(d[c]);for(c=0;c<f.length;c++)f[c](b)}try{var Rf=new Uint32Array(32);crypto.getRandomValues(Rf);pf(Rf,1024,"crypto.getRandomValues")}catch(Sf){};function Tf(a){Uf(this,a)}
Tf.prototype={Lb:24,jq:8,Bd:Tf,copy:function(){return new this.Bd(this)},Nl:function(a){"number"===typeof a&&(a=new this.Bd(a));var b=0,c;this.wh();a.wh();for(c=0;c<this.Q.length||c<a.Q.length;c++)b|=Vf(this,c)^Vf(a,c);return 0===b},toString:function(){this.wh();var a="",b,c,d=this.Q;for(b=0;b<this.Q.length;b++){for(c=d[b].toString(16);b<this.Q.length-1&&6>c.length;)c="0"+c;a=c+a}return"0x"+a},add:function(a){return Wf(this.copy(),a)},sub:function(a){var b=this.copy(),c=a;"object"!==typeof c&&(c=
new b.Bd(c));a=b.Q;for(var d=c.Q,c=a.length;c<d.length;c++)a[c]=0;for(c=0;c<d.length;c++)a[c]-=d[c];return b},reduce:function(){return this},wh:function(){return this.normalize()},normalize:function(){var a=0,b,c=this.Xp,d,f=this.Q,g=f.length,h=this.$q;for(b=0;b<g||0!==a&&-1!==a;b++)a=(f[b]||0)+a,d=f[b]=a&h,a=(a-d)*c;-1===a&&(f[b-1]-=this.Rw);return this},xs:function(){this.wh();for(var a=this.Lb*(this.Q.length-1),b=this.Q[this.Q.length-1];b;b>>=1)a++;return a+7&-8}};
function Xf(a){var b=0,c,d=a.Xp,f,g=a.Q,h=g.length,k=a.$q;for(c=0;c<h-1;c++)b=g[c]+b,f=g[c]=b&k,b=(b-f)*d;g[c]+=b;return a}function Yf(a,b){"number"===typeof b&&(b=new a.Bd(b));var c,d,f=a.Q,g=b.Q,h=f.length,k=g.length,m=new a.Bd,p=m.Q,s,r=a.jq;for(c=0;c<a.Q.length+b.Q.length+1;c++)p[c]=0;for(c=0;c<h;c++){s=f[c];for(d=0;d<k;d++)p[c+d]+=s*g[d];--r||(r=a.jq,Xf(m))}return Xf(m).reduce()}
function Wf(a,b){"object"!==typeof b&&(b=new a.Bd(b));var c,d=a.Q,f=b.Q;for(c=d.length;c<f.length;c++)d[c]=0;for(c=0;c<f.length;c++)d[c]+=f[c];return a}function Vf(a,b){return b>=a.Q.length?0:a.Q[b]}function Uf(a,b){var c=0,d;switch(typeof b){case "object":a.Q=b.Q.slice(0);break;case "number":a.Q=[b];a.normalize();break;case "string":b=b.replace(/^0x/,"");a.Q=[];d=a.Lb/4;for(c=0;c<b.length;c+=d)a.Q.push(parseInt(b.substring(Math.max(b.length-c-d,0),b.length-c),16));break;default:a.Q=[0]}}
Tf.prototype.Xp=1/(Tf.prototype.Rw=Math.pow(2,Tf.prototype.Lb));Tf.prototype.$q=(1<<Tf.prototype.Lb)-1;
function Zf(a,b){function c(a){Uf(this,a)}var d=c.prototype=new Tf,f,g;f=d.Zm=Math.ceil(g=a/d.Lb);d.Ss=a;d.offset=[];d.jp=[];d.nk=f;d.Vl=0;d.vh=[];d.rp=[];d.Pd=c.Pd=new Tf(Math.pow(2,a));d.Vl=0|-Math.pow(2,a%d.Lb);for(f=0;f<b.length;f++)d.offset[f]=Math.floor(b[f][0]/d.Lb-g),d.vh[f]=Math.ceil(b[f][0]/d.Lb-g),d.jp[f]=b[f][1]*Math.pow(0.5,a-b[f][0]+d.offset[f]*d.Lb),d.rp[f]=b[f][1]*Math.pow(0.5,a-b[f][0]+d.vh[f]*d.Lb),Wf(d.Pd,new Tf(Math.pow(2,b[f][0])*b[f][1])),d.nk=Math.min(d.nk,-d.offset[f]);d.Bd=
c;Xf(d.Pd);d.reduce=function(){var a,b,c,d=this.Zm,f=this.Q,g=this.offset,x=this.offset.length,D=this.jp,Q;for(a=this.nk;f.length>d;){c=f.pop();Q=f.length;for(b=0;b<x;b++)f[Q+g[b]]-=D[b]*c;a--;a||(f.push(0),Xf(this),a=this.nk)}Xf(this);return this};d.Eo=-1===d.Vl?d.reduce:function(){var a=this.Q,b=a.length-1,c,d;this.reduce();if(b===this.Zm-1){d=a[b]&this.Vl;a[b]-=d;for(c=0;c<this.vh.length;c++)a[b+this.vh[c]]-=this.rp[c]*d;this.normalize()}};d.wh=function(){var a,b;this.Eo();Wf(this,this.Pd);Wf(this,
this.Pd);this.normalize();this.Eo();for(b=this.Q.length;b<this.Zm;b++)this.Q[b]=0;a=this.Pd;"number"===typeof a&&(a=new this.Bd(a));var c=b=0,d,f,g;for(d=Math.max(this.Q.length,a.Q.length)-1;0<=d;d--)f=Vf(this,d),g=Vf(a,d),c|=g-f&~b,b|=f-g&~c;a=(c|~b)>>>31;for(b=0;b<this.Q.length;b++)this.Q[b]-=this.Pd.Q[b]*a;Xf(this);return this};d.inverse=function(){var a=this.Pd.sub(2);"number"===typeof a?a=[a]:void 0!==a.Q&&(a=a.normalize().Q);var b,c,d=new this.Bd(1),f=this;for(b=0;b<a.length;b++)for(c=0;c<this.Lb;c++)a[b]&
1<<c&&(d=Yf(d,f)),f=Yf(f,f);return d};c.Ul=function(a){var b=c,b=b||Tf,d=new b,f=[],g=b.prototype,b=Math.min(b.xs||4294967296,kf(a)),r=b%g.Lb||g.Lb;for(f[0]=hf(a,0,r);r<b;r+=g.Lb)f.unshift(hf(a,r,g.Lb));d.Q=f;return d};return c}Zf(127,[[0,-1]]);Zf(255,[[0,-19]]);var $f=Zf(192,[[0,-1],[64,-1]]),ag=Zf(224,[[0,1],[96,-1]]),bg=Zf(256,[[0,-1],[96,1],[192,1],[224,-1]]),cg=Zf(384,[[0,-1],[32,1],[96,-1],[128,-1]]);Zf(521,[[0,-1]]);function dg(a,b,c){void 0===b?this.Yt=!0:(this.x=b,this.y=c,this.Yt=!1);this.$o=a}dg.prototype={Yj:function(){return Yf(this.y,this.y).Nl(this.$o.ws.add(Yf(this.x,this.$o.ms.add(Yf(this.x,this.x)))))}};function eg(a,b,c,d,f,g){this.field=a;this.Fy=a.prototype.Pd.sub(b);this.ms=new a(c);this.ws=new a(d);this.Jx=new dg(this,new a(f),new a(g))}
eg.prototype.Ul=function(a){var b=this.field.prototype.Ss+7&-8;a=new dg(this,this.field.Ul(ef(a,0,b)),this.field.Ul(ef(a,b,2*b)));if(!a.Yj())throw new $e("not on the curve!");return a};new eg($f,"0x662107c8eb94364e4b2dd7ce",-3,"0x64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1","0x188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012","0x07192b95ffc8da78631011ed6b24cdd573f977a11e794811");
new eg(ag,"0xe95c1f470fc1ec22d6baa3a3d5c4",-3,"0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4","0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21","0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34");new eg(bg,"0x4319055358e8617b0c46353d039cdaae",-3,"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b","0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296","0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5");
new eg(cg,"0x389cb27e0bc8d21fa7e5f24cb74f58851313e696333ad68c",-3,"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef","0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7","0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f");function fg(){0!=gg&&(this.ay=Error().stack,hg[na(this)]=this)}var gg=0,hg={};fg.prototype.Fc=!1;fg.prototype.A=function(){if(!this.Fc&&(this.Fc=!0,this.h(),0!=gg)){var a=na(this);delete hg[a]}};function ig(a,b){a.ki||(a.ki=[]);a.ki.push(v(b,void 0))}fg.prototype.h=function(){if(this.ki)for(;this.ki.length;)this.ki.shift()()};function jg(a){a&&"function"==typeof a.A&&a.A()};var kg=!A||Pb(9),lg=!A||Pb(9),ng=A&&!E("9"),og=!C||E("528"),pg=B&&E("1.9b")||A&&E("8")||Db&&E("9.5")||C&&E("528"),qg=B&&!E("8")||A&&!E("9");function rg(a,b){this.type=a;this.currentTarget=this.target=b}n=rg.prototype;n.h=ba();n.A=ba();n.ze=!1;n.defaultPrevented=!1;n.lr=!0;n.stopPropagation=function(){this.ze=!0};n.preventDefault=function(){this.defaultPrevented=!0;this.lr=!1};function sg(a){a.preventDefault()};function tg(a){tg[" "](a);return a}tg[" "]=fa;function ug(a,b){a&&this.ne(a,b)}y(ug,rg);var vg=[1,4,2];n=ug.prototype;n.target=null;n.relatedTarget=null;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.An=!1;n.oc=null;
n.ne=function(a,b){var c=this.type=a.type;rg.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(B){var f;a:{try{tg(d.nodeName);f=!0;break a}catch(g){}f=!1}f||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=C||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=C||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.An=yb?a.metaKey:a.ctrlKey;this.state=a.state;this.oc=a;a.defaultPrevented&&this.preventDefault();delete this.ze};function wg(a){return(kg?0==a.oc.button:"click"==a.type?!0:!!(a.oc.button&vg[0]))&&!(C&&yb&&a.ctrlKey)}
n.stopPropagation=function(){ug.c.stopPropagation.call(this);this.oc.stopPropagation?this.oc.stopPropagation():this.oc.cancelBubble=!0};n.preventDefault=function(){ug.c.preventDefault.call(this);var a=this.oc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ng)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.h=ba();var xg="closure_listenable_"+(1E6*Math.random()|0);function yg(a){return!(!a||!a[xg])}var zg=0;function Ag(a,b,c,d,f,g){this.kd=a;this.Xq=b;this.src=c;this.type=d;this.capture=!!f;this.mf=g;this.key=++zg;this.Vd=this.Zf=!1}function Bg(a){a.Vd=!0;a.kd=null;a.Xq=null;a.src=null;a.mf=null};var Cg={},Dg={},Eg={},Fg={};function Gg(a,b,c,d,f){if(ia(b)){for(var g=0;g<b.length;g++)Gg(a,b[g],c,d,f);return null}c=Hg(c);return yg(a)?a.e(b,c,d,f):Ig(a,b,c,!1,d,f)}
function Ig(a,b,c,d,f,g){if(!b)throw Error("Invalid event type");f=!!f;var h=Dg;b in h||(h[b]={M:0});h=h[b];f in h||(h[f]={M:0},h.M++);var h=h[f],k=na(a),m;if(h[k]){m=h[k];for(var p=0;p<m.length;p++)if(h=m[p],h.kd==c&&h.mf==g){if(h.Vd)break;d||(m[p].Zf=!1);return m[p]}}else m=h[k]=[],h.M++;p=Jg();h=new Ag(c,p,a,b,f,g);h.Zf=d;p.src=a;p.kd=h;m.push(h);Eg[k]||(Eg[k]=[]);Eg[k].push(h);a.addEventListener?a.addEventListener(b,p,f):a.attachEvent(b in Fg?Fg[b]:Fg[b]="on"+b,p);return Cg[h.key]=h}
function Jg(){var a=Kg,b=lg?function(c){return a.call(b.src,b.kd,c)}:function(c){c=a.call(b.src,b.kd,c);if(!c)return c};return b}function Lg(a,b,c,d,f){if(ia(b)){for(var g=0;g<b.length;g++)Lg(a,b[g],c,d,f);return null}c=Hg(c);return yg(a)?a.fk(b,c,d,f):Ig(a,b,c,!0,d,f)}function Mg(a,b,c,d,f){if(ia(b))for(var g=0;g<b.length;g++)Mg(a,b[g],c,d,f);else if(c=Hg(c),yg(a))a.nb(b,c,d,f);else if(d=!!d,a=Ng(a,b,d))for(g=0;g<a.length;g++)if(a[g].kd==c&&a[g].capture==d&&a[g].mf==f){Og(a[g]);break}}
function Og(a){if(ka(a)||!a||a.Vd)return!1;var b=a.src;if(yg(b))return Pg(b.Gc,a);var c=a.type,d=a.Xq,f=a.capture;b.removeEventListener?b.removeEventListener(c,d,f):b.detachEvent&&b.detachEvent(c in Fg?Fg[c]:Fg[c]="on"+c,d);b=na(b);Eg[b]&&(d=Eg[b],kb(d,a),0==d.length&&delete Eg[b]);Bg(a);if(d=Dg[c][f][b])kb(d,a),0==d.length&&(delete Dg[c][f][b],Dg[c][f].M--),0==Dg[c][f].M&&(delete Dg[c][f],Dg[c].M--),0==Dg[c].M&&delete Dg[c];delete Cg[a.key];return!0}
function Qg(a){var b=0;if(null!=a)if(a&&yg(a))a.Gc&&a.Gc.qd(void 0);else{if(a=na(a),Eg[a]){a=Eg[a];for(var c=a.length-1;0<=c;c--)Og(a[c]),b++}}else fc(Cg,function(a){Og(a);b++})}function Ng(a,b,c){var d=Dg;return b in d&&(d=d[b],c in d&&(d=d[c],a=na(a),d[a]))?d[a]:null}function Rg(a,b,c){var d=1;b=na(b);if(a[b])for(a=nb(a[b]),b=0;b<a.length;b++){var f=a[b];f&&!f.Vd&&(d&=!1!==Sg(f,c))}return Boolean(d)}function Sg(a,b){var c=a.kd,d=a.mf||a.src;a.Zf&&Og(a);return c.call(d,b)}
function Kg(a,b){if(a.Vd)return!0;var c=a.type,d=Dg;if(!(c in d))return!0;var d=d[c],f,g;if(!lg){f=b||ea("window.event");var c=!0 in d,h=!1 in d;if(c){if(0>f.keyCode||void 0!=f.returnValue)return!0;a:{var k=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(m){k=!0}if(k||void 0==f.returnValue)f.returnValue=!0}}k=new ug;k.ne(f,this);f=!0;try{if(c){for(var p=[],s=k.currentTarget;s;s=s.parentNode)p.push(s);g=d[!0];for(var r=p.length-1;!k.ze&&0<=r;r--)k.currentTarget=p[r],f&=Rg(g,p[r],k);if(h)for(g=d[!1],
r=0;!k.ze&&r<p.length;r++)k.currentTarget=p[r],f&=Rg(g,p[r],k)}else f=Sg(a,k)}finally{p&&(p.length=0)}return f}d=new ug(b,this);return f=Sg(a,d)}var Tg="__closure_events_fn_"+(1E9*Math.random()>>>0);function Hg(a){return la(a)?a:a[Tg]||(a[Tg]=function(b){return a.handleEvent(b)})};function Ug(a){this.src=a;this.Ub={};this.bl=0}Ug.prototype.add=function(a,b,c,d,f){var g=this.Ub[a];g||(g=this.Ub[a]=[],this.bl++);var h=Vg(g,b,d,f);-1<h?(a=g[h],c||(a.Zf=!1)):(a=new Ag(b,null,this.src,a,!!d,f),a.Zf=c,g.push(a));return a};Ug.prototype.remove=function(a,b,c,d){if(!(a in this.Ub))return!1;var f=this.Ub[a];b=Vg(f,b,c,d);return-1<b?(Bg(f[b]),lb(f,b),0==f.length&&(delete this.Ub[a],this.bl--),!0):!1};
function Pg(a,b){var c=b.type;if(!(c in a.Ub))return!1;var d=kb(a.Ub[c],b);d&&(Bg(b),0==a.Ub[c].length&&(delete a.Ub[c],a.bl--));return d}Ug.prototype.qd=function(a){var b=0,c;for(c in this.Ub)if(!a||c==a){for(var d=this.Ub[c],f=0;f<d.length;f++)++b,d[f].Vd=!0;delete this.Ub[c];this.bl--}return b};Ug.prototype.cm=function(a,b,c,d){a=this.Ub[a];var f=-1;a&&(f=Vg(a,b,c,d));return-1<f?a[f]:null};
function Vg(a,b,c,d){for(var f=0;f<a.length;++f){var g=a[f];if(!g.Vd&&g.kd==b&&g.capture==!!c&&g.mf==d)return f}return-1};function M(){fg.call(this);this.Gc=new Ug(this);this.ns=this}y(M,fg);M.prototype[xg]=!0;n=M.prototype;n.xe=null;n.xb=ca("xe");n.addEventListener=function(a,b,c,d){Gg(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Mg(this,a,b,c,d)};
n.dispatchEvent=function(a){var b,c=this.xe;if(c)for(b=[];c;c=c.xe)b.push(c);var c=this.ns,d=a.type||a;if(u(a))a=new rg(a,c);else if(a instanceof rg)a.target=a.target||c;else{var f=a;a=new rg(d,c);oc(a,f)}var f=!0,g;if(b)for(var h=b.length-1;!a.ze&&0<=h;h--)g=a.currentTarget=b[h],f=Wg(g,d,!0,a)&&f;a.ze||(g=a.currentTarget=c,f=Wg(g,d,!0,a)&&f,a.ze||(f=Wg(g,d,!1,a)&&f));if(b)for(h=0;!a.ze&&h<b.length;h++)g=a.currentTarget=b[h],f=Wg(g,d,!1,a)&&f;return f};
n.h=function(){M.c.h.call(this);this.Gc&&this.Gc.qd(void 0);this.xe=null};n.e=function(a,b,c,d){return this.Gc.add(a,b,!1,c,d)};n.fk=function(a,b,c,d){return this.Gc.add(a,b,!0,c,d)};n.nb=function(a,b,c,d){return this.Gc.remove(a,b,c,d)};function Wg(a,b,c,d){b=a.Gc.Ub[b];if(!b)return!0;b=nb(b);for(var f=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.Vd&&h.capture==c){var k=h.kd,m=h.mf||h.src;h.Zf&&Pg(a.Gc,h);f=!1!==k.call(m,d)&&f}}return f&&!1!=d.lr}n.cm=function(a,b,c,d){return this.Gc.cm(a,b,c,d)};function Xg(a,b){M.call(this);this.Qh=a||1;this.Qg=b||q;this.xl=v(this.xx,this);this.Sm=ta()}y(Xg,M);n=Xg.prototype;n.enabled=!1;n.$=null;n.setInterval=function(a){this.Qh=a;this.$&&this.enabled?(this.stop(),this.start()):this.$&&this.stop()};n.xx=function(){if(this.enabled){var a=ta()-this.Sm;0<a&&a<0.8*this.Qh?this.$=this.Qg.setTimeout(this.xl,this.Qh-a):(this.$&&(this.Qg.clearTimeout(this.$),this.$=null),this.dispatchEvent(Yg),this.enabled&&(this.$=this.Qg.setTimeout(this.xl,this.Qh),this.Sm=ta()))}};
n.start=function(){this.enabled=!0;this.$||(this.$=this.Qg.setTimeout(this.xl,this.Qh),this.Sm=ta())};n.stop=function(){this.enabled=!1;this.$&&(this.Qg.clearTimeout(this.$),this.$=null)};n.h=function(){Xg.c.h.call(this);this.stop();delete this.Qg};var Yg="tick";function G(a,b,c){if(la(a))c&&(a=v(a,c));else if(a&&"function"==typeof a.handleEvent)a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:q.setTimeout(a,b||0)}function Zg(a){q.clearTimeout(a)};function $g(a,b){b&&(a=v(a,b));ah.push(a);bh()}var ah=[],ch=[];function dh(){for(;ch.length;)ch.pop().ga()}function eh(){try{dh();for(var a,b=0;b<ah.length;++b)try{a=!0,ah[b](),a=!1}finally{dh(),a&&ah.splice(0,b+1)}ah.length=0}finally{0<ch.length+ah.length&&G(eh,0)}}function bh(){1===ch.length+ah.length&&G(eh,0)}Gg(window,"focus",eh);function fh(a){return function(){return a}}var gh=fh(!1);function hh(a){return function(){throw a;}};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function ih(a,b){this.Mk=[];this.uq=a;this.ap=b||null}n=ih.prototype;n.Ic=!1;n.Jh=!1;n.wl=!1;n.zs=!1;n.$n=!1;n.yl=0;n.cancel=function(a){if(this.Ic)this.wi instanceof ih&&this.wi.cancel();else{if(this.ra){var b=this.ra;delete this.ra;a?b.cancel(a):(b.yl--,0>=b.yl&&b.cancel())}this.uq?this.uq.call(this.ap,this):this.$n=!0;this.Ic||this.pa(new jh(this))}};n.So=function(a,b){this.wl=!1;kh(this,a,b)};function kh(a,b,c){a.Ic=!0;a.wi=c;a.Jh=!b;lh(a)}
n.Dc=function(){if(this.Ic){if(!this.$n)throw new mh(this);this.$n=!1}};n.ca=function(a){this.Dc();kh(this,!0,a)};n.pa=function(a){this.Dc();kh(this,!1,a)};n.Uf=function(a,b){return nh(this,a,null,b)};n.ml=function(a,b){return nh(this,null,a,b)};n.os=function(a,b){return nh(this,a,a,b)};function nh(a,b,c,d){a.Mk.push([b,c,d]);a.Ic&&lh(a);return a}function oh(a){return cb(a.Mk,function(a){return la(a[1])})}
function lh(a){a.no&&(a.Ic&&oh(a))&&(q.clearTimeout(a.no),delete a.no);a.ra&&(a.ra.yl--,delete a.ra);for(var b=a.wi,c=!1,d=!1;a.Mk.length&&!a.wl;){var f=a.Mk.shift(),g=f[0],h=f[1],f=f[2];if(g=a.Jh?h:g)try{var k=g.call(f||a.ap,b);t(k)&&(a.Jh=a.Jh&&(k==b||k instanceof Error),a.wi=b=k);b instanceof ih&&(d=!0,a.wl=!0)}catch(m){b=m,a.Jh=!0,oh(a)||(c=!0)}}a.wi=b;d&&(nh(b,v(a.So,a,!0),v(a.So,a,!1)),b.zs=!0);c&&(a.no=q.setTimeout(hh(b),0))}function ph(a){var b=new ih;b.ca(a);return b}
function mh(a){va.call(this);this.Ls=a}y(mh,va);mh.prototype.message="Deferred has already fired";mh.prototype.name="AlreadyCalledError";function jh(a){va.call(this);this.Ls=a}y(jh,va);jh.prototype.message="Deferred was canceled";jh.prototype.name="CanceledError";function qh(a,b,c,d,f,g){ih.call(this,f,g);this.Um=a;this.Il=[];this.lp=!!b;this.Vs=!!c;this.Fs=!!d;for(b=this.sq=0;b<a.length;b++)nh(a[b],v(this.Bp,this,b,!0),v(this.Bp,this,b,!1));0!=a.length||this.lp||this.ca(this.Il)}y(qh,ih);qh.prototype.Bp=function(a,b,c){this.sq++;this.Il[a]=[b,c];this.Ic||(this.lp&&b?this.ca([a,c]):this.Vs&&!b?this.pa(c):this.sq==this.Um.length&&this.ca(this.Il));this.Fs&&!b&&(c=null);return c};qh.prototype.pa=function(a){qh.c.pa.call(this,a);for(a=0;a<this.Um.length;a++)this.Um[a].cancel()};function rh(a){if(1===arguments.length)return new F(a);var b=[];z(arguments,function(a){b.push(a instanceof ih?a:ph(a))});return new sh(b)}function th(a){u(a)&&(a=new L(a));var b=new F;b.pa(a);return b}function F(a){ih.call(this);t(a)&&(a instanceof ih?nh(a,this.ca,this.pa,this):this.ca(a))}y(F,ih);function uh(a,b,c){var d,f=b.length,g;1<f&&(g=b[f-1],"object"!=typeof g||(null==g||ia(g))||(d=g,b=2===f?b[0]:qb(b,0,f-1)));vh(a,b,c,d);return a}
function vh(a,b,c,d){var f=d||null;b&&(ja(b)?z(b,function(a){vh(this,a,c,f)},a):c.call(a,wh(b,f),f))}function wh(a,b){return 1>=a.length?a:function(c){if(ia(c)){var d=[];z(c,function(a){d.push(a[1])});return a.apply(b,d)}return a.call(b,c)}}F.prototype.Vk=function(a,b,c){vh(this,a,ih.prototype.Uf,c);vh(this,b,ih.prototype.ml,c);return this};F.prototype.Ue=function(a,b){return uh(this,arguments,ih.prototype.os)};F.prototype.n=function(a,b){return uh(this,arguments,ih.prototype.Uf)};
F.prototype.Ib=function(a,b){return uh(this,arguments,ih.prototype.ml)};function sh(a){F.call(this,new qh(a,!1,!0))}y(sh,F);function N(a,b,c){rg.call(this,a,b);c&&oc(this,c);b&&la(b.m)&&(a=b.m(!0))&&(this.session=a)}y(N,rg);Nd("event",N);N.prototype.Da=function(){var a={},b;for(b in this)this.hasOwnProperty(b)&&"currentTarget"!==b&&(a[b]=this[b]);return a};N.prototype.toString=function(){return Xd(this.Da())};function xh(a,b,c,d){N.call(this,a,b);this.stream=c;this.reason=d||null}y(xh,N);function yh(a){fg.call(this);this.ec=a;this.va={}}y(yh,fg);var zh=[];n=yh.prototype;n.e=function(a,b,c,d,f){ia(b)||(zh[0]=b,b=zh);for(var g=0;g<b.length;g++){var h=Gg(a,b[g],c||this,d||!1,f||this.ec||this);this.va[h.key]=h}return this};n.fk=function(a,b,c,d,f){if(ia(b))for(var g=0;g<b.length;g++)this.fk(a,b[g],c,d,f);else a=Lg(a,b,c||this,d,f||this.ec||this),this.va[a.key]=a;return this};
n.nb=function(a,b,c,d,f){if(ia(b))for(var g=0;g<b.length;g++)this.nb(a,b[g],c,d,f);else{a:if(f=f||this.ec||this,d=!!d,c=Hg(c||this),yg(a))a=a.cm(b,c,d,f);else{if(a=Ng(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Vd&&a[b].kd==c&&a[b].capture==d&&a[b].mf==f){a=a[b];break a}a=null}a&&(Og(a),delete this.va[a.key])}return this};n.qd=function(){fc(this.va,Og);this.va={}};n.h=function(){yh.c.h.call(this);this.qd()};n.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Ah(a){N.call(this,"error");this.error=a}y(Ah,N);Ah.prototype.getError=e("error");function Bh(a,b){N.call(this,a,b)}y(Bh,N);Bh.prototype.N=e("target");function Ch(a,b,c,d,f){N.call(this,a,b);this.key=c;this.val=d;this.oldVal=f}y(Ch,Bh);Ch.prototype.getKey=e("key");Ch.prototype.Y=e("val");function Dh(a,b,c,d){N.call(this,a,b);this.item=c;this.index=d}y(Dh,N);Dh.prototype.N=e("item");function O(a,b){M.call(this);a&&this.xb(a);b&&(this.wb=b);this.Hj=new yc}y(O,M);O.prototype.F=null;Gd("eventTarget",O);var Eh=/\s+/;n=O.prototype;n.vs=!1;n.wb=!1;n.yf=null;n.pd=null;n.vb="";n.O=null;n.h=function(){this.wb=!1;this.pd=this.yf=null;this.O&&(this.O.A(),this.O=null);O.c.h.call(this)};n.w=function(){return this.O||(this.O=new yh(this))};n.toString=function(){return Xd(this)};n.g=e("vb");
n.za=function(a,b){var c=t(a)?a:!0,d=t(b)?b:!0;this.wb!==c&&(c?(c=this.xe)&&!c.wb?Lg(c,"ready",this.za,!1,this):this.hc(d):(this.wb=!1,d&&this.dispatchEvent("unready")))};n.hc=function(a){this.wb=!0;a&&(this.dispatchEvent("ready"),this.dispatchEvent("ready:"+Hd(this),null,!0));this.yf&&(z(this.yf,function(a){this.dispatchEvent(a)},this),this.yf=null)};n.dispatchEvent=function(a,b,c){return this.wb||this.vs?this.pj(a,b,c):(this.yf=this.yf||[],this.yf.push(a),!0)};
function Fh(a,b,c,d,f){b=new Ch("change:"+b,a,b,d,c);a.dispatchEvent(b,null,!0);b.type="change";a.dispatchEvent(b,null,f)}function Gh(a,b,c){a.dispatchEvent("exitState:"+b);a.dispatchEvent("enterState:"+c)}n.pj=function(a,b,c){a.type||(a=new N(String(a),this,b));!c&&Rc.value>=Uc(this.F).value&&Vc(this.F,"\x3c\x3c"+Xd(a,!1)+"\x3e\x3e");c=M.prototype.dispatchEvent.call(this,a);if(this.pd)for(var d=this.pd,f=0;!1!==c&&f<d.length;++f)c=d[f].dispatchEvent(a,b,!0);return c};
n.error=function(a,b){u(a)&&(a=new L(a,b));this.F.log(Nc,b||a.message||"ERROR",a);this.dispatchEvent(new Ah(a));return a};function Hh(a,b,c,d){d||(d=a);return b+"__"+na(c)+"__"+na(d)}function Ih(a,b,c,d){b=Hh(a,b,c,d);var f=a.Hj.get(b,null);f||(f=function(a){try{c.call(d||this,a)}catch(b){this.F.log(Nc,(b.message||"ERROR")+"\n"+b.stack,void 0)}},a.Hj.set(b,f));return f}n.on=function(a,b,c){return Jh(this,a,b,c,!0)};
function Jh(a,b,c,d,f){var g;z(b.split(Eh),function(a){g=f?Ih(this,a,c,d):c;this.addEventListener(a,g,!1,d)},a);return a}n.fn=function(a,b,c){return Kh(this,a,b,c,!0)};function Kh(a,b,c,d,f){var g;z(b.split(Eh),function(a){var b;if(f){b=Hh(this,a,c,d);var m=this.Hj.get(b,null);m&&this.Hj.remove(b);b=m}else b=c;g=b;null!=g&&this.removeEventListener(a,g,!1,d)},a);return a}n.un=function(a,b,c){return Lh(this,a,b,c,!0)};
function Lh(a,b,c,d,f){var g;z(b.split(Eh),function(a){g=f?Ih(this,b,c,d):c;Lg(this,a,g,!1,d)},a);return a}function Mh(a,b){a.pd=a.pd?nb(a.pd):[];ib(a.pd,b)}n.f=function(a,b){if(Rc.value>=Uc(this.F).value){var c;c=2===arguments.length?b:pc.apply(null,qb(arguments,1));var d=Xd(this.toString());c=Xd(c,!1);Vc(this.F,a+"\x3c"+d+"\x3e("+c+")")}};
n.Fm=function(a,b){if(Pc.value>=Uc(this.F).value){var c;c=2===arguments.length?b:pc.apply(null,qb(arguments,1));var d=Xd(this.toString());c=Xd(c,!1);this.F.info(a+"\x3c"+d+"\x3e("+c+")")}};function Nh(a){O.call(this);this.T=a||null;this.Qc=void 0;this.Df=1}y(Nh,O);n=Nh.prototype;n.T=null;n.bj=!1;n.toString=function(){return this.j()};n.Ia=function(){this.Df++;return this};n.ga=function(){0===--this.Df&&this.A()};n.pb=function(){ch.push(this);bh();return this};function P(a,b){var c=a.get(b);return null!=c?String(c):""}function Oh(a,b){var c=a.get(b);return c?Number(c):0}function Ph(a,b){var c=a.get(b);return u(c)?"true"===c.toLowerCase()?!0:!1:Boolean(c)}
n.j=function(){return this.Qc||""};n.m=function(a){var b=this.T&&this.T.m();if(!b&&!a)throw new L("ILLEGAL_STATE","Object not in cache.");return b};n.h=function(){this.Qc=void 0;this.T&&(this.T=null);Nh.c.h.call(this)};n.Qu=function(){(this.bj=!1)||this.vq();this.ga()};n.vq=ba();function H(a,b,c,d){Nh.call(this);this.oa={};this.Sa=this.xa=null;c&&this.set(c);a&&this.Je(a);b&&this.Xb(b);(a=d)||(a=Ld(Rd,this.oa,null,null,this));a&&(this.Fa=a)}y(H,Nh);n=H.prototype;n.Fa=null;n.Wq=null;n.Xc=null;n.ja=0;n.zd=0;
n.h=function(){this.Fa&&la(this.Fa.A)&&this.Fa.A();if(this.T){if(this.ja&7){var a=this.m(!0);if(a){var b=this.j();a.lk?new F(b):a.be("unsubscribe",b,b)}this.ja=0}this.za(!1,!1);Qh(this);Rh(this.T,this.Qc);this.T=null;this.zd=0}for(var c in this.xa)a=this.xa[c],this.xa.hasOwnProperty(c)&&a instanceof Nh&&a.ga();this.xa=this.oa=null;this.Bs&&(this.Bs=null);this.Fa&&(this.Fa=null);H.c.h.call(this)};n.Da=function(){var a={};this.forEach(function(b,c){a[c]=Td(b)});"path"in a&&delete a.id;return a};
n.valueOf=function(){return this.oa||this.xa};function Sh(a,b){b!==a.Wq&&(a.Wq=b,b.xa||(b.xa={}),a.oa=Cd(b.oa,a.oa),a.xa=Cd(b.xa,a.xa),a.w().e(b,"change",a.Qv,!1,a))}n.pj=function(a,b,c){c=H.c.pj.call(this,a,b,c);this.Fa instanceof O&&(u(a)||(a.target=this.Fa),this.Fa.pj(a,b,!0));return c};n.remove=function(){return 512===(this.ja&512)?new F(this.j()):this.m().remove(this.j())};n.od=function(a){return this.m().od(this.j(),a)};n.Gb=function(a){return this.m().Gb(this.j(),a)};
n.forEach=function(a,b){var c=b||this,d;for(d in this.oa)a.call(c,this.get(d),d)};function Th(a){var b={},c;for(c in a.Sa)if(2===a.Sa[c]){var d=a.get(c);b[c]=null!=d?d:null}return b}n.getParent=function(){var a=this.xe;return a instanceof H?a:null};n.get=function(a){return this.Eh(a)||this.oa[a]};function Uh(a,b,c){Vh(a,c,b.get(c));a.w().e(b,"change:"+c,a.Lu)}n.Lu=function(a){Vh(this,a.getKey(),a.Y())};n.set=function(a,b,c){if(ma(a))for(var d in a)Vh(this,d,a[d],!!b);else Vh(this,a,b,c);return this};
function Wh(a,b,c){b=t(b)?b:1;var d=Oh(a,"sessionCount"),d=isNaN(d)?b:d+b;Vh(a,"sessionCount",d,c)}n.V=function(){return this.oa.type||"entity"};n.Je=function(a){var b=this.oa.type;if(b&&a!==b)throw this.error(Ze("type",a));"entity"!==a&&Xh(this,"type",a);return this};n.Xb=function(a){R(this,"id",a.substr(a.lastIndexOf("/")+1));return Xh(this,"path",a)};n.j=function(){return this.Qc||this.oa.path||this.g()||""};
n.ib=function(a){if("path"in this.oa){var b;b=this.j()||"/";b=Yh(Zh(b),a);Xh(this,"path",b)}return Xh(this,"id",a)};n.g=function(){return this.oa.id};n.Pn=function(a){return Xh(this,"displayName",a)};n.Jd=function(){return this.oa.displayName||this.g()};n.yj=function(){return this.oa.iss};n.$l=function(){return this.oa.iat};n.zp=function(){return this.oa.seq};n.mx=function(a){return R(this,"seq",Number(a),!0)};
n.hc=function(a){H.c.hc.call(this,a);0===this.zd&&(this.zd=1);for(var b in this.xa)this.xa.hasOwnProperty(b)&&this.xa[b].za(!0,a);this.Fa&&this.Fa instanceof O&&this.Fa.za(!0,a)};n.nl=function(a,b){this.T=a;this.Qc=this.j();a.m()&&(this.zd=2);var c=this.j();$h(this.T,this.j(),v(function(a){var b=a.getParent();(!b||b.j().length<c.length)&&a.xb(this)},this));var d=ai(this.T,this.j());this.Tn(d);b&&bi(this,b,{props:this.oa})};
function bi(a,b,c){var d=new Bh(b,a);a.dispatchEvent(d,c);c=a.V();"entity"!==c&&(d.type=b+":"+c,a.dispatchEvent(d,null,!0))}n.Eh=function(a){return this.xa&&this.xa[a]};function Vh(a,b,c,d){Wd(a,b,c)||R(a,b,c,d)}function Xh(a,b,c){return R(a,b,String(c),void 0)}
function R(a,b,c,d){var f=a.get(b);if(f===c)return a;var g;a.xa&&a.xa.hasOwnProperty(b)&&(g=a.xa[b],a.w().nb(g,"change",a.Lq),delete a.xa[b]);t(c)?ma(c)&&(c instanceof ci||c instanceof Nh)?(a.xa||(a.xa={}),a.w().e(c,"change",a.Lq,!1,a),a.xa[b]=c.Ia(),a.oa[b]=c.valueOf()):a.oa[b]=c:a.oa.hasOwnProperty(b)&&delete a.oa[b];!d&&(2<=a.zd&&!/(^_)|(_$)|(^id$)/.test(b))&&(a.Sa||(a.Sa={}),a.Sa[b]=a.zd,a.bj||(a.Ia(),a.bj=!0,$g(a.Qu,a)));a.Fa&&Wd(a.Fa,b,c,!0);!d&&a.wb&&Fh(a,b,f,c);g&&g.ga();return a}
function Qh(a){var b=a.xe;$h(a.T,a.j(),v(function(a){a.xe===this&&a.xb(b)},a));a.xb(null)}n.Tn=function(a){this.xb(a);this.za(!0,!1)};n.Cg=function(){this.ja|=512;bi(this,"remove")};n.vq=function(){var a=ic(this.Sa,3);ic(this.Sa,2)&&!a&&di(this);for(var b in this.Sa)1===this.Sa[b]&&delete this.Sa[b]};function di(a){var b=a.m(!0);b&&b.put(a.j(),Th(a))}
function ei(a,b){var c=a.zd;c&&(a.zd=1);try{var d=a.zp(),f=b.seq;if(!(d&&f&&f<=d)){var g=mc(a.Sa);g.iat="iat"in a.oa;for(var h in b)b.hasOwnProperty(h)&&!g[h]&&Vh(a,h,b[h])}}finally{a.zd=c}512===(a.ja&512)&&(a.ja&=-513,bi(a,"add"))}n.Qv=function(a){this.wb&&(this!=a.target&&!this.oa.hasOwnProperty(a.getKey()))&&(this.dispatchEvent(a,null,!0),a.type="change:"+a.getKey(),this.dispatchEvent(a,null,!0),a.type="change")};
n.Lq=function(a){if(this.wb)for(var b in this.xa)if(this.xa.hasOwnProperty(b)&&this!==a.target&&this.get(b)===a.target){Fh(this,b+"."+a.getKey(),a.oldVal,a.Y(),!0);break}};Sd("entity",H,["type","path","$props"],"id",H.prototype.ib,"type",H.prototype.Je,"seq",H.prototype.mx,"$*",H.prototype.set);Gd("entity",H);function ci(a,b){O.call(this,b);this.C=a;a.Fa=this}y(ci,O);n=ci.prototype;n.h=function(){this.C=null;ci.c.h.call(this)};n.Da=function(){return this.C.Da()};n.toString=function(){return this.C.toString()};n.valueOf=function(){return this.C.valueOf()};n.N=e("C");n.V=function(){return this.C.V()};n.j=function(){return this.C.j()};n.g=function(){return this.C.g()};n.m=function(a){return this.C.m(a)};n.da=function(){return this.m().da()};n.Ia=function(){this.C.Ia();return this};n.ga=function(){this.C.ga()};
n.pb=function(){this.C.pb();return this};function fi(a,b){if(b){var c=b.audio,d=b.video,c={audio:c};a.video&&(c.video=d);return c}var c=a.audio,d=a.video,f=640,g=480;d&&a.hd&&gi()&&(f=1280,g=720);return{audio:c?{optional:[{googEchoCancellation2:!0}]}:!1,video:d?{optional:[{minWidth:f},{minHeight:g},{googLeakyBucket:!0}]}:!1}};var hi,ii,ji,ki,li,mi,ni;ni=mi=li=ki=ji=ii=hi=!1;var oi=zb();oi&&(-1!=oi.indexOf("Firefox")?hi=!0:-1!=oi.indexOf("Camino")?ii=!0:-1!=oi.indexOf("iPhone")||-1!=oi.indexOf("iPod")?ji=!0:-1!=oi.indexOf("iPad")?ki=!0:-1!=oi.indexOf("Android")?li=!0:-1!=oi.indexOf("Chrome")?mi=!0:-1!=oi.indexOf("Safari")&&(ni=!0));var pi=hi,qi=ii,ri=ji,si=ki,ti=li,ui=mi,vi=ni;function wi(a){return(a=a.exec(zb()))?a[1]:""}var xi=function(){if(pi)return wi(/Firefox\/([0-9.]+)/);if(A||Db)return Ib;if(ui)return wi(/Chrome\/([0-9.]+)/);if(vi)return wi(/Version\/([0-9.]+)/);if(ri||si){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(zb());if(a)return a[1]+"."+a[2]}else{if(ti)return(a=wi(/Android\s+([0-9.]+)/))?a:wi(/Version\/([0-9.]+)/);if(qi)return wi(/Camino\/([0-9.]+)/)}return""}();function yi(a){return 0<=Va(xi,a)};function zi(){return Eb||ti}function Ai(a){C&&a.webkitCancelFullScreen?a.webkitCancelFullScreen():B&&a.mozCancelFullScreen?a.mozCancelFullScreen():a.cancelFullScreen&&a.cancelFullScreen()}function Bi(){return pi&&!yi(21)?!1:!(!window.webkitRTCPeerConnection&&!window.mozRTCPeerConnection)}function gi(){return ui&&yi("24")};var Ci="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");
function Di(a){a||(a=16);var b;b=Math.ceil(a/4);var c=[],d;d=rf(void 0);var f;if(d===yf)throw new cf("generator isn't seeded");if(d&Ff){d=!(d&Gf);f=[];var g=0,h;Ef=f[0]=(new Date).valueOf()+3E4;for(h=0;16>h;h++)f.push(4294967296*Math.random()|0);for(h=0;h<uf.length&&(f=f.concat(nf(uf[h])),g+=wf[h],wf[h]=0,d||!(Hf&1<<h));h++);Hf>=1<<uf.length&&(uf.push(new lf),wf.push(0));xf-=g;g>Af&&(Af=g);Hf++;If=mf(If.concat(f));Kf=new df(If);for(d=0;4>d&&(Jf[d]=Jf[d]+1|0,!Jf[d]);d++);}for(d=0;d<b;d+=4)0===(d+1)%
65536&&Of(),f=Nf(),c.push(f[0],f[1],f[2],f[3]);Of();b=c.slice(0,b);var c=new Ya,k;for(f=d=0;d<a;++d)0===d%4&&(k=b[f++]),c.append(Ci[(k&255)%Ci.length]),k>>=8;return c.toString()}
if(!rf()){var Ei,Fi=[];for(Ei=0;32>Ei;++Ei)Fi.push(Math.floor(8388607*Math.random()));pf(Fi,1024,"Math.random");if(!Lf){if(window.addEventListener)window.addEventListener("load",Qf,!1),window.addEventListener("mousemove",Pf,!1);else if(document.attachEvent)document.attachEvent("onload",Qf),document.attachEvent("onmousemove",Pf);else throw new bf("can't attach event");Lf=!0}};function Gi(a,b,c,d){O.call(this);this.fb=a;this.kk=b;this.vb=Di();this.Rg=null;this.Xj=this.eo=this.Ji=!1;this.ou=this.ih=0;this.$w=this.Zw=!1;this.ya=null;this.Sq="";this.Df=1;this.Vm=d||null;this.eb=c;this.Li=!0;this.fb.onended=v(this.bv,this);this.Fo();this.za()}y(Gi,O);Gd("mediaStream",Gi);n=Gi.prototype;n.h=function(){this.stop();this.Rg=this.fb=null;Gi.c.h.call(this)};n.Da=function(){return{id:this.g(),label:this.cd()}};n.nt=e("fb");
function Hi(a){return a.fb.getAudioTracks?a.fb.getAudioTracks():a.fb.audioTracks?a.fb.audioTracks:[]}function Ii(a){return a.fb.getVideoTracks?a.fb.getVideoTracks():a.fb.videoTracks?a.fb.videoTracks:[]}n.cd=function(){return this.fb.label};n.jm=function(){!this.Rg&&Ji&&(this.Rg=Ji.createObjectURL(this.fb));return this.Rg||""};n.kb=e("ya");n.Ba=e("kk");n.fu=function(){return!this.Ba()};n.gu=e("Ji");
n.stop=function(){this.f("stop");0===--this.Df&&(this.fb.stop&&this.fb.stop(),this.eb.removeStream(this),this.Ba()?this.Xn():this.eo=!0);return this};function Ki(a){return!!a&&0<a.length}n.Hp=function(){return Ki(Hi(this))};n.Jp=function(){return Ki(Ii(this))};n.Ij=function(){return this.Hp()};n.ke=function(){return this.Jp()};function Li(a){return cb(a,function(a){return a.enabled})}n.Uj=function(){return this.Ba()?!Li(Hi(this)):this.Zw};n.Mm=function(){return this.Ba()?!Li(Ii(this)):this.$w};
function Mi(a,b){z(a,function(a){a.enabled=b})}n.Lg=function(a){Mi(Hi(this),!a);a?this.dispatchEvent("mediaStream:audiomute"):this.dispatchEvent("mediaStream:audiounmute");return this};n.Ng=function(a){Mi(Ii(this),!a);a?this.dispatchEvent("mediaStream:videomute"):this.dispatchEvent("mediaStream:videounmute");return this};function Ni(a,b){a.Xj!==b&&(a.Xj=b,a.dispatchEvent(b?"speaking:start":"speaking:stop"))}
n.kh=function(a){(a=xe(a,{autoplay:"autoplay",src:this.jm()}))&&this.kk&&a.setAttribute("muted","muted");return a};n.Br=function(){this.Ji||(this.Ji=!0,this.dispatchEvent("mediaStream:start"))};n.Xn=function(){this.eo||(this.eo=!0,this.dispatchEvent("mediaStream:end"))};n.Xo=function(){return this.ke()?this.Yo():this.Uo()};n.Uo=function(){this.f("createAudioElement");this.Br();return this.kh("audio")};
n.Yo=function(){this.f("createVideoElement");var a=this.kh("video");a&&this.kk&&Oi(a);bd(a,this.Li?30:604800).Vk(this.Br,this.Xn,this);return a};n.Fo=function(){function a(a){a.onmute=b;a.onunmute=c;a.onresolutionchanged=d}var b=v(this.ww,this),c=v(this.xw,this),d=v(this.dw,this);z(Hi(this),a);z(Ii(this),a)};n.bv=function(){this.Xn()};n.dw=function(){this.dispatchEvent("mediaStreamTrack:videoresolutionchange")};n.ww=function(){this.dispatchEvent("mediaStreamTrack:mute")};n.xw=function(){this.dispatchEvent("mediaStreamTrack:unmute")};
function Pi(a,b,c,d){Gi.call(this,a,b,c,d)}y(Pi,Gi);n=Pi.prototype;n.cd=l("");n.kh=function(a){var b=xe(a,{controls:!1});b.mozSrcObject=this.fb;G(b.play,0,b);this.kk&&G(function(){b.muted=!0},0,this);return b};n.Fo=ba();n.Hp=l(!0);n.Jp=l(!0);function Qi(){H.call(this,"peerSession");R(this,"peerState","pending")}y(Qi,H);Sd("peerSession",Qi);Qi.prototype.he=function(){return P(this,"peerState")};function Ri(a,b){H.call(this,"config",null,a);b&&Sh(this,b)}y(Ri,H);function Si(a){var b=P(a,"apiServer");b||(b="prod"===a.get("env")?"/web/20131025084704/https://api.vline.com":"/web/20131025084704/https://api."+a.get("env")+".vline.com");return b}function Ti(a){return a.get("cssURL")?a.get("cssURL"):"prod"===a.get("env")?"/web/20131025084704/https://static.vline.com/vline.css":"/web/20131025084704/https://static."+a.get("env")+".vline.com/vline.css"}function Ui(a,b){if(!1===a.get(b))return!1;var c=!0===a.get(b);return c?c:!!a.get("ui")}
var S=new Ri({env:"prod",skipStun:!1,skipRelay:!1,skipLocal:!1,skipTcp:!1,autoBatch:!0,maxBackOff:12E4,connectTimeout:15E3,cometdLogLevel:"info",html5History:!0,autoConnect:!0,ui:!1,notify:!0});S.ds="ui";S.yo="uiOutgoingDialog";S.fs="uiIncomingDialog";S.es="uiBigGreenArrow";S.zo="uiVideoPanel";S.gs="uiLocalVideo";S.Nx="uiTransparentBackground";S.is="uiVideoPanelHideFullscreenButton";S.ks="uiVideoPanelShowTransferButton";S.Ox="uiVideoPanelHideTriggerDebugButton";S.js="uiVideoPanelShowTriggerDebugButton";
S.hs="uiVideoPanelControlsForceVisible";S.$r="autoAccept";S.Hx="autoAcceptAudio";S.xo="audioCodec";S.as="disableCN";S.cs="opusConstraints";S.bs="notify";S.Mx="notifyWeb";S.Lx="notifySound";var Vi,Wi=window.navigator.getUserMedia||window.navigator.webkitGetUserMedia||window.navigator.mozGetUserMedia;Vi=Wi?v(Wi,window.navigator):null;var Ji=window.webkitURL||window.mozURL||null,Xi=window.webkitRTCPeerConnection||window.mozRTCPeerConnection||null,Yi=window.RTCSessionDescription||window.mozRTCSessionDescription||null,Zi=window.RTCIceCandidate||window.mozRTCIceCandidate||null;pi&&(Yi=window.mozRTCSessionDescription,Zi=window.mozRTCIceCandidate);function $i(a,b,c,d,f){O.call(this);this.f("PeerConnection");this.vb=a;this.G=b;this.Z=[];this.Wb=[];this.Zb=null;this.vf=!1;c&&c.loopback&&(this.vf=!0);this.fj=!1;this.D=new Xi({iceServers:[{url:"stun:"+(P(this.G,"stunServer")||"stun."+this.G.get("env")+".vline.com")}]},this.vf?void 0:{optional:[{DtlsSrtpKeyAgreement:"true"}]});this.eb=d;this.Li=!0;t(f)&&(this.Li=f);t(this.D.onicecandidate)&&(this.D.onicecandidate=v(this.nv,this));t(this.D.onopen)&&(this.D.onopen=v(this.Jv,this));t(this.D.onstatechange)&&
(this.D.onstatechange=v(this.Iq,this));t(this.D.onsignalingstatechange)&&(this.D.onsignalingstatechange=v(this.Iq,this));t(this.D.onaddstream)&&(this.D.onaddstream=v(this.Gu,this));t(this.D.onremovestream)&&(this.D.onremovestream=v(this.aw,this));pi&&yi(24)||!t(this.D.onicechange)||(this.D.onicechange=v(this.zq,this));t(this.D.oniceconnectionstatechange)&&(this.D.oniceconnectionstatechange=v(this.zq,this));t(this.D.onidentityresult)&&(this.D.onidentityresult=v(this.ov,this));this.Am=!1;this.lh=0;
this.za(!0)}y($i,O);Gd("peerConnection",$i);var aj=/a=group:BUNDLE audio video\r\n/g,bj=/ice\-ufrag\:(.+)/g,cj=/ice\-pwd\:(.+)/g;n=$i.prototype;n.Dn=!1;n.Nn=!1;n.h=function(){this.close("localstopped");$i.c.h.call(this)};n.createOffer=function(){this.f("createOffer");if(0==this.Z.length)throw this.error("NO_LOCAL_STREAMS");return dj(this,this.D.createOffer).n(this.wr,this).Ib(this.Sd,this)};function ej(a,b){var c=fj("offer",b);return gj(a,c).Vk(a.Gs,a.Sd,a)}
function hj(a,b){var c=fj("answer",b);return gj(a,c).Ib(a.Sd,a)}n.addIceCandidate=function(a){this.f("addIceCandidate","candidate",a.candidate,"sdpMid",a.sdpMid,"sdpMLineIndex",a.sdpMLineIndex);this.D.addIceCandidate(a)};n.close=function(a){this.f("close");this.D&&(this.D.close(),this.D=null,z(nb(this.Z),this.removeStream,this),z(nb(this.Wb),v(this.fr,this,a)),this.Z.length=this.Wb.length=0)};n.getStats=function(){var a=new F;this.D.getStats(v(a.ca,a),v(a.pa,a));return a};
function ij(a,b,c){"audio"===b?c=0:"video"===b&&(c=1);return{candidate:a,sdpMid:b,sdpMLineIndex:c}}n.Ro=function(){this.f("onNegotationNeeded");this.dispatchEvent("peerConnection:negotiationNeeded")};n.nv=function(a){this.f("onIceCandidate",a);a.candidate?(this.Am&&(this.Am=!1,this.f("onIceCandidate","ICE Restart")),this.dispatchEvent("peerConnection:iceCandidate",{candidate:a.candidate})):(this.f("onIceCandidate","ICE Done"),this.Am=!0,this.dispatchEvent("peerConnection:iceDone"))};n.Jv=function(){this.f("onOpen")};
n.Iq=function(a){a=t(a.target)?a.target.readyState||a.target.signalingState:a;this.f("onStateChange","readyState",a);var b;switch(a){case "active":case "stable":this.fj||jj(this);break;case "closed":b="peerConnection:end"}b&&this.dispatchEvent(b)};
n.Gu=function(a){this.f("onAddStream");a=B?new Pi(a.stream,!1,this.eb,void 0):new Gi(a.stream,!1,this.eb,void 0);this.Nn||(ib(this.Wb,a),a.addEventListener("mediaStream:end",this.Hq,!1,this),this.Li||(a.Li=!1),this.fj&&this.dispatchEvent(new xh("peerConnection:addRemoteStream",this,a)))};n.aw=function(a){this.f("onRemoveStream");var b=eb(this.Wb,function(b){return b.fb===a.stream});b&&this.fr("remotestopped",b)};
n.zq=function(a){if(this.D)if(this.f("onIceChange","iceConnectionState",this.D.iceConnectionState),pi&&!yi(24))"connected"===a&&this.dispatchEvent("peerConnection:start");else switch(a=this.D.signalingState,this.D.iceConnectionState){case "connected":this.lh&&(this.F.info("Clearing disconnect timer"),Zg(this.lh),this.lh=0);("active"===a||"stable"===a||this.vf)&&this.dispatchEvent("peerConnection:start");break;case "disconnected":this.lh=G(function(){this.F.info("Closing after disconnect timer");this.lh=
0;this.close("disconnected")},1E4,this),this.dispatchEvent("peerConnection:disconnected")}};n.ov=function(){this.f("onIdentityResult")};n.Sd=function(a){this.error("PEER_CONNECTION_FAILED",a)};n.addStream=function(a){this.f("addStream",a);this.Dn||gb(this.Z,a)||(this.D.addStream(a.fb),this.Z.push(a),a.addEventListener("mediaStream:end",this.Bq,!1,this))};n.removeStream=function(a){this.f("removeStream",a);a.removeEventListener("mediaStream:end",this.Bq,!1,this);kb(this.Z,a);this.D&&this.D.removeStream(a.fb)};
function jj(a){z(a.Wb,function(a){this.dispatchEvent(new xh("peerConnection:addRemoteStream",this,a))},a);a.fj=!0}n.fr=function(a,b){kb(this.Wb,b);b.removeEventListener("mediaStream:end",this.Hq,!1,this);this.dispatchEvent(new xh("peerConnection:removeRemoteStream",this,b,a))};n.Bq=function(a){this.f("onLocalStreamEnd",a);this.removeStream(a.target)};n.Hq=function(a){this.f("onRemoteStreamEnd",a)};n.Kd=e("Wb");n.jg=e("Z");
n.wr=function(a){this.f("setLocalDescription_");return kj(this,this.D.setLocalDescription,a)};function gj(a,b){a.f("setRemoteDescription_");b=a.np(b);if(ui&&!yi(27)){var c=b.sdp.replace(/a=fmtp:.*\r?\n/mg,"");b=fj(b.type,c)}/sendrecv/.test(b.sdp)||(a.Dn=/sendonly/.test(b.sdp),a.Nn=/recvonly/.test(b.sdp));return kj(a,a.D.setRemoteDescription,b)}n.Gs=function(){this.f("createAnswer_");return dj(this,this.D.createAnswer).n(this.wr,this)};
function dj(a,b){a.f("createDescription_");var c=(new F).n(a.Ws,a).n(a.Zs,a).n(a.$s,a).n(a.Ys,a).n(a.Xs,a).n(a.np,a).n(a.at,a);b.call(a.D,v(c.ca,c),v(c.pa,c),a.Zb);return c}
function kj(a,b,c){a.f("setDescription_","type",c.type,"sdp",c.sdp);var d=new F,f=c;a.f("fixUpBitrate_");if(!(0<a.Z.length&&a.Z[0].Vm.hd)){var g=f.sdp,h=/a=rtpmap:(\d+) VP8\/90000/.exec(g);h&&h.length&&(g=g.replace(/VP8\/90000\r?\n/mg,"VP8/90000\na\x3dfmtp:"+h[1]+" x-google-max-bitrate\x3d1000\n"),f=fj(f.type,g))}b.call(a.D,f,v(d.ca,d,c),v(d.pa,d));a.F.log(Tc,"description set",void 0);return d}function fj(a,b){return new Yi({type:a,sdp:b})}
n.Ws=function(a){if(Ph(this.G,S.as)){var b=a.sdp,b=b.replace(/a=rtpmap:\d+ CN\/\d+[\s\S]+?[\r\n]?/g,""),b=b.replace(/106 /g," "),b=b.replace(/105 /g," "),b=b.replace(/13 /g," ");return fj(a.type,b)}return a};n.Zs=function(a){var b=P(this.G,S.cs);if(b){var c=a.sdp,c=c.replace(/a=fmtp:111[^\r\n]+/,"a\x3dfmtp:111 "+b);return fj(a.type,c)}return a};
n.$s=function(a){if(this.Nn){var b=a.sdp.replace(/sendrecv/g,"sendonly");a=fj(a.type,b)}this.Dn&&(b=a.sdp.replace(/sendrecv/g,"recvonly"),a=fj(a.type,b));return a};n.np=function(a){this.f("fixUpConfAudio_");if(ui&&yi(29))return a;for(var b=a.sdp,b=b.split("\r\n"),c=[],d=!1,f=!1,g=0;g<b.length;g++)(c.push(b[g]),f)||(d||-1===b[g].search("m\x3daudio")?d&&-1!==b[g].search("c\x3dIN")&&(c.push("a\x3dx-google-flag:conference"),f=!0):d=!0);b=c.join("\r\n");return fj(a.type,b)};
function lj(a){var b=[];a=a.split("\r\n");for(var c=0,d="audio",f=0;f<a.length;f++)-1!==a[f].search("m\x3daudio")?(c=0,d="audio"):-1!==a[f].search("m\x3dvideo")?(c=1,d="video"):-1!==a[f].search("a\x3dcandidate")&&b.push(new Zi(ij(a[f]+" generation 0",d,c)));return b}function mj(a,b,c){var d,f="";for(a.lastIndex=0;(d=a.exec(b))&&(f=d[1],!c););return f}
n.Ys=function(a){var b=this.G.get(S.xo);if(b&&"opus"===b){for(var b=a.sdp,b=b.split("\r\n"),c=0;c<b.length;c++)if(-1!==b[c].search("m\x3daudio")){var d=c;break}if(null===d)return a;for(c=0;c<b.length;c++)if(-1!==b[c].search("opus/48000")){(c=nj(b[c]))&&(b[d]=oj(b[d],c));break}b=b.join("\r\n");return fj(a.type,b)}return a};
n.Xs=function(a){var b=!0,c=this.G.get(S.xo);c&&"opus"===c&&(b=!1);for(var c=a.sdp,c=c.split("\r\n"),d=0,f=0,g=null,h=null,k=null,m=null,p=0;p<c.length;p++)-1!==c[p].search("m\x3daudio")?d=p:-1!==c[p].search("m\x3dvideo")&&(f=p);for(p=0;p<c.length;p++)-1!==c[p].search("ISAC/16000")?g=nj(c[p]):-1!==c[p].search("red/8000")?h=nj(c[p]):-1!==c[p].search("ulpfec/90000")?k=nj(c[p]):-1!==c[p].search("red/90000")?m=nj(c[p]):c[p].search("VP8/90000");b&&(d&&g)&&(c[d]=oj(c[d],g,h));f&&m&&k&&(c[f]=c[f].replace(" "+
m,"").replace(" "+k,""));c=c.join("\r\n");return fj(a.type,c)};n.at=function(a){this.f("fixUpRtcpFb_");var b=a.sdp;if(pi&&!yi(23)){for(var b=b.split("\r\n"),c=0,c=0;c<b.length;c++)if(-1!==b[c].search("m\x3dvideo")){var d=c;break}if(null===d)return a;for(c=d;c<b.length;c++)if(-1!==b[c].search("c\x3dIN")){b.splice(c+1,0,"a\x3drtcp-fb:* nack\r\na\x3drtcp-fb:* ccm fir");break}b=b.join("\r\n");a=fj(a.type,b)}return a};function nj(a){return(a=/a=rtpmap:(\d+) /i.exec(a))&&2==a.length?a[1]:null}
function oj(a,b,c){a=a.split(" ");for(var d=[],f=0,g=0;g<a.length;g++)3===f&&(c&&(d[f++]=c),d[f++]=b),a[g]!==b&&a[g]!==c&&(d[f++]=a[g]);return d.join(" ")}function pj(a,b,c,d,f){$i.call(this,a,b,c,d,f);this.fj=!0}y(pj,$i);function qj(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Ga(d),'\x3d"',Ga(b[d]),'" ');var f=c.join("");return a.replace(rj,function(a,b,c,d,p){a=[Ga(b)];if(!c)return a[0];a.push("\x3ca ",f,'href\x3d"');d?(a.push("mailto:"),c=d,d=""):(p||a.push("http://"),(d=c.match(sj))?(c=d[1],d=d[2]):d="");c=Ga(c);d=Ga(d);a.push(c,'"\x3e',c,"\x3c/a\x3e",d);return a.join("")})}
var sj=/^(.*?)([:;,\.?>\]\)!]+)$/,rj=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://|www\\.)\\w[\\w~#-@!\\[\\]]*|$)","g");/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (/web/20131025084704/http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      /web/20131025084704/http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function tj(){}
var uj={ty:"\x3c",ny:"\x3e",Qx:"\x26",Ay:" ",Ey:'"',Rx:"'"},vj={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},wj=/&/g,xj=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,yj=/</g,zj=/>/g,Aj=/\"/g,Bj=/=/g,Cj=/\0/g,Dj=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,Ej=/^#(\d+)$/,Fj=/^#x([0-9A-Fa-f]+)$/,Gj=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*\x3d\\s*(\"[^\"]*\"|'[^']*'|(?\x3d[a-z][a-z-]*\\s*\x3d)|[^\x3e\"'\\s]*))?)|(/?\x3e)|[^a-z\\s\x3e]+)",
"i"),Hj=RegExp("^(?:\x26(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|\x3c[!]--[\\s\\S]*?--\x3e|\x3c!\\w[^\x3e]*\x3e|\x3c\\?[^\x3e*]*\x3e|\x3c(/)?([a-z][a-z0-9]*)|([^\x3c\x26\x3e]+)|([\x3c\x26\x3e]))","i");
tj.prototype.parse=function(a,b){var c=null,d=!1,f=[],g,h,k;a.zc=[];for(a.me=!1;b;){var m=b.match(d?Gj:Hj);b=b.substring(m[0].length);if(d)if(m[1]){var p=m[1].toLowerCase();if(m[2]){m=m[3];switch(m.charCodeAt(0)){case 34:case 39:m=m.substring(1,m.length-1)}m=m.replace(Cj,"").replace(Dj,v(this.tu,this))}else m=p;f.push(p,m)}else m[4]&&(void 0!==h&&(k?a.Lr&&a.Lr(g,f):a.hp&&a.hp(g)),k&&h&12&&(c=null===c?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("\x3c/"+g),0>d&&(d=b.length),h&4?a.Mo&&
a.Mo(b.substring(0,d)):a.ar&&a.ar(b.substring(0,d).replace(xj,"\x26amp;$1").replace(yj,"\x26lt;").replace(zj,"\x26gt;")),b=b.substring(d)),g=h=k=void 0,f.length=0,d=!1);else if(m[1])Ij(a,m[0]);else if(m[3])k=!m[2],d=!0,g=m[3].toLowerCase(),h=vj.hasOwnProperty(g)?vj[g]:void 0;else if(m[4])Ij(a,m[4]);else if(m[5])switch(m[5]){case "\x3c":Ij(a,"\x26lt;");break;case "\x3e":Ij(a,"\x26gt;");break;default:Ij(a,"\x26amp;")}}for(c=a.zc.length;0<=--c;)a.$d.append("\x3c/",a.zc[c],"\x3e");a.zc.length=0};
tj.prototype.tu=function(a){a=a.toLowerCase();if(uj.hasOwnProperty(a))return uj[a];var b=a.match(Ej);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(Fj))?String.fromCharCode(parseInt(b[1],16)):""};function Jj(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (/web/20131025084704/http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      /web/20131025084704/http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Kj(a,b,c){this.$d=a;this.zc=[];this.me=!1;this.Tr=b;this.qk=c}y(Kj,Jj);
var Lj={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Kj.prototype.Lr=function(a,b){if(!this.me&&vj.hasOwnProperty(a)){var c=vj[a];if(!(c&32))if(c&16)this.me=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var g=d[f],h=d[f+1],k=null,m;if((m=a+"::"+g,Lj.hasOwnProperty(m))||(m="*::"+g,Lj.hasOwnProperty(m)))k=Lj[m];if(null!==k)switch(k){case 0:break;case 2:case 3:h=null;break;case 4:case 5:case 6:case 7:case 8:case 9:h=this.qk?this.qk(h):h;break;case 1:h=this.Tr&&this.Tr(h);break;case 11:h&&"#"===h.charAt(0)?(h=this.qk?this.qk(h):h)&&(h="#"+h):h=null;break;
default:h=null}else h=null;d[f+1]=h}if(b=d){c&2||this.zc.push(a);this.$d.append("\x3c",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],g=b[c+1],null!==g&&void 0!==g&&this.$d.append(" ",f,'\x3d"',g.replace(wj,"\x26amp;").replace(yj,"\x26lt;").replace(zj,"\x26gt;").replace(Aj,"\x26#34;").replace(Bj,"\x26#61;"),'"');this.$d.append("\x3e")}}}};
Kj.prototype.hp=function(a){if(this.me)this.me=!1;else if(vj.hasOwnProperty(a)){var b=vj[a];if(!(b&50)){if(b&1)for(b=this.zc.length;0<=--b;){var c=this.zc[b];if(c===a)break;if(!(vj[c]&1))return}else for(b=this.zc.length;0<=--b&&this.zc[b]!==a;);if(!(0>b)){for(var d=this.zc.length;--d>b;)c=this.zc[d],vj[c]&1||this.$d.append("\x3c/",c,"\x3e");this.zc.length=b;this.$d.append("\x3c/",a,"\x3e")}}}};function Ij(a,b){a.me||a.$d.append(b)}Kj.prototype.ar=function(a){this.me||this.$d.append(a)};
Kj.prototype.Mo=function(a){this.me||this.$d.append(a)};function Mj(a,b,c){N.call(this,a,b);this.message=c}y(Mj,N);Mj.prototype.Cj=e("message");function T(a,b,c,d,f,g){H.call(this,a);b&&Xh(this,"iss",b);d&&(a=d,f&&(a=Ga(a)),t(g)||(g=!0),g&&(f=a,g=new Ya,(new tj).parse(new Kj(g,null,null),f),a=g.toString()),R(this,"body",a));c&&R(this,"cpath",c);this.cr=!1}y(T,H);Gd("message",T);Sd(["im","x-msg","typing","transfer"],T,["type","iss","cpath","body"],"body",T.prototype.iw);n=T.prototype;n.ek=null;n.Fe=null;n.B=null;n.h=function(){this.B&&this.B.ga();T.c.h.call(this)};
n.qt=e("Fe");n.Ih=function(){return this.yj()};n.Tb=e("B");n.et=function(){var a=P(this,"cpath");return a?Nj(a):this.B?this.B.g():""};n.Kc=function(){return P(this,"sid")};n.up=function(a,b){var c=P(this,"body");return a?(this.ek||(c=Ma(c),this.ek=qj(c)),this.ek):b?Ma(c):c};n.getError=function(){return P(this,"err")};n.iw=function(){delete this.ek};n.nl=function(a,b){b&&(this.cr=!0);T.c.nl.call(this,a,b)};
n.hc=function(a){function b(b){k.pb();k.B=b;k.Fe||(k.Fe=b);Mh(k,b);H.prototype.hc.call(k,a);if(k.cr&&!k.Fe.Ba()){var c=new Mj(dd,b,k);b.dispatchEvent(c);c.type+=":"+k.V();b.dispatchEvent(c)}}var c,d=this.m(!0);if(!d||!(c=this.Ih()))return T.c.hc.call(this,a);var f=c,g=!1,h=P(this,"cpath");h&&("room"===Oj(h)&&(g=!0),f=Nj(h));g||(h=d.Va(),c===h&&(this.Fe=d.ya,f=Pj(this.j())));var k=this;this.Ia();g?d.yp(f).n(b,this):d.kb(f).n(b,this)};function Qj(a,b,c,d,f){T.call(this,a,b,f);c&&R(this,"sid",c);d&&R(this,"mid",d)}y(Qj,T);Gd("signal",Qj);Sd(["sig:sessionTerminate","sig:sessionReject","sig:sessionStart","sig:contentReject"],Qj,["type","iss","sid","mid"]);function Rj(a,b,c,d,f,g){Qj.call(this,a,b,c,d,g);R(this,"sdp",f)}y(Rj,Qj);Sd(["sig:sessionInitiate","sig:sessionAccept","sig:contentModify","sig:contentAccept"],Rj,["type","iss","sid","mid","sdp"]);
function Sj(a,b,c,d,f,g,h,k){Rj.call(this,a,b,c,d,f,k);R(this,"sdpMid",g);R(this,"sdpMLineIndex",h)}y(Sj,Rj);Sd("sig:transportCandidate",Sj,"type iss sid mid sdp sdpMid sdpMLineIndex".split(" "));function Tj(a,b,c,d,f,g){Qj.call(this,"relayAllocationRequest",a,b,c);R(this,"appId",d);R(this,"ufrag",f);R(this,"pwd",g);this.Xb("/service/turn")}y(Tj,Qj);Sd("relayAllocationRequest",Tj,["iss","mid","appId","ufrag","pwd"]);function Uj(a,b,c,d,f){Qj.call(this,"relayAllocationResponse");if(!a||!d||!b)throw Ze("relayAllocationResponse",this);R(this,"ip",a);R(this,"udpPort",b);R(this,"udpExtPort",c);R(this,"tcpPort",d);f&&R(this,"sslTcpPort",f)}y(Uj,Qj);
Sd("relayAllocationResponse",Uj,["ip","udpPort","udpExtPort","tcpPort","sslTcpPort"]);Uj.prototype.am=function(){return P(this,"ip")};function Vj(a,b,c,d,f){Qj.call(this,"vadStateTransition",a,b,c);f&&R(this,"streamId",f);R(this,"vadState",d)}y(Vj,Qj);Sd("vadStateTransition",Vj,["iss","sid","mid","vadState","streamId"]);function Wj(a,b,c,d,f,g,h,k,m,p){this.Bl=a;this.yk=b;this.Bn=c;this.Sh=d;this.nd=f;this.Ck=m;this.Dk=p;this.aj=g;this.tp=h||0;this.uj=k||Xj(this)}y(Wj,Zd);Nd("candidate",Wj,"protocol priority ip ctype generation foundation relatedIp relatedPort".split(" "));Wj.prototype.Da=function(){return{protocol:this.yk,priority:this.Bn,ip:this.Sh,ctype:this.aj,generation:this.tp,foundation:this.uj,relatedIp:this.Ck,relatedPort:this.Dk}};Wj.prototype.am=e("Sh");Wj.prototype.Di=ca("nd");
function Xj(a){var b;a=a.aj+a.Sh+a.yk;if("undefined"===typeof a||0===a.length)b=0;else{b||(b=0);var c=0;b^=-1;for(var d=0,f=a.length;d<f;d++)c=(b^a.charCodeAt(d))&255,b=b>>>8^Id[c];b=(b^-1)>>>0}return b};var Yj=/a=candidate:(\d+)\ (\d+) (\w+) (\d+) (\S+) (\d+) typ (\w+)( raddr (\S+))?( rport (\d+))?( (generation (\d+))|(\w+ \S+))*/;td("vline.sdp");function Zj(a){var b=Yj.exec(a);if(!b||8>b.length)throw Ze("candidate",a);return new Wj(Number(b[2]),b[3],Number(b[4]),b[5],Number(b[6]),b[7],Number(b[14]),Number(b[1]),b[9],Number(b[11]))};function ak(a,b,c,d){Qj.call(this,"updateSessionSource",a,b,c);R(this,"new_src_mid",d)}y(ak,Qj);Sd("updateSessionSource",ak,["iss","sid","mid","new_src_mid"]);function bk(a){ci.call(this,a);this.B=this.sa=null;this.Hb=0;this.Ud=null;this.Tp=this.gd=!1;this.qi=[];this.Dm=!1;this.Nj=[];this.Ek=[];this.D=this.jc=null;this.ao=this.Jr=this.Hr=this.Ir=!1;this.Ik=null;this.xi=3E4}y(bk,ci);Qd("peerSession",bk,["$entity"]);n=bk.prototype;
n.ne=function(a,b,c,d,f,g){this.sa=a;this.B=b;this.xi=d;a=a.da().G;this.Ir=Ph(a,"skipStun");this.Hr=Ph(a,"skipLocal");this.Jr=Ph(a,"skipTcp");this.ao=Ph(a,"skipRelay");b=ck(this.da());d=this.g();this.D=B?new pj(d,a,c,b,g):new $i(d,a,c,b,g);this.D.xb(this);this.gd=!f;this.B&&this.w().e(this.B,"pub:sig:sessionTerminate",this.tw).e(this.B,"pub:sig:sessionAccept",this.tq).e(this.B,"pub:sig:sessionReject",this.Wv).e(this.B,"pub:sig:sessionStart",this.qw).e(this.B,"pub:sig:transportCandidate",this.Ou).e(this.B,
"pub:sig:contentModify",this.Vu).e(this.B,"pub:sig:contentAccept",this.Tu).e(this.B,"pub:vadStateTransition",this.Kw).e(this,"error",this.stop).e(this,"peerConnection:end",this.stop).e(this,"peerConnection:iceCandidate",this.Pu).e(this,"peerConnection:start",this.Fu).e(this,"peerConnection:disconnected",this.ji).e(this,"peerConnection:negotiationNeeded",this.Ro);Jh(this.sa.T,"pub:relayAllocationResponse",this.Fq,this);this.za(!0);f&&(this.f("onInitiate",f),dk(this,f),ek(this,3),fk(this,"incoming"))};
n.N=e("C");n.Tb=e("B");n.h=function(){this.stop();this.jc&&this.jc.ga();bk.c.h.call(this)};n.toString=function(){return this.g()+"#"+this.Hb};n.Pu=function(a){a=a.candidate;this.vj(a);gk(this,a.candidate,a.sdpMid,a.sdpMLineIndex)};n.Fu=function(){this.f("onActive_");fk(this,"active")};n.ji=function(){this.f("onDisconnected_");fk(this,"disconnected")};
function gk(a,b,c,d){a.Ir&&hk.test(b)?Vc(a.F,"Skipping stun candidate"):(hk.test(b)&&(b=b.replace(/udp \d+/,"udp "+(Number(/udp (\d+)/.exec(b)[1])-1))),a.yc("sig:transportCandidate",b,c,d))}var ik=/(udp|UDP) \d+ \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3} \d+ typ host/,hk=/(udp|UDP) \d+ \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3} \d+ typ srflx/,jk=/typ relay/,kk=/(tcp|TCP) \d+ \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3} \d+ typ/;
function lk(a,b,c,d,f){b=Zj(b);var g=b.am(),h=b.nd;b.yk=c;b.Bn=d;a=a.jc.am();b.Sh=a;b.uj=Xj(b);b.Di(f);b.aj="relay";b.uj=Xj(b);b.Ck=g;b.Dk=h;f="a\x3dcandidate:"+b.uj+" "+b.Bl+" "+b.yk+" "+b.Bn+" "+b.Sh+" "+b.nd+" typ "+b.aj;b.Ck&&(f+=" raddr "+b.Ck);b.Dk&&(f+=" rport "+b.Dk);return f+=" generation "+b.tp}n=bk.prototype;
n.wj=function(a){var b=a.candidate;if(ik.test(b)&&(!this.gd||"video"!==a.sdpMid)&&(this.gd||"audio"!==a.sdpMid))if(!this.jc||this.gd&&!this.Dm)Vc(this.F,"Queuing remote host candidates for relay: "+b),this.Ek.push(a);else{this.f("genRelayCandidatesForRemoteCandidate",b);var c=Zj(b),d=Oh(this.jc,"udpPort");2===c.Bl&&(d+=1);gk(this,lk(this,b,"udp",1056964608,d),a.sdpMid,a.sdpMLineIndex);gk(this,lk(this,b,"tcp",1016964608,Oh(this.jc,"tcpPort")),a.sdpMid,a.sdpMLineIndex)}};
n.vj=function(a){var b=a.candidate;if(ik.test(b)&&(!this.gd||"video"!==a.sdpMid)&&(this.gd||"audio"!==a.sdpMid))if(!this.jc||this.gd&&!this.Dm)Vc(this.F,"Queuing local host candidate for relay: "+b),this.Nj.push(a);else{this.f("genRelayCandidatesForLocalCandidate",b);var c=Zj(b),d=Oh(this.jc,"udpExtPort");2===c.Bl&&(d+=1);c=lk(this,b,"udp",1056964608,d);c=new Zi(ij(c,a.sdpMid,a.sdpMLineIndex));this.ah(c);c=lk(this,b,"tcp",1016964608,Oh(this.jc,"tcpPort"));c=new Zi(ij(c,a.sdpMid,a.sdpMLineIndex));
this.ah(c)}};n.ah=function(a){this.Hr&&ik.test(a.candidate)||this.Jr&&kk.test(a.candidate)||this.ao&&jk.test(a.candidate)?this.f("addIceCandidate_","Skipping",a.candidate):this.D.addIceCandidate(a)};function mk(a,b){a.f("allocateRelay");if(a.ao)Vc(a.F,"Skipping relay allocation");else if(b&&(a.Bm=mj(bj,b.sdp,a.gd),a.Mp=mj(cj,b.sdp,a.gd)),a.Bm&&a.Mp){var c=new Tj(a.sa.Va(),a.sa.g(),a.g(),a.sa.da().ka(),a.Bm,a.Mp);a.sa.Gb(c.j(),c)}}n.addStream=function(a){this.D.addStream(a)};n.removeStream=function(a){this.D.removeStream(a)};
function nk(a,b){if(a.Hb!==b)throw a.error(new L("BAD_SIGNAL_STATE",{signalState:a.Hb,expectedState:b}));}function ok(a,b,c){if(P(b,"mid")!==a.g())return!1;if(c&&a.Hb!==c)throw a.error(new L("BAD_SIGNAL_STATE",{signalState:a.Hb,expectedState:c,signal:b}));a.f("onSignal",b);return!0}function ek(a,b){a.f("setSignalState",b);a.Hb=b}function fk(a,b){a.f("setPeerState",b);R(a.N(),"peerState",b)}
n.Ju=function(){var a=this.he();if("incoming"===a||"outgoing"===a)this.f("onAutoTimeout - Stopping peersession"),this.stop()};function dk(a,b){pk(a,b);a.Sj=P(b,"sdp");a.Tp=-1!==a.Sj.search(aj)?!0:!1;z(lj(a.Sj),a.wj,a)}function qk(a){var b=a.Nj;a.Nj=[];z(b,a.vj,a);b=a.Ek;a.Ek=[];z(b,a.wj,a)}function rk(a,b){pk(a,b);var c=P(b,"sdp");hj(a.D,c).n(function(){this.Dm=!0;z(this.qi,this.ah,this);hb(this.qi);z(lj(c),this.wj,this);qk(this)},a)}
function pk(a,b){"room"===a.B.V()?a.Ud=sk(b.Ih(),a.sa.Va(),b.Kc()):a.Ud=sk(a.B.g(),a.sa.Va(),b.Kc())}n.Vu=function(a){a=a.target;ok(this,a,13)&&(dk(this,a),this.f("acceptContentChange"),ek(this,9),ej(this.D,this.Sj).n(this.Cu,this))};n.tq=function(a){this.f("onAcceptMessage_");a=a.target;ok(this,a,2)&&(fk(this,"connecting"),rk(this,a),ek(this,6),ek(this,13),tk(this,"sig:sessionStart"))};n.Tu=function(a){a=a.target;ok(this,a,7)&&rk(this,a)};n.qw=function(a){ok(this,a.target)&&(13===this.Hb||uk(this))};
n.Wv=function(a){ok(this,a.target,2)&&(ek(this,10),this.stop())};n.tw=function(a){ok(this,a.target)&&15!==this.Hb&&(ek(this,12),uk(this))};n.Ou=function(a){var b=a.target;if(ok(this,b)){a=P(b,"sdp");var c=P(b,"sdpMid"),b=b.get("sdpMLineIndex");a=new Zi(ij(a,c,b));13===this.Hb?this.ah(a):(Vc(this.F,"Queueing candidate"),this.qi.push(a));this.wj(a)}};n.Fq=function(a){var b=a.target;ok(this,b)&&((a=b.getError())?this.F.log(Nc,"Error allocating relay: "+a,void 0):(this.jc=b.Ia(),qk(this)))};
n.Kw=function(a){var b=a.target;if(ok(this,b)){var c=P(b,"streamId");c?eb(this.D.Kd(),function(a){return a.cd()===c?(Ni(a,Ph(b,"vadState")),!0):!1},this):(a=this.D.jg())&&0<a.length&&Ni(a[0],Ph(b,"vadState"))}};n.Kd=function(){return this.D.Kd()};
n.Zl=function(){if(ui&&yi(29)){var a=new F;this.D.getStats().n(function(b){var c=b.result();b="unknown";for(var d=0;d<c.length;d++)if(c[d].stat("googActiveConnection")){c=c[d].stat("googRemoteAddress");if(!c)break;c=c.split(":")[1];5E3==c||5001==c||5002==c||5003==c?b="relay:udp":443==c&&(b="relay:tcp");break}a.ca(b)},this).Ib(function(b){a.pa(b)});return a}return new F("unknown")};
n.start=function(a){this.f("start",a);a=this.D;a.Zb={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};pi&&(a.Zb.mandatory.MozDontOfferDataChannel=!0);3===this.Hb?(this.f("accept"),nk(this,3),ek(this,4),fk(this,"connecting"),ej(this.D,this.Sj).n(this.Du,this)):0===this.Hb&&(this.f("initiate"),nk(this,0),ek(this,1),fk(this,"outgoing"),this.D.createOffer().n(this.rv,this))};
n.stop=function(){this.f("stop");3===this.Hb?(this.f("reject"),nk(this,3),this.yc("sig:sessionReject"),ek(this,9)):15!==this.Hb&&(0===this.Hb||this.yc("sig:sessionTerminate"),ek(this,11));this.Ik&&Zg(this.Ik);this.Ik=null;uk(this)};n.rv=function(a){ek(this,2);this.yc("sig:sessionInitiate",a.sdp);this.jc||(z(lj(a.sdp),this.vj,this),mk(this,a))};n.Ro=function(){this.f("onNegotiationNeeded");this.D.createOffer().n(this.Uu,this)};
n.Uu=function(a){this.f("oContentChangeDone",a.sdp);this.yc("sig:contentModify",a.sdp)};n.Du=function(a){this.f("onAcceptDone",a.sdp);this.yc("sig:sessionAccept",a.sdp);ek(this,5);ek(this,13);this.Tp&&ui||this.jc||(z(lj(a.sdp),this.vj,this),mk(this,a));z(this.qi,this.ah,this);hb(this.qi)};n.Cu=function(a){this.f("onAcceptContentChangeDone",a.sdp);this.yc("sig:contentAccept",a.sdp);ek(this,10);ek(this,13)};
function uk(a){a.f("close");if(a.D){var b;b="disconnected"===a.he()?"disconnected":12===a.Hb?"remotestopped":"localstopped";a.D.close(b);a.D=null}15!==a.Hb&&(a.w().qd(),Kh(a.sa.T,"pub:relayAllocationResponse",a.Fq,a),a.gd=!1,a.jc=a.Bm=null,a.Ek.length=a.Nj.length=0,ek(a,15),fk(a,"closed"),a.dispatchEvent("peerSession:end"),a.C.remove())}n.yc=function(a,b,c,d){this.Ud?this.sa.Gb(this.Ud,vk(this,a,b,c,d)):tk(this,a,b,c,d)};
function tk(a,b,c,d,f){"room"===a.B.V()&&a.Ud?a.sa.Gb(a.Ud,vk(a,b,c,d,f)):a.sa.Gb(wk(a.B),vk(a,b,c,d,f))}function vk(a,b,c,d,f){var g=a.g(),h=a.sa.g(),k=a.sa.Va(),m;"room"===a.B.V()&&(a=a.B.g(),m="/room",a&&(m+="/"+a));return c?d?new Sj(b,k,h,g,c,d,f,m):new Rj(b,k,h,g,c,m):new Qj(b,k,h,g,m)}n.he=function(){return this.C.he()};n.oo=function(a){a=new ak(this.sa.Va(),this.sa.g(),this.g(),a);this.Ud&&this.sa.Gb(this.Ud,a)};function xk(a){H.call(this,"mediaSession",null,null,a);R(this,"mediaState","inactive")}y(xk,H);Sd("mediaSession",xk);xk.prototype.Jc=function(){return P(this,"mediaState")};function yk(a,b,c,d){Qj.call(this,"vadStateConfidence",a,b,c);R(this,"vadStateList",d)}y(yk,Qj);Sd("vadStateConfidence",yk,["iss","sid","mid","vadStateList"]);var zk=!0;Gg(window,"focus",function(){zk=!0});Gg(window,"blur",function(){zk=!1});var Ak=!!window.Notification&&!zi(),Bk={},Ck=function(){if(!Ak)return"denied";if(null!=Notification.permission)return Notification.permission;if(null!=window.webkitNotifications)switch(window.webkitNotifications.checkPermission()){case 0:return"granted";case 1:return"default"}return"denied"}();
function Dk(a,b){var c=void 0;if(Ak&&"granted"===Ck){c||(c="/s/img/icon-72.png");var d=new Notification("vLine link: A new person joined",{body:a,title:"vLine link: A new person joined",tag:b,icon:c});if(d){Bk[b]=d;var f=window;d.onclick=function(){var a=Ek(b);a&&a.close();f.focus()};d.onclose=function(){Ek(b,d)}}}}function Ek(a,b){var c=Bk[a];if(!b||b&&c===b)return delete Bk[a],c};function Fk(a,b){this.jb=a;this.G=this.jb.da().G;this.r=b;this.Ab=this.jb.tb();this.Te()}n=Fk.prototype;n.Te=function(){var a=this.r;this.Ab.Wo(a.g());a.w().e(a,"exitState:pending",this.Ov,!1,this).e(a,"enterState:incoming",this.qv,!1,this).e(a,"enterState:outgoing",this.Lv,!1,this).e(a,"enterState:connecting",this.Su,!1,this).e(a,"mediaSession:addLocalStream",this.xv,!1,this).e(a,"remove:mediaSession",this.Ev,!1,this)};
n.Ov=function(a){a=a.target;var b=a.jg();b&&0<b.length&&a.w().e(b[0],"mediaStream:end",function(){this.Lj(!0)},!1,this)};n.qv=function(a){a=a.target;var b=Ph(this.G,S.$r)||a.fh();b||(b=Ph(a.Tb().N(),"_autoAccept"));Ui(this.G,S.fs)&&!b?Gk(this):Hk(this.Ab,a.g(),!1);b&&!a.fh()&&a.start()};function Gk(a){var b=a.r,c=b.g(),d=new N(Ik,null,{mediaSession:b});b.w().e(b,["exitState:incoming","enterState:closed"],function(){Hk(this.Ab,c,!1)},!1,a);Jk(a.Ab,c,d)}
n.Lv=function(a){a=a.target.g();Ui(this.G,S.yo)?Kk(this):Hk(this.Ab,a,!1);Lk(this)};function Kk(a){var b=a.r,c=b.g(),d=new N(Mk,null,{mediaSession:b});b.w().e(b,["exitState:connecting","enterState:closed"],function(){Hk(this.Ab,c,!1)},!1,a);Jk(a.Ab,c,d)}n.Su=function(a){a=a.target;a.g();var b=!a.Wj;a.Wj&&!Ui(this.G,S.yo)&&(b=!0);this.Ab.Jj(b);Lk(this)};n.xv=function(){Nk(this)&&Lk(this)};n.Ev=function(a){this.Ab.Jj(!1);Hk(this.Ab,a.target.g(),!0)};
function Lk(a){if(Nk(a)){var b=a.G.get(S.zo);var c=a.Ab;a=a.r;var d=a.g();c.Re[d]?b=new F("no panel"):(c.Zo(a,b),b=c.Gr(d));return b}return new F("no panel")}n.Lj=function(a){this.Ab.Lj(this.r.g(),a)};function Ok(a,b){Nk(a)&&Lk(a).n(function(){var a=this.r.g();(a=this.Ab.Re[a])&&a.addStream(b);this.r.w().e(b,"mediaStream:end",function(){this.Lj(!0)},!1,this)},a)}function Nk(a){return!(!a.G.get(S.zo)&&!a.G.get(S.ds))}n.On=ca("G");function Pk(a){return a.mp?"Click to dismiss":"Click here to bring your conversation to the foreground"};function V(a){ci.call(this,a);this.Za=[];this.Z=[];this.Wb=[];this.Bg=this.B=null;this.Zb={audio:!0,video:!0,hd:!1,loopback:void 0};this.Wj=this.Jk=this.vo=this.uo=this.sl=this.Zh=this.vf=!1;this.xk=new F;this.w().e(this,"change:peerState",this.Nv).e(this,"peerConnection:addRemoteStream",this.Zv).e(this,"peerConnection:removeRemoteStream",this.$v).e(this,"change:mediaState",this.pn)}y(V,ci);Qd("mediaSession",V,["$entity"]);n=V.prototype;n.xi=3E4;n.h=function(){this.stop();V.c.h.call(this)};n.N=e("C");
function Qk(a,b){return cb(a.Z,b)||cb(a.Wb,b)}n.Tb=e("B");n.On=function(a){var b=this.B.m().K();a=new Ri(a,b.da().G);this.Bg&&this.Bg.On(a)};n.Jd=function(){return this.B&&this.B.Jd()||""};n.ed=function(){return this.B&&this.B.ed()||null};n.Ij=function(){return Qk(this,function(a){return a.Ij()})};n.ke=function(){return Qk(this,function(a){return a.ke()})};n.Jc=function(){return this.N().Jc()};n.du=function(){return"pending"===this.Jc()};n.Zt=function(){return"incoming"===this.Jc()};
n.cu=function(){return"outgoing"===this.Jc()};n.Jm=function(){return"connecting"===this.Jc()};n.Mc=function(){return"active"===this.Jc()};n.Xt=function(){return"closed"===this.Jc()};n.$t=e("Wj");function Rk(a){a.Zh||(a.Zh=!0,ck(a.da()).Ch(a.Zb).n(v(a.mn,a)).Ib(v(a.ln,a)),Sk(a))}n.Zl=function(){return this.Za[0].Zl()};n.ln=function(a){this.Zh=!1;this.error(a);0==this.Z.length&&this.stop()};n.mn=function(a){this.Zh=!1;this.f("onLocalStream_",a);this.addStream(a)};
function Tk(a){var b=a.Z;z(a.Za,function(a){z(b,function(b){a.addStream(b)});a.start(this.Zb)},a)}function Uk(a,b){z(a.Z,function(a){b.addStream(a)});b.start(a.Zb)}
function Vk(a,b){var c=b.target,d=c.Ih(),f=eb(a.Za,function(a){var b=a.he();return a.Tb().g()===d&&("outgoing"===b||"pending"==b)}),g=Wk(a,c);if(g||f)f&&(g?g="pending"===f.he()||f.g()<g.g()?f:g:(g=null,f.tq(b)),c.Ih()!==a.m().Va()&&g&&(Vc(a.F,"Glare detected. Closing session "+g.g()),g.stop())),0<a.Z.length?Tk(a):a.B.fh()&&a.start(),Sk(a)}n.start=function(a){Xk(this,a);a=!0;Yk(this)&&(a=!1);0==this.Za.length&&Wk(this,null,a);0==this.Z.length?Rk(this):Tk(this);return this.xk};n.fw=function(a){this.Qp(a.target)};
n.Qp=function(a){"participantSession"===a.V()&&(this.f("Media change handler registered for session "+a.g()),this.w().e(a,"change:mediaOn",this.Cv,!1,this),this.zl(a))};n.Cv=function(a){!1===a.oldVal&&!0===a.val&&this.zl(a.target)};
n.zl=function(a){if("participantSession"===a.V())if(this.B.Pc){var b=P(a,"path"),c;c=b.split("/");c=5>c.length?"":c[4];var b=b.split("/"),b=7>b.length?"":b[6],d=this.m().ya.g(),f=this.m().g();if(b!==f){var g=Ph(a,"webrtcEnabled");a=Ph(a,"mediaOn");g&&a?(this.f("Media session started"),g=this.Bg,a=pi?Pk({mp:!0}):Pk({mp:!1}),Ui(g.G,S.bs)&&(g=g.r.g(),zk||a&&g&&Dk(a,g)),d=sk(c,d,b),b<f&&(b=Wk(this),b.Ud=d,0==this.Z.length?Rk(this):Uk(this,b),this.Fm("Started peer room session with ",c))):this.f("Not starting mediasession as remote/webrtc flag not set")}}else this.f("Not starting mediasession as local media flag is not set")};
function Xk(a,b){var c,d,f,g;null!=b?(c=b.loopback,d=b.audio,f=b.video,g=b.hd,c&&(null==d&&null==f&&null==g)&&(d=f=!0,g=!1),null!=d||(d=!1),null!=f||(f=!1),null!=g||(g=!1)):(d=f=!0,g=!1);a.Zb={audio:d,video:f,hd:g,loopback:c};a.vf=Boolean(c)}n.addStream=function(a){if(!gb(this.Z,a)){this.Z.push(a);var b=this.B.m().ya;a.ya=b;a.Lg(this.sl);a.Ng(this.uo);a=new xh("mediaSession:addLocalStream",this,a);this.dispatchEvent(a);a.type="mediaSession:addStream";this.dispatchEvent(a,null,!0);Tk(this)}};
n.removeStream=function(a){if(kb(this.Z,a)){z(this.Za,function(b){b.removeStream(a)});Zk(ck(this.da()),a);var b=new xh("mediaSession:removeLocalStream",this,a);this.dispatchEvent(b);b.type="mediaSession:removeStream";this.dispatchEvent(b,null,!0)}};n.stop=function(){0==this.Za.length||this.dispatchEvent("stop:mediaSession");z(nb(this.Za),function(a){a.stop()});this.B&&(this.w().qd(),this.B.ga(),this.Kk=this.B=null);this.C&&512!==(this.C.ja&512)&&this.C.remove();return this};n.Uj=e("sl");n.Mm=e("uo");
n.Lg=function(a){this.sl=a;z(this.Z,function(b){b.Lg(a)});return this};n.Ng=function(a){this.uo=a;z(this.Z,function(b){b.Ng(a)});return this};n.iu=e("vo");function $k(a,b){a.vo!==b&&((a.vo=b)?a.dispatchEvent("videopanel:show"):a.dispatchEvent("videopanel:hide"))}n.jg=function(){return nb(this.Z)};n.Kd=function(){return nb(this.Wb)};
function Wk(a,b,c){a.f("createPeerSession");if(c=ck(a.da()).El(a.B,a.Zb,a.xi,b,c))c.xb(a),a.Za.push(c),Sk(a),1===a.Za.length&&(a.Wj=!b,a.dispatchEvent("add:mediaSession"));return c}n.Zv=function(a){var b=a.stream;gb(this.Wb,b)||(this.Wb.push(b),al(this,b).n(function(a){b.ya=a;a=b.cd().match(/Stream-(.+?:[^:]+):([^:]+):([^:-]+)/);b.Sq=a&&a[3]?a[3]:""},this).Ue(function(){var a=!0;pi&&this.vf&&(a=!1);a&&this.dispatchEvent(new xh("mediaSession:addRemoteStream",this,b))},this))};
n.$v=function(a){var b=a.stream;kb(this.Wb,b);b&&(b.stop(),this.dispatchEvent(new xh("mediaSession:removeRemoteStream",this,b,a.reason)))};
n.Nv=function(a){a=a.target;Sk(this);switch(a.he()){case "incoming":case "outgoing":a.Ik=G(v(a.Ju,a),a.xi,a);break;case "closed":this.f("removePeerSession"),kb(this.Za,a),a.pb(),0==this.Za.length&&(z(nb(this.Z),this.removeStream,this),hb(this.Z),"room"===this.V()?!this.B.Pc&&this.C.remove():this.C.remove());default:if(this.Jk){this.Jk=!1;a=ck(this.da());a.f("stopRinging");try{0===--a.nr&&a.rd&&(a.rd.pause(),a.rd.load(),a.qy=!1)}catch(b){a.error(b,"Error stopping ringtone")}}}};
n.pn=function(a){var b=a.oldVal,c=a.Y();this.f("onMediaStateChange","oldState",b,"newState",c);switch(c){case "incoming":case "outgoing":this.Jk||(this.Jk=!0,bl(ck(this.da())))}"inactive"===b&&"incoming"===c||"inactive"===b&&"pending"===c?G(function(){Gh(this,b,c)},0,this):Gh(this,b,c)};
function Sk(a){var b,c=a.Za,d="inactive";for(b=0;b<c.length&&(d=c[b].he(),"active"!==d);++b);a.Zh&&"active"!==d&&(d="pending");R(a.N(),"mediaState",d);a.xk.Ic||("active"===d?a.xk.ca(a):"closed"===d&&a.xk.pa(new L("CLOSED")))}n.zr=ca("xi");
n.Jw=function(a){if(a=a.target.get("vadStateList"))for(var b=0;b<a.length;++b){var c=a[b],d=c.streamName;eb(this.Kd(),function(a){var b=a.cd().replace("-thumbnail","");return a.cd()===d||b===d?(a.ih=c.confidence,a.ou=c.lastSpeechValue,a.Xj!==c.vadState&&Ni(a,c.vadState),!0):!1},this)}else this.F.log(Oc,"Signalled with null confidence data",void 0)};function al(a,b){var c=b.cd().match(/Stream-(.+?:[^:]+)/),c=c&&c[1]?c[1]:a.B.g();return a.B.m().kb(c)}
n.ot=function(){var a=[];z(this.Z,function(b){a.push(b.kb())},this);z(this.Wb,function(b){a.push(b.kb())},this);return a};n.V=function(){return this.B.V()};n.$k=function(){var a=this.B.m().ya,b=this.B.g();a.$k(b,"tv")};function Yk(a){if(a=a.B.N())if(a=P(a,"presenceDesc"))return"Conferencing"===a||"Conferencing-1.1"===a;return!1}n.fh=function(){return this.B.fh()};n.oo=function(a){0<this.Za.length&&this.Za[0].oo(a)};function cl(a,b){H.call(this,"mailbox");a&&this.Un(a);b||(b=1);b&&R(this,"totalMessages",b)}y(cl,H);Gd("mailbox",cl);cl.prototype.Un=function(a){var b=Oh(this,"readIdx");(!b||a>b)&&R(this,"readIdx",a)};Sd(["mailbox"],cl,["readIdx","totalMessages"],"readIdx",cl.prototype.Un);
cl.prototype.hc=function(a){if(!this.Xw){this.Xw=!0;var b=this.m(!0);if(!b)return cl.c.hc.call(this,a);var c=this.yj(),d=this;b.kb(c).n(function(b){Mh(this,b);H.prototype.hc.call(this,a);var c=Oh(d,"totalMessages")-Oh(d,"readIdx");0<c&&(b.dispatchEvent("change"),b.Mc()?dl(this.m()):Fh(b,"unreadCount",0,c))},this)}};function X(a){ci.call(this,a);this.r=null;this.Hd=!0;this.Xh=0;this.ci=null;this.Pc=this.tl=this.Rb=!1;this.addEventListener("pub:sig:sessionInitiate",this.sv,!1,this);this.addEventListener("pub:typing",this.Bw,!1,this);this.addEventListener("change:unreadCount",this.Dw,!1,this);this.addEventListener("change:readIdx",this.Sv,!1,this);this.w().e(this,"pub:transfer",this.zw)}y(X,ci);n=X.prototype;n.fp="";n.$h=0;n.jk=0;n.Jg=0;n.Lm=!1;n.Ba=gh;n.h=function(){this.r&&this.r.stop();X.c.h.call(this)};
n.rt=function(){var a=this.C.g();return wd(a)};n.Jd=function(){return this.C.Jd()||""};n.je=function(){return this.C.je()||null};n.Mg=function(a){this.C.Mg(a);return this};n.fm=function(){return this.C.fm()};n.ed=function(){return this.C.ed()};n.Ke=function(a){var b=el(this);b.start(a);return b};n.Le=function(){return this.r?this.r.stop():null};n.kt=e("r");n.sv=function(a){Vk(el(this),a)};
n.Pp=function(){this.$h||(fl(this),this.jk=G(function(){var a=ta()-this.$h;0<a&&4E3>=a&&fl(this);this.$h=0},4E3,this));this.$h=ta();return this};function fl(a){a.f("sendTypingMessage");a.yc("","typing")}function gl(a){a.f("emitTypingEnd");a.Jg&&Zg(a.Jg);a.Jg=0;a.Lm=!1;a.dispatchEvent("typing:end")}
n.Bw=function(){this.f("onTypingMessage");this.Jg?(this.f("onTypingMessage","clearing remote typing timer"),Zg(this.Jg)):(this.f("onTypingMessage","emitting typing start"),this.Lm=!0,this.dispatchEvent("typing:start"));this.Jg=G(function(){gl(this)},5E3,this)};
n.zw=function(a){this.f("onTransferMessage");a=a.target.up(!1,!0);console.log("XXXX"+a);var b=Zb(a),c=this.m().g();b.sessionId!==c&&("transfer"===b.subType?(a=this.m().K().kg())&&0<a.length||this.m().kb(b.to).n(function(a){a.Ke().on("enterState:active",function(){b.subType="transferred";b.sessionId=c;var a=$b(b);this.ic(a,"transfer")},this)},this):(a=this.m().K().kg())&&0<a.length&&this.m().kb(b.to).n(function(a){a.Le()}))};
n.$k=function(a,b){var c=this.m().g();this.ic($b({to:a,device:b,subType:"transfer",sessionId:c}),"transfer")};function el(a){if(!a.r){var b=ck(a.da());b.f("createMediaSession");var c;c=a.m().T.od("/local/mediaSession","mediaSession").Ia().Fa;a.Ia();c.B=a;c.w().e(a,"pub:vadStateConfidence",c.Jw);c.xb(a);var d=a.m().K();c.Bg=new Fk(d,c);Jh(Jh(c,"remove:mediaSession",b.nn,b),"change:mediaState",b.pn,b);b.fi.push(c);b.$g||(b.$g=c);a.r=c;Jh(a.r,"remove:mediaSession",a.nn,a)}return a.r}
n.nn=function(){this.r.pb();this.r=null};n.postMessage=function(a,b){this.f("postMessage","payload",a,"msgType",b);if(Aa(Ua(a))||t(b)&&"im"!=b&&!wa(b,"x-msg-"))return th("BAD_PARAM");var c=b||"im";a=Da(a);"im"===c&&(this.jk&&(Zg(this.jk),this.jk=0),this.$h=0);return this.yc(a,c)};n.zk=function(a,b){this.f("publishMessage","payload",a,"msgType",b);if(Aa(Ua(a))||t(b)&&"im"!=b&&!wa(b,"x-msg-"))return th("BAD_PARAM");var c=b||"im";a=Da(a);return this.ic(a,c)};
n.lt=function(a){a=t(a)?a:20;a=Math.min(a,100);return this.m().Hg(hl(this.m().Va(),this.g()),new il(34,a,!0))};n.Dh=function(a,b){!this.ci&&(this.ci=this.m().Dh(this.g(),a,b))&&(this.Xh=Oh(this.ci,"totalMessages"));return this.ci};function jl(a){if(!a.Ba()){var b=a.Dh();b&&b.Un(a.Xh)}}n.hf=function(){if(this.Rb||this.Ba())return 0;var a=this.Dh();if(!a)return 0;a=this.Xh-Oh(a,"readIdx");return 0>a?0:a};
n.ni=function(a){if(!this.Ba()){gl(a.Fe);var b=!!kl(this.m(),this.g());a=Oh(a,"idx");a>this.Xh&&(this.Dh(!0,a),this.Xh=a,this.Rb?(b&&dl(this.m()),jl(this)):b&&(b=this.hf(),Fh(this,"unreadCount",b-1,b)))}};n.Dw=function(a){a.val&&(a=a.val-(a.oldVal||0),0<a&&dl(this.m(),a))};n.Sv=function(a){if(a.val&&(a=a.val-(a.oldVal||0),0<a)){var b=this.m(),c=b.Qb;b.Qb=t(a)?b.Qb-a:b.Qb-1;0>b.Qb&&(b.Qb=0);c!==b.Qb&&Fh(b,"totalUnreadCount",c,b.Qb)}};n.au=function(){return Bi()&&Ph(this.C,"webrtcEnabled")};n.hu=e("Lm");
n.kx=ca("Hd");n.setActive=function(a){(this.Rb=a)&&jl(this);return this};n.Mc=e("Rb");function ll(a,b,c,d){a=a.m();var f=a.Va();c=(new T(d,f,null,c,!0,!1)).pb();return a.put(b,c)}function ml(a,b,c,d){a=a.m();var f=a.Va();c=(new T(d,f,null,c,!0,!1)).pb();return a.Gb(b,c)}function nl(a,b){a.f("MediaOn set "+b);a.Pc=b}n.fh=e("tl");function Yh(a,b){xa(a,"/")||(a+="/");var c;if(!(c=b)){c=Fd();var d=c.getTime();d<=Ed?c.setTime(++Ed):Ed=d;c=[c.getUTCFullYear(),Ta(c.getUTCMonth()+1,2),Ta(c.getUTCDate(),2),Ta(c.getUTCHours(),2),Ta(c.getUTCMinutes(),2),Ta(c.getUTCSeconds(),2),Ta(c.getUTCMilliseconds(),3)].join("")}return a+c}function hl(a,b){return"/user/"+a+"/msg/"+b}function ol(a,b){var c="/app/"+a+"/account";b&&(c+="/"+b);return c}function pl(a,b){var c="/room/"+a+"/participant";b&&(c+="/"+b);return c}
function ql(a,b){var c="/app/"+a+"/auth";b&&(c+="/"+b);return c}function sk(a,b,c){return"/user/"+a+"/sessions/"+c+"/msg/"+b}function Pj(a){return(a=/.*\/msg\/([^\/]+)/.exec(a))&&0<a.length?a[1]:""}function Zh(a){var b=a.lastIndexOf("/");return 0>=b||1===a.length?"/":a.substr(0,b)}function rl(a){a=a.split("/");return 2>a.length?"":"/"+a[1]+"/"+a[2]}function Oj(a){a=a.split("/");return 2>a.length?"":a[1]}function Nj(a){a=a.split("/");return 2>a.length?"":a[2]}
function sl(a){return/^(\/local\/)/.test(a)};function tl(a){X.call(this,a);this.Lk=null}y(tl,X);Qd("person",tl,["$entity"]);n=tl.prototype;n.km=function(){return this.C.km()};n.Ba=function(){return this.g()===this.m().Va()};n.on=function(a,b,c){ul(this,"on",a);return tl.c.on.call(this,a,b,c)};n.un=function(a,b,c){ul(this,"one",a);return tl.c.un.call(this,a,b,c)};n.fn=function(a,b,c){ul(this,"off",a);return tl.c.fn.call(this,a,b,c)};
function ul(a,b,c){cb(c.split(Eh),function(a){return"change:presenceState"===a||"change"===a})&&(c=[{event:"change:connectionState",target:a.m().K()},{event:"change:online",target:a.C},{event:"change:presenceAutoState",target:a.C},{event:"change:presenceState",target:a.C}],a.Lk=a.mg(),z(c,function(a){"on"===b?Jh(a.target,a.event,this.hn,this):"one"===b?Lh(a.target,a.event,this.hn,this):"off"===b&&Kh(a.target,a.event,this.hn,this)},a))}
n.hn=function(a){"change:presenceState"===a.type&&a.stopPropagation();a=this.mg();a!==this.Lk&&(Fh(this,"presenceState",this.Lk,a),this.Lk=a)};n.mg=function(){var a=this.C.mg();return this.C.tg()&&this.m().K().qf()&&"invisible"!==a?a||"online":"offline"};n.dm=function(){return this.C.dm()};n.Qk=function(a,b){switch(a){case "invisible":case "do_not_disturb":case "online":vl(this.C,a);break;case "none":R(this.C,"presenceAutoState",a)}b&&R(this.C,"presenceDesc",b)};
n.yc=function(a,b){var c;if("typing"===b)c=ml(this,wk(this),a,b);else{var d=Yh(wk(this));c=ll(this,d,a,b);this.Ba()||(d=Yh(hl(this.m().Va(),this.g())),ll(this,d,a,b))}return c};n.ic=function(a,b){return ml(this,wk(this),a,b)};function wk(a){return hl(a.g(),a.m().Va())};function wl(a){this.di=a;this.ur=new ac}n=wl.prototype;n.di=null;n.ur=null;n.set=function(a,b){t(b)?this.di.set(a,this.ur.Da(b)):this.di.remove(a)};n.get=function(a){var b;try{b=this.di.get(a)}catch(c){return}if(null!==b)try{return Zb(b)}catch(d){throw"Storage: Invalid value was encountered";}};n.remove=function(a){this.di.remove(a)};function xl(){};function yl(a){wl.call(this,a)}y(yl,wl);function zl(a){this.data=a}function Al(a){return!t(a)||a instanceof zl?a:new zl(a)}yl.prototype.set=function(a,b){yl.c.set.call(this,a,Al(b))};yl.prototype.mm=function(a){a=yl.c.get.call(this,a);if(!t(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};yl.prototype.get=function(a){if(a=this.mm(a)){if(a=a.data,!t(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};function Bl(a){wl.call(this,a)}y(Bl,yl);Bl.prototype.set=function(a,b,c){if(b=Al(b)){if(c){if(c<ta()){Bl.prototype.remove.call(this,a);return}b.expiration=c}b.creation=ta()}Bl.c.set.call(this,a,b)};Bl.prototype.mm=function(a,b){var c=Bl.c.mm.call(this,a);if(c){var d;if(d=!b){d=c.creation;var f=c.expiration;d=!!f&&f<ta()||!!d&&d>ta()}if(d)Bl.prototype.remove.call(this,a);else return c}};function Cl(a,b,c){this.$p=this.nf=this.of=null;b?(this.$p=a,this.of=null,this.nf=a.split(".")[0]):(this.$p=null,this.of={typ:"JWT",alg:"none"},c&&oc(this.of,c),this.nf=null)}Cl.prototype.F=null;Gd("JWT",Cl);Cl.prototype.V=function(){!this.of&&this.nf&&(this.of=vd(this.nf));return this.of.typ};function Dl(a,b,c,d,f,g,h,k,m){this.Wf=a;this.Ve=b;this.Sg=c;this.Ym=d;this.Tw=f?f:{};this.us=g||null;this.Go=h||null;this.Cn=null;this.Uw=k||null;this.Ll=m||null}y(Dl,Zd);Nd("credentials",Dl,"appId authId username userToken profile oauthToken appUrl providerUrl email".split(" "));function El(a){a.type="credentials";return Ld(Pd,a,null,void 0,void 0)}n=Dl.prototype;
n.Da=function(){return{type:"credentials",appId:this.ka(),authId:this.qc(),username:this.Sg,userToken:this.Ym,profile:this.Fh(),oauthToken:this.xh(),appUrl:this.Go,providerUrl:this.Gh(),email:this.Ll}};n.ka=e("Wf");n.qc=e("Ve");n.xh=e("us");n.Fh=e("Tw");n.Gh=e("Uw");function Fl(a){this.Eb=a||Gl}function Gl(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}n=Fl.prototype;n.W=null;n.Eb=null;n.Od=null;n.Nd=null;
n.add=function(a){if(null==this.W)return this.Nd=this.Od=this.W=new Hl(a),!0;var b=null;Il(this,function(c){var d=null;0<this.Eb(c.value,a)?(d=c.left,null==c.left&&(b=new Hl(a,c),c.left=b,c==this.Od&&(this.Od=b))):0>this.Eb(c.value,a)&&(d=c.right,null==c.right&&(b=new Hl(a,c),c.right=b,c==this.Nd&&(this.Nd=b)));return d});b&&(Il(this,function(a){a.count++;return a.parent},b.parent),Jl(this,b.parent));return!!b};
n.remove=function(a){var b=null;Il(this,function(c){var d=null;0<this.Eb(c.value,a)?d=c.left:0>this.Eb(c.value,a)?d=c.right:(b=c.value,Kl(this,c));return d});return b};n.clear=function(){this.Nd=this.Od=this.W=null};n.contains=function(a){var b=!1;Il(this,function(c){var d=null;0<this.Eb(c.value,a)?d=c.left:0>this.Eb(c.value,a)?d=c.right:b=!0;return d});return b};n.bd=function(){return this.W?this.W.count:0};n.Xa=function(){var a=[];Ll(this,function(b){a.push(b)});return a};
function Ll(a,b,c){if(a.W){var d;c?Il(a,function(a){var b=null;0<this.Eb(a.value,c)?(b=a.left,d=a):0>this.Eb(a.value,c)?b=a.right:d=a;return b}):d=Ml(a);a=d;for(var f=d.left?d.left:d;null!=a;)if(null!=a.left&&a.left!=f&&a.right!=f)a=a.left;else{if(a.right!=f&&b(a.value))break;var g=a;a=null!=a.right&&a.right!=f?a.right:a.parent;f=g}}}
function Nl(a,b,c){if(a.W){var d;c?Il(a,v(function(a){var b=null;0<this.Eb(a.value,c)?b=a.left:(0>this.Eb(a.value,c)&&(b=a.right),d=a);return b},a)):d=Ol(a);a=d;for(var f=d.right?d.right:d;null!=a;)if(null!=a.right&&a.right!=f&&a.left!=f)a=a.right;else{if(a.left!=f&&b(a.value))break;var g=a;a=null!=a.left&&a.left!=f?a.left:a.parent;f=g}}}function Il(a,b,c){for(c=c?c:a.W;c&&null!=c;)c=b.call(a,c)}
function Jl(a,b){Il(a,function(a){var b=a.left?a.left.height:0,f=a.right?a.right.height:0;1<b-f?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&Pl(this,a.left),Ql(this,a)):1<f-b&&(a.right.left&&(!a.right.right||a.right.right.height<a.right.left.height)&&Ql(this,a.right),Pl(this,a));b=a.left?a.left.height:0;f=a.right?a.right.height:0;a.height=Math.max(b,f)+1;return a.parent},b)}
function Pl(a,b){Rl(b)?(b.parent.left=b.right,b.right.parent=b.parent):Sl(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.W=b.right,a.W.parent=null);var c=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);c.left=b;b.parent=c;c.count=b.count;b.count-=(c.right?c.right.count:0)+1}
function Ql(a,b){Rl(b)?(b.parent.left=b.left,b.left.parent=b.parent):Sl(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.W=b.left,a.W.parent=null);var c=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);c.right=b;b.parent=c;c.count=b.count;b.count-=(c.left?c.left.count:0)+1}
function Kl(a,b){if(null!=b.left||null!=b.right){var c=null,d;if(null!=b.left){d=Ol(a,b.left);Il(a,function(a){a.count--;return a.parent},d);if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.Nd&&(a.Nd=d)}else{d=Ml(a,b.right);Il(a,function(a){a.count--;return a.parent},d);if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=
b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.Od&&(a.Od=d)}d.count=b.count;Rl(b)?b.parent.left=d:Sl(b)?b.parent.right=d:a.W=d;Jl(a,c?c:d)}else Il(a,function(a){a.count--;return a.parent},b.parent),Rl(b)?(a.Ly=1,b.parent.left=null,b==a.Od&&(a.Od=b.parent),Jl(a,b.parent)):Sl(b)?(b.parent.right=null,b==a.Nd&&(a.Nd=b.parent),Jl(a,b.parent)):a.clear()}function Ml(a,b){if(!b)return a.Od;var c=b;Il(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);return c}
function Ol(a,b){if(!b)return a.Nd;var c=b;Il(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);return c}function Hl(a,b){this.value=a;this.parent=b?b:null;this.count=1}Hl.prototype.left=null;Hl.prototype.right=null;Hl.prototype.height=1;function Sl(a){return!!a.parent&&a.parent.right==a}function Rl(a){return!!a.parent&&a.parent.left==a};function Tl(a,b,c,d){Nh.call(this,a);this.Qc=b;this.lb={};this.Fb=[];this.Bc=null;c&&(this.Kb=c);d&&Ul(this,d)}y(Tl,Nh);Nd("collection",Tl);n=Tl.prototype;n.Kb=null;n.W=null;n.wm=!1;n.Eb=function(a,b){var c=a.j(),d=b.j();return c<d?-1:c>d?1:0};n.h=function(){this.forEach(this.En,this);this.Bc=this.Fb=this.lb=null;this.W&&(this.En(this.W),this.W=null);Tl.c.h.call(this)};n.hc=function(a){Tl.c.hc.call(this,a);z(this.Fb,function(b){b.za(!0,a)})};n.En=function(a){a.pd=nb(a.pd);kb(a.pd,this);a.ga()};
n.Da=function(){return Td(this.Fb)};n.valueOf=function(){null===this.Bc&&(this.Bc=[],Vl(this));return this.Bc};n.ie=e("Kb");n.pt=e("W");n.V=function(){return this.W&&this.W.V()||"collection"};n.dc=function(){return this.Fb.length};n.bd=function(){var a=this.W;return null!=a?Oh(a,"cnt"):0};n.gt=e("Fb");n.get=function(a){return this.lb[a]};n.Yl=function(a){return this.Fb[a]};n.forEach=function(a,b){z(this.Fb,a,b)};n.Ot=e("wm");
n.ru=function(){if(!this.wm)return new F(this);var a,b=this.ie();a=b.Yc?this.Fb[0].j():this.Fb[this.dc()-1].j();a=new il(b.ja&96,b.Md,!!b.Yc,a);return this.m().Kb(this.j(),a,this)};function Ul(a,b){var c=0===a.dc()&&null===a.W;z(b,function(a){this.Wc(a,c)},a);if(c){a.sort();var d=a.W||a.T;d&&a.w().e(d,"add",a.rn).e(d,"remove",a.Cg).e(d,"change:cnt",a.Wu);a.Kb&&(d=a.Kb.Md)&&a.dc()>=d&&(a.wm=!0);a.za(!0,!1)}}n.add=function(a){this.Wc(a);return this};
n.remove=function(a){if(a.j()in this.lb){delete this.lb[a.j()];if(this.W===a)this.W=null;else{var b=$a(this.Fb,a);lb(this.Fb,b);this.Bc&&lb(this.Bc,b);this.wb&&this.dispatchEvent(new Dh("removeItem",this,a,b))}this.En(a)}return this};n.sort=function(){this.Eb&&(Za.sort.call(this.Fb,this.Eb||rb),this.Bc&&Vl(this));return this};
n.Wc=function(a,b){var c=a.j();if(!(c in this.lb)){this.lb[c]=a.Ia();Mh(a,this);var d;if(c===this.j()&&a instanceof H)this.W=a;else if(b||!this.Eb)d=this.dc(),this.Fb.push(a),this.Bc&&this.Bc.push(a.valueOf());else{var f,c=this.Fb;d=this.Eb||rb;for(var g=0,h=c.length;g<h;){var k=g+h>>1,m;m=d(a,c[k]);0<m?g=k+1:(h=k,f=!m)}f=f?g:~g;d=0<=f?f:~f;pb(this.Fb,d,0,a);this.Bc&&pb(this.Bc,d,0,a.valueOf())}t(d)&&this.wb&&this.dispatchEvent(new Dh("addItem",this,a,d))}};
function Vl(a){var b=a.Fb;a=a.Bc;var c=b.length,d;a.ry=c;for(d=0;d<c;++d)a[d]=b[d].valueOf()}n.rn=function(a){a=a.N();Wl(this,a,this.Kb?this.Kb.ja:17)&&this.Wc(a)};n.Cg=function(a){a=a.N();Wl(this,a,this.Kb?this.Kb.ja:17)&&(a=a.j(),(a=this.j()===a?this.W:this.get(a))&&this.remove(a))};n.Wu=function(a){this.dispatchEvent(a)};
function Wl(a,b,c){b=b.j();var d=a.j();if(!wa(b,d)||!Xl(b,d.length,c)||(c=a.Kb.Kf)&&b<c)return!1;c=a.Kb.Md;d=a.dc();if(c&&d>=c)if(a.Kb.Yc){if(a=a.Yl(0).j(),b<a)return!1}else if(a=a.Yl(d-1).j(),b>a)return!1;return!0};function Yl(a){O.call(this);this.sa=a||null;this.qh={};this.gg=new Fl(Zl);this.M=0;this.za(!0,!1)}y(Yl,O);Gd("objectCache",Yl);n=Yl.prototype;n.F=td("vline.data.ObjectCache");function Zl(a,b){var c=a.Xc,d=b.Xc;return c<d?-1:c>d?1:0}n.Da=function(){return{objects:this.M}};n.m=e("sa");n.dc=e("M");n.contains=function(a){$l(this,a);return a in this.qh};n.get=function(a){$l(this,a);(a=this.qh[a])&&a.Ia();return a};
n.Hg=function(a,b){function c(a){d.push(a);return g&&d.length>=g}$l(this,a);var d=[],f=b.ja,g=b.Md,h=b.Kf;h&&(h=am(h));96===(f&96)?$h(this,a,c,h,!!b.Yc):32===(f&32)&&this.bc(a,c,h,!!b.Yc);16===(f&16)&&(f=this.get(a))&&d.push(f);f=new Tl(this,a,b,d);f.za(!0,!1);return f};n.put=function(a,b,c){return bm(this,a,b,c)};n.od=function(a,b,c){return bm(this,Yh(a,c),b)};n.Gb=function(a,b){var c=Kd(b);c.j()||c.Xb(Yh(a));try{this.Wc(c,"pub")}finally{Rh(this,c.j())}return c};
n.forEach=function(a,b,c){return cm(this,a,b,null,null,c)};n.bc=function(a,b,c,d){return cm(this,b,c,a+"/#",a+"/$",d)};function $h(a,b,c,d,f){cm(a,c,d,d||b+"/",b+"0",f)}function Rh(a,b){$l(a,b);var c=a.qh[b];c&&(kc(a.qh,b),a.gg.remove(c),a.M--,c.Xc=null)}
function bm(a,b,c,d){b=b||Yh("/tmp");var f=a.get(b);f?(a=null!=c?u(c)?{type:c}:la(c.Da)?c.Da():c:{},a instanceof H?a.Xb(b):a.path=b,d?ei(f,a):f.set(a)):(f=Kd(c),f.Xb(b),"iat"in f.oa||(b=f,c=Fd().getTime(),R(b,"iat",Number(c),void 0)),a.Wc(f,d?null:"add"));f.ja&=-513;return f}n.Wc=function(a,b){var c=a.j();a.nl(this,b);a.Xc=am(c);lc(this.qh,c,a);this.gg.add(a);this.M++;return a};
function $l(a,b){if(!u(b)||!wa(b,"/")||1!==b.length&&"/"===b.charAt(b.length-1))throw a.error("BAD_PARAM","Invalid path: "+b);}function am(a){var b=a.lastIndexOf("/");return a.substr(0,b+1)+"#"+a.substr(b+1)}function cm(a,b,c,d,f,g){g?(c?(f=c.length,c=c.substr(0,f-1)+String.fromCharCode(c.charCodeAt(f-1)-1)):c=f,dm(a,b,d,c)):em(a,b,c?c+"!":d,f)}function em(a,b,c,d){var f;if(c){if(0===a.M||Ol(a.gg).value.Xc<c)return;f={Xc:c}}c=b;d&&(c=function(a){return a.Xc>=d?!0:b(a)});Ll(a.gg,c,f)}
function dm(a,b,c,d){var f;if(d){if(0===a.M||Ml(a.gg).value.Xc>d)return;f={Xc:d}}d=b;c&&(d=function(a){return a.Xc<=c?!0:b(a)});Nl(a.gg,d,f)}function ai(a,b){for(var c;;){var d=Zh(b);if(1>=d.length)break;if(c=a.get(d))break;b=d}return c||a};function fm(a){X.call(this,a);this.kq=!1}y(fm,X);Qd("group",fm,["$entity"]);fm.prototype.Bj=function(){var a;a="/group/"+this.g()+"/member";return this.m().Hg(a,new il(34))};fm.prototype.sx=function(){this.kq||(this.kq=!0,this.Bj().n(function(a){Jh(a,"addItem",this.qn,this);a.forEach(this.Tq,this)},this))};
fm.prototype.Tq=function(a){function b(a){console.log("XXX Maybe Starting media session with "+a.g());a.N().set("_autoAccept",!0);a.g()!=c.g()&&a.g()<c.g()&&"online"===a.mg()&&(a.Ke(),console.log("XXX Started media session with "+a.g()))}a=P(a,"userId");var c=this.m().ya;this.m().kb(a).n(function(a){b(a);Jh(a,"change:online",function(){console.log("XXXX User came online, try starting mediasession "+a.g());b(a)})},this)};fm.prototype.qn=function(a){this.Tq(a.N())};function gm(a,b,c,d,f,g){H.call(this,a);b&&this.ib(b);c&&this.Pn(c);d&&R(this,"profileUrl",d);f&&R(this,"thumbnailUrl",f);"boolean"==typeof g&&R(this,"webrtcEnabled",g)}y(gm,H);n=gm.prototype;n.Jd=function(){return P(this,"displayName")};n.Pn=function(a){return R(this,"displayName",a)};n.je=function(){return P(this,"status")};n.Mg=function(a){return R(this,"status",a)};n.fm=function(){return P(this,"profileUrl")};n.ed=function(){return P(this,"thumbnailUrl")};function hm(a,b,c,d){gm.call(this,"room",a,b,c,d,!1)}y(hm,gm);hm.prototype.ib=function(a){a=Yh("/room",a);return this.Xb(a)};Sd("room",hm,["id","displayName","profileUrl","thumbnailUrl","webrtcEnabled"],"id",hm.prototype.ib);function im(a){this.ey=a.device_id||0;this.fy=a.device_name||"unknown";this.dy=a.description||"unknown";this.Ny=a.vendor_id||0;this.iy=a.driver||"unknown";this.jy=a.driver_version||"unknown"}
function jm(a){var b=0,c;for(c in a)b++;this.Ex=0<b;this.yy=a.maxPhysicalCpus||1;this.xy=a.maxCpus||1;this.Tx=a.cpuArchitecture_||"unknown";this.cy=a.curCpus||0;this.Yx=a.cpuVendor||"unknown";this.Vx=a.cpuFamily||0;this.Wx=a.cpuModel||0;this.Xx=a.cpuStepping||0;this.Ux=a.cpuCacheSize||0;this.wy=a.maxCpuSpeed||0;this.zy=a.memorySize||0;this.uy=a.machineModel||"unknown";this.my=a.gpuInfo&&new im(a.gpuInfo)||null}function km(){return lm()}
function lm(){return(new F({})).n(function(a){return new jm(a)}).Ib(aa())}jm.prototype.Yj=e("Ex");function mm(a){X.call(this,a);this.sf=this.Fg=!1;this.Xe=null;this.Zb={audio:!0,video:!0,hd:!1,loopback:void 0};this.by=null}y(mm,X);Qd("room",mm,["$entity"]);n=mm.prototype;n.Cw=function(){this.wg()};n.yj=function(){var a=this.N().yj();return this.m().kb(a)};n.$l=function(){return this.N().$l()};function nm(a){var b=a.m().K();b.on("change:connectionState",function(){"disconnected"===b.ad()?this.Pc&&nl(this,!1):"connected"===b.ad()&&om(this,this.Pc)},a)}
n.Bj=function(){var a=pl(this.g());return this.m().Hg(a,new il(102))};n.join=function(){this.Fm("Joining room",this.g());if(this.sf)return new F(this.Xe);if(this.Fg)return this.f("We have a pending join...return old promise"),this.Zp;nm(this);Gg(window,"focus",this.jn,!1,this);Gg(window,"beforeunload",this.Cw,!1,this);this.tl=!1;this.Fg=!0;return this.Zp=om(this,!1).n(function(){return this.Bj().n(this.vv,this)},this)};
n.vv=function(a){this.sf=!0;this.Fg=!1;this.Xe=a;this.Xe.xb(this);this.Xe.on("addItem",this.qn,this);this.Xe.on("removeItem",this.Fv,this);this.Pc&&pm(this);this.Fm("Joined room",this.g());this.dispatchEvent("join");return a};n.wg=function(){this.Pc||this.r&&this.r.stop();if(this.Fg||this.sf){var a=this.m().ya.g(),a=pl(this.g(),a);this.Pc=!1;return this.m().wg(a).n(function(){this.sf=!1;this.dispatchEvent("leave");this.Xe.ga()},this)}return th("Not joined")};
function om(a,b){var c={};c.mediaOn=b;c.webrtcEnabled=Bi();var d=a.m().ya.g();a.tl=!!b;d=pl(a.g(),d);return a.m().join(d,c)}n.Ke=function(a){if(!this.sf&&!this.Fg)return this.error(new L("INVALID_STATE"),"You have to join room before starting media"),null;var b=el(this);if(this.Pc)return b;a&&(this.Zb=a);nl(this,!0);om(this,this.Pc);pm(this);return b};
function pm(a){if(a.sf){var b=a.Zb,c=el(a);c.On({ui:!0,uiOutgoingDialog:!1,uiIncomingDialog:!1,uiLocalVideo:!0,notify:!0});qm(a);Xk(c,b);a=c.B;c.Kk?c.Kk.forEach(c.zl,c):(c.w().e(a,"add:participantSession",c.fw,!1,c),c.Kk=a.Xe,c.Kk.forEach(c.Qp,c))}}function qm(a){if(!a.ik){var b=el(a);b.g();var c=a.m().K(),d=b.Bg;c.Ch(a.Zb).n(function(a){this.ik=a;Ok(d,a);return a},a)}}
n.Le=function(){nl(this,!1);(this.Fg||this.sf)&&om(this,this.Pc);this.ik&&this.ik.stop();this.ik=null;this.r&&"inactive"!==this.r.Jc()&&mm.c.Le.call(this);return null};n.qn=ba();n.Fv=ba();n.jm=function(){var a=this.g();return window.location.protocol+"//"+window.location.host+"/"+a};n.jn=function(){if(null!=this.r){var a=this.r.g();(a=Ek(a))&&a.close()}};function rm(a,b,c,d,f,g,h,k,m){gm.call(this,"person",a,b,c,d,f);h&&vl(this,h);k&&R(this,"presenceAutoState",k);m&&R(this,"presenceDesc",m);g&&R(this,"username",g)}y(rm,gm);rm.prototype.ib=function(a){a=Yh("/user",a);return this.Xb(a)};rm.prototype.tg=function(){return Ph(this,"online")};rm.prototype.mg=function(){return P(this,"presenceState")};function vl(a,b){"online"===b&&(b=null,R(a,"presenceAutoState",b));R(a,"presenceState",b)}rm.prototype.dm=function(){return P(this,"presenceDesc")||"offline"};
gm.prototype.km=function(){return P(this,"username")};rm.prototype.Pn=function(a){return R(this,"displayName",a)};Sd("person",rm,"id displayName profileUrl thumbnailUrl webrtcEnabled username presenceState presenceAutoState".split(" "),"id",rm.prototype.ib);function sm(a){O.call(this);this.J=a;this.Za={};this.fi=[];this.Em=[];this.vn=[];this.$g=null;this.Tg=0;this.gl=null;this.dh=!1;this.ts=new yc({mp3:"audio/mpeg",ogg:"audio/ogg"});this.dx=3E4;this.nr=0;this.Z=[];this.we=[];this.za();Gg(window,"beforeunload",this.A,!1,this)}y(sm,O);Gd("mediaController",sm);n=sm.prototype;n.h=function(){z(this.Z,function(a){a.stream.A()});fc(this.Za,function(a){a.A()});sm.c.h.call(this)};n.xj=e("$g");n.kg=e("fi");n.Aj=e("Em");n.Dj=e("vn");
n.xm=function(){return 0<this.Tg||0<this.Em.length||0<this.vn.length};n.ym=function(){return 0<this.Tg};n.bo=function(){z(nb(this.fi),function(a){a.stop()})};n.El=function(a,b,c,d,f){this.f("createPeerSession");if(d&&P(d,"mid")in this.Za)return null;a=this.J.El(a,b,c,d,f);Jh(a,"peerSession:end",this.Mv,this);return this.Za[a.g()]=a};n.Mv=function(a){this.f("onPeerSessionEnd");a=a.target.g();delete this.Za[a]};
n.nn=function(a){this.f("onMediaSessionEnd");a=a.target;kb(this.fi,a);this.$g===a&&(this.$g=null)};n.pn=function(){this.f("onMediaStateChange");tm(this,this.Em,"incoming");tm(this,this.vn,"outgoing")};function tm(a,b,c){b.length=0;z(a.fi,function(a){a.Jc()===c&&b.push(a)})}
n.Ch=function(a){this.f("getLocalStream",a);var b=this.J.G.get("mediaConstraints"),b=fi(a,b),c=eb(this.we,function(b){return b.ag&&a?Dd(b.ag,a):!1}),d=eb(this.Z,function(b){return b.stream.Vm&&a?Dd(b.stream.Vm,a):!1});if(d)return++d.stream.Df,c.ye;if(c)return c.zn=++c.zn,c.ye;c=a.video;if(a.audio||c)return 0===this.Tg&&um(this),c=new F,Vi(b,v(this.Iw,this,c,a),v(this.Hw,this,c,a)),this.Tg++,this.we.push({ye:c,ag:a,zn:0,stream:null}),c;this.error("BAD_PARAM","no media requested");return th("BAD_PARAM")};
function Zk(a,b){a.f("returnLocalStream",b);var c=eb(a.Z,function(a){return a.stream===b}),d=eb(a.we,function(a){return a.stream===b});(c||d)&&b.stop()}n.removeStream=function(a){var b=eb(this.Z,function(b){return b.stream===a}),c=eb(this.we,function(b){return b.stream===a});0===a.Df?(b&&kb(this.Z,b),c&&kb(this.we,c)):this.error("BUG","Trying to remove ref counted stream!")};
n.Iw=function(a,b,c){this.f("onUserMedia",c);var d=B?new Pi(c,!0,this,b):new Gi(c,!0,this,b);this.Z.push({stream:d});vm(this);z(this.we,function(a){if(a.ag&&b&&Dd(a.ag,b)){for(var c=0;c<a.zn;c++)++d.Df;a.stream=d}});a.ca(d)};n.Hw=function(a,b,c){this.f("onUserMediaFailure",c);vm(this);(c=eb(this.we,function(a){return a.ag&&b?Dd(a.ag,b):!1}))&&kb(this.we,c);a.pa(new L("GET_LOCAL_STREAM_FAILED"))};function vm(a){a.Tg--;0===a.Tg&&(wm(a),a.dispatchEvent("change"))}n.zr=ca("dx");
function xm(a,b){var c;try{c=new Audio}catch(d){return a.error("Browser does not support audio"),null}for(var f=null,g=0,h=[],k=[],g=0;g<b.length;g++){var m=b[g].split(".");if(m=a.ts.get(m[m.length-1],null))m=c.canPlayType&&c.canPlayType(m),"probably"===m?k.push(b[g]):"maybe"===m&&h.push(b[g])}c=!1;h=mb(k,h);k=null;for(g=0;g<h.length;g++){k=h[g];try{f=new Audio(k);c=!0;break}catch(p){}}c?a.f("selected audio: ",k):a.error("No playable audio files available");return f}
function ym(a){return u(a)?a&&0!==a.length?[a]:null:ia(a)?a:null}n.Vn=function(a){if(a=ym(a))if(this.rd&&delete this.rd,this.rd=xm(this,a))this.rd.preload="auto",this.rd.loop="loop"};function bl(a){a.f("startRinging");try{0===a.nr++&&a.rd&&a.rd.play()}catch(b){a.error(b,"Error starting ringtone")}}n.ni=function(a){a=a.target.Fe;if(!a.Ba()&&!a.Mc()){this.f("ding");try{this.Hd&&(this.Hd.load(),this.Hd.play())}catch(b){this.error(b,"Error playing ding")}}};
function um(a){if(Ui(a.J.gf().G,S.es))if(pi||ti)a.dh=!0,a.J.tb().Zn();else if(ui){var b=zm(a.J.gf());a.gl=b.dc();b.addEventListener("resize",a.Nq,!1,a)}}function wm(a){zm(a.J.gf()).removeEventListener("resize",a.Nq,!1,a);a.dh&&(a.dh=!1,a.J.tb().Jj())}n.Nq=function(a){a=a.target.dc();this.dh?ne(a,this.gl)&&wm(this):a.width===this.gl.width&&a.height<this.gl.height&&(this.dh=!0,this.J.tb().Zn())};function il(a,b,c,d,f){this.ja=a||17;this.Yc=void 0;null!=c&&(this.Yc=c);this.Md=1E3;null!=b&&1E3>b&&(this.Md=b);this.Kf=void 0;null!=d&&(this.Kf=d);this.gi=void 0;null!=f&&(this.gi=f)}y(il,Zd);Nd("query",il,["flags","seq","desc","limit","start"]);function Xl(a,b,c){return a.length===b?1===(c&1):"/"===a.charAt(b)&&(6===(c&6)||2===(c&2)&&a.lastIndexOf("/")===b)?!0:!1}il.prototype.cb=function(){return new il(this.ja,this.Md,this.Yc,this.Kf,this.gi)};
il.prototype.Nl=function(a){return a.ja===this.ja&&a.gi===this.gi&&a.Yc===this.Yc&&a.Md===this.Md&&a.Kf===this.Kf};il.prototype.Da=function(){return{flags:this.ja,seq:this.gi,desc:this.Yc,limit:this.Md,start:this.Kf}};il.prototype.Fj=function(){return this.ja&7};function Am(a,b,c,d){this.type=a;this.path=b;this.obj=c;this.rid=d||Di(8)}y(Am,Zd);Am.prototype.Kc=e("sid");Am.prototype.ka=e("appId");Am.prototype.j=e("path");function Bm(a){return a.obj||null}Am.prototype.Ba=function(){return sl(this.j())};function Cm(a,b,c,d){Am.call(this,b,c,d);this.Ao=a}y(Cm,Am);Nd("Request",Cm);Cm.prototype.Jl=null;Cm.prototype.Tb=function(){return this.Ao||null};Cm.prototype.vr=ca("Ao");Cm.prototype.Ai=function(a){var b=this.Tb();b&&b.send(a.V(),a)};
function Dm(a,b,c){b=new Em(a.V()+".resp",a.rid,a.j(),b,c);a.Ai(b)}function Em(a,b,c,d,f){Am.call(this,a,c,d,b);this.err=void 0;null!=f&&(this.err=f)}y(Em,Am);Em.prototype.getError=function(){return this.err||null};function Fm(a,b,c,d,f,g){Cm.call(this,a,"login",b);this.appId=c;this.authId=d;this.token=f;this.profile=g}y(Fm,Cm);Nd("LoginReq",Fm);Fm.prototype.ka=e("appId");Fm.prototype.qc=e("authId");Fm.prototype.Wa=e("token");Fm.prototype.Fh=e("profile");
function Gm(a,b,c){Cm.call(this,a,"get",b);this.query=c}y(Gm,Cm);Nd("GetReq",Gm);Gm.prototype.ie=e("query");function Hm(a,b,c,d){b=new Im(a.rid,a.j(),a.ie(),b,c,d);a.Ai(b)}function Im(a,b,c,d,f,g){Em.call(this,"get.resp",a,b,d,g);f&&(this.res=f);c&&(this.query=c)}y(Im,Em);Nd("get_response",Im);Em.prototype.ie=function(){return this.query||null};function Jm(a,b,c,d){ci.call(this,new H("session"),a.K());this.J=a;this.eh=b;this.Cc=c;this.er=d;this.jb=a.K();this.T=new Yl(this);this.vb=Di();this.ya=null;this.Gn={};this.zg=null;this.Qb=0;this.ai=null;this.addEventListener("add:im",this.ni,!1,this);this.la("get.resp",this.hv);this.la("put.resp",this.Dq);this.la("post.resp",this.Dq);this.la("publish.resp",this.wf);this.la("delete.resp",this.wf);this.la("login.resp",this.wf);this.la("logout.resp",this.wf);this.la("join.resp",this.wf);this.la("leave.resp",
this.wf);this.la("put",this.Gq);this.la("post",this.Gq);this.la("publish",this.Xv);this.la("delete",this.Yv);this.la("login.err.resp",this.zv)}y(Jm,ci);Gd("session",Jm);n=Jm.prototype;n.lk=!1;n.toString=function(){return this.Va()+"#"+this.g()};n.h=function(){this.gc();this.ya&&(this.ya.ga(),this.ya=null);this.zg&&(this.zg.ga(),this.zg=null);this.er=this.Cc=null;delete this.jb;delete this.T;Jm.c.h.call(this)};n.da=e("J");n.K=e("jb");n.g=e("vb");n.Va=function(){return this.ya?this.ya.g():""};
n.xh=function(){return this.Ma().xh()||""};n.Gh=function(){return this.Ma().Gh()};n.Ma=function(){return this.eh.Ma()};n.it=e("ya");n.Qk=function(a,b){this.ya.Qk(a,b);return this};n.Mg=function(a){this.ya.Mg(a);return this};n.kb=function(a){var b=xd(this.eh.qc(),a);if(!yd(b))return th(new L("BAD_PARAM","Invalid personId: "+a));a=Yh("/user",b);return this.get(a,"person").n(function(a){a=a.Fa;a.xb(this);return a},this)};
function Km(a,b){var c=a.K().ka(),c=xd(c,b);if(!yd(c))return th(new L("BAD_PARAM","Invalid groupId: "+b));c=Yh("/group",c);return a.get(c,"group").n(function(a){a=a.Fa;a.xb(this);return a},a)}n.yp=function(a){var b=this.K().ka(),b=xd(b,a);if(!yd(b))return th(new L("BAD_PARAM","Invalid roomId: "+a));a=Yh("/room",b);return this.get(a,"room").n(function(a){a=a.Fa;a.xb(this);return a},this)};
n.postMessage=function(a,b,c){this.f("postMessage","channelId",a,"message",b,"type",c);return this.kb(a).n(function(a){var f=a.postMessage(b,c);a.ga();return f},this)};n.zk=function(a,b,c){this.f("publishMessage","channelId",a,"message",b,"type",c);return this.kb(a).n(function(a){var f=a.zk(b,c);a.ga();return f},this)};n.Ke=function(a,b){this.f("startMedia","channelId",a,"constraints",b);return this.kb(a).n(function(a){var d=a.Ke(b);a.ga();return d},this)};
n.Le=function(a){this.f("stopMedia","channelId",a);return this.kb(a).n(function(a){var c=a.r;c&&c.stop();a.ga()},this)};n.ft=function(){var a=this.K().ka();return this.Hg(ol(a),new il(34))};
n.gc=function(){if(!this.lk){this.lk=!0;this.ai=null;this.eh&&this.eh.gc();this.lk=!0;this.C.remove();var a=this.jb,b=this.Va();b in a.Bi&&(a.Ok--,delete a.Bi[b],kb(a.Wd,this),Lm(a),a.Th()||a.dispatchEvent("logout"));this.dispatchEvent("logout");this.dispatchEvent("remove:session");a=this.ya.j();a=new Cm(this.Cc,"logout",a);return Mm(this,a,this).n(this.A,this)}return new F(this)};
function Nm(a,b){a.f("login","credentials",b);if(null!=a.ai)return a.ai;var c=b.Fh(),d=new rm(b.Sg,c.displayName,c.profileUrl,c.thumbnailUrl,Bi(),c.username);a.ya=d.Fa;var f=c.presenceDesc;f&&R(d,"presenceDesc",f);(c=c.presenceState)&&a.Qk(c);c=new Fm(a.Cc,d.j(),a.J.ka(),a.eh.qc(),b.Ym,d.Da());a.T.put(d.j(),d);Om(a.jb,a);a.dispatchEvent("add:session");d=Mm(a,c,a).Ib(function(){this.gc()},a);a.ai=rh(d,Pm(a)).n(fh(a));a.T.put(Yh("/local/session",a.vb),a.C);a.za(!1);$g(function(){this.za(!0)},a);a.dispatchEvent("login");
return a.ai}n.get=function(a,b){this.f("get","path",a,"type",b);var c=this.T.get(a);return c?new F(c.Ia()):this.Kb(a,new il).n(function(c){!c&&b&&(c=this.T.put(a,b));return c&&c.Ia()},this)};n.Is=function(){return this.od("/room","room").n(function(a){a=a.Fa;a.Ia();a.xb(this);return a},this)};n.Hg=function(a,b){this.f("query","path",a,"query",b);return this.Kb(a,b,new Tl(this.T,a,b))};
n.put=function(a,b){this.f("put","path",a,"val",b);var c=!(a&&this.T.contains(a)),d=this.T.put(a,b),f=null;if(c)f=d.Da();else if(d.Sa&&!jc(d.Sa)){var c={},g;for(g in d.Sa)3!==d.Sa[g]&&(f=d.get(g),c[g]=null!=f?f:null);f=c}if(f){for(var h in d.Sa)d.Sa[h]=3;d.Ia();return this.be("put",d,d.j(),f)}return new F(d)};n.od=function(a,b,c){this.f("post","path",a,"val",b);var d=Kd(b).Ia();c&&d.Xb(Yh(a,c));a=d.j()||a;return this.be("post",d,a,d.Da()).n(function(a){ei(d,a);d.pb();return this.T.put(d.j(),d)},this)};
n.Gb=function(a,b,c){this.f("publish","path",a,"val",b);b=Kd(b);b.j()||b.Xb(Yh(a,c));return this.be("publish",b,b.j(),b.Da())};n.Ww=function(a,b,c,d,f){return this.Gb(sk(a,c,b),d,f)};n.call=function(a,b){return this.Gb("/service",b,a)};function Qm(a,b){var c=a.Gb("/service",b,"authorize");c.n(function(a){a=El(a);a=new Rm(a);this.jb.dispatchEvent(a)},a);return c}n.join=function(a,b){var c=new Cm(this.Cc,"join",a,b);return Mm(this,c,this)};
n.wg=function(a){a=new Cm(this.Cc,"leave",a,{});return Mm(this,a,this)};n.lu=function(a){var b={};b.groupId=a;a=this.Gb("/service",b,"joinGroup");a.n(function(a){a=a.valueOf();this.Wc(a,!0);return Km(this,a.path.substr(a.path.lastIndexOf("/")+1))},this);return a};function Sm(a,b){var c=ol(a.J.ka()),c=a.od(c,b);c.n(function(a){a=El(a.valueOf());var b=this.K();b.f("loginWithCredentials","credentials",a);b=new Tm(b.J,a.qc(),!0);Um(b,a);return Nm(b.m(),a)},a);return c}
n.remove=function(a){this.f("remove","path",a);var b=this.T.get(a);b&&b.Cg();return this.be("delete",a,a)};n.Kb=function(a,b,c){return Mm(this,new Gm(this.Cc,a,b),c)};n.be=function(a,b,c,d){a=new Cm(this.Cc,a,c,d);return Mm(this,a,b)};function Mm(a,b,c){var d=new F;a.Gn[b.rid]={ye:d,fl:c};a.yc(b);return d}n.yc=function(a){if(!sl(a.j())){a.sid=this.vb;var b=this.J.ka();a.appId=b;this.f("send",a);this.er.send(a.V(),a)}};n.Wc=function(a,b){return this.T.put(Jd(a),a,b)};
n.hv=function(a){var b=Vm(this,a),c=a.getError();if(c)b.ye.pa(c);else{var d=Bm(a),c=b.fl,f=[],g;z(a.res||null,function(a){f.push(this.Wc(a,!0))},this);if(d){g=this.Wc(d,!0);if(a=a.ie())g.ja|=a.ja;f.push(g)}c?(Ul(c,f),c.za(!0,!1),b.ye.ca(c)):b.ye.ca(g||null)}};n.Dq=function(a){var b=a.j();if(b=this.T.get(b)){var c=Bm(a);a.getError()||c&&ei(b,c);b.pb();var c=!1,d;for(d in b.Sa)3===b.Sa[d]?delete b.Sa[d]:c=!0;c&&di(b)}this.wf(a)};
n.wf=function(a){var b=Vm(this,a),c=a.getError();c?("AUTH_FAILED"===c.V()&&this.gc(),b.ye.pa(c)):(a=Bm(a)||b.fl,b.fl instanceof T&&(a=b.fl),b.ye.ca(a))};n.Gq=function(a){this.f("recv",a);var b=a.j(),c=Bm(a);(b=this.T.get(b))?ei(b,c):this.T.put(a.j(),Bm(a))};n.Xv=function(a){this.f("recv",a);this.T.Gb(a.j(),Bm(a))};n.Yv=function(a){this.f("recv",a);(a=this.T.get(a.j()))&&a.Cg()};n.zv=function(a){this.f("recv",a);this.gc()};n.la=function(a,b){var c=v(b,this);this.Cc.Nk[a]={ca:c,en:!0}};
function Vm(a,b){a.f("recv",b);var c=b.rid,d=a.Gn[c];delete a.Gn[c];return d}function Wm(a){var b=a.Va();return a.Hg("/user/"+b+"/msg",new il(34))}function Xm(a,b,c){return a.get(ol(b,c))}function Pm(a){return Wm(a).n(ca("zg"),a)}n.Dh=function(a,b,c){var d=hl(this.Va(),a);if(this.zg){var f=kl(this,a);!f&&b&&(b={type:"mailbox"},b.iss=a,b.totalMessages=c,f=this.T.put(d,b));return f}return null};function kl(a,b){var c=hl(a.Va(),b);return a.zg.get(c)||a.T.get(c)}n.ni=function(a){a.target.Fe.ni(a.target)};
function dl(a,b){var c=a.Qb;a.Qb=t(b)?a.Qb+b:a.Qb+1;c!==a.Qb&&Fh(a,"totalUnreadCount",c,a.Qb)}n.hf=e("Qb");function Ym(a,b,c){Cl.call(this,a,b,c);this.Ei=this.Uk=this.xf=this.Eg=this.Uh=null;b?(b=a.split("."),this.Uh=a,this.Eg=null,this.xf=b[1],this.Uk=null,2<b.length&&(this.Ei=b[2])):(this.Uh=null,this.Eg=a,this.Ei=this.Uk=this.xf=null)}y(Ym,Cl);Gd("JWS",Ym);function Zm(a){!a.Eg&&a.xf&&(a.Eg=vd(a.xf));return a.Eg}
function $m(a){if(!a.Uh){a.nf||(a.nf=ud(a.of));var b=a.nf+".";a.xf||(a.xf=ud(a.Eg));b=b+a.xf+".";if(!a.Ei){var c;if(a.Uk){c=a.Uk.ly();var d="",f,g=0,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,m=kf(c),h=h.substr(0,62)+"-_";for(f=0;6*d.length<m;)d+=h.charAt((k^c[f]>>>g)>>>26),6>g?(k=c[f]<<6-g,g+=26,f++):(k<<=6,g-=6);c=d}else c="";a.Ei=c}a.Uh=b+a.Ei}return a.Uh};function an(a,b){O.call(this,a.K());this.J=a;this.Wf=a.ka();this.Ve=b;this.Fl=this.sa=null;this.za()}y(an,O);Gd("authProvider",an);n=an.prototype;n.m=e("sa");function bn(a,b,c){var d=Zm(new Ym(c,!0)),d=d&&d.sub;if(null==d)throw a.error(new L("BAD_PARAM","Required property 'sub' not found in token"));Um(a,new Dl(a.Wf,a.Ve,d,c,b))}n.gc=function(){this.f("logout");this.Fl=this.sa=null};n.qc=e("Ve");n.ka=e("Wf");n.Ma=e("Fl");
function Um(a,b){a.Fl=b;a.sa=cn(a.J,a);b.Cn=a;a.dispatchEvent("ready:credentials")};function Y(a){O.call(this);this.J=a;this.Nf=a.Nf||(a.Nf=dn(a));var b=this.eb=ck(a);b.jb=this;b.xb(this);this.addEventListener("add:im",b.ni,!1,b);if(!(b=a.$a)){var b="vline_"+a.ka(),c=new en;(c=c.Im()?b?new fn(c,b):c:null)||(b=new gn(b||"UserDataSharedStore"),c=b.Im()?b:null);b=c;b=a.$a=b?new Bl(b):null}this.$a=b;this.lo=(a.rk||(a.rk=new Yl)).put("/local/transport","transport").Ia();Mh(this.lo,this);this.za(!0);this.Bi={};this.Wd=[];this.Ok=0;this.Sp=!1;this.J.G.get("autoConnect")&&this.$f()}
y(Y,O);Gd("client",Y);n=Y.prototype;n.ka=function(){return this.J.ka()};n.da=e("J");n.gf=function(){return this.da().gf()};n.hm=function(){return nb(this.Wd)};n.Ej=function(){return this.J.Ej()};n.ef=function(){if(0!=this.Wd.length){var a=hn(this);return a?a:this.Wd[0]}return this.J.Ej()};n.Tj=function(){return!hn(this)};function hn(a){return eb(a.Wd,function(a){return"anon"!==zd(a.ya.g())})}n.ad=function(){return this.lo.ad()};n.kg=function(){return this.eb.kg()};n.Aj=function(){return this.eb.Aj()};
n.Dj=function(){return this.eb.Dj()};n.xj=function(){return this.eb.xj()};n.hf=function(){var a=0;fc(this.Wd,function(b){a+=b.hf()});return a};n.Nt=function(){return!!this.kg().length};n.Mt=function(){return!!this.Aj().length};n.Pt=function(){return!!this.Dj().length};n.xm=function(){return this.eb.xm()};n.ym=function(){return this.eb.ym()};n.Kt=function(){return!!this.xj()};n.tb=function(){return this.J.tb()};n.bo=function(){this.eb.bo();return this};
function jn(a,b){a.f("getCredentials","authId",b);var c=new F,d=new Tm(a.J,b,!0),f=d.Ma();f?c.ca(f):Lh(Lh(d,"ready:credentials",function(){c.ca(d.Ma())},a),"error",function(a){c.pa(a.getError())});d.uf();a.za();return c}
n.uf=function(a,b,c){this.f("login","authId",a,"profile",b,"token",c);a&&"anon"!==a||(a="anon",c=kn(this)||Di(),c=$m(new Ym({iss:"anon",sub:"anon:"+c,exp:parseInt((new Date).getTime()/1E3+864E6,10)},!1)),b||(b={displayName:"Remote User"}));var d=new Tm(this.J,a,!0);return c?(bn(d,b||null,c),Nm(d.m(),d.Ma())):jn(this,a).n(function(a){return Nm(a.Cn.m(),a)})};
n.gc=function(){this.f("logout");var a=this.Wd;this.Wd=[];this.Bi={};this.Ok=0;Lm(this);var b=[];z(a,function(a){b.push(a.gc())});return rh.apply(null,b)};n.Th=function(){return!!this.Ok};n.qf=function(){return this.lo.qf()};n.$f=function(){this.f("connect");this.Nf.send("connect",{});return this};n.disconnect=function(){this.f("disconnect");this.Nf.send("disconnect",{});return this};n.hx=function(a){this.eb.zr(a)};n.Vn=function(a){this.eb.Vn(a);return this};
n.jx=function(a){var b=this.eb;if(a=ym(a))b.Hd&&delete b.Hd,b.Hd=xm(b,a),b.Hd&&(b.Hd.preload="auto")};function Om(a,b){a.Ok++;a.Bi[b.Va()]=b;a.Wd.push(b);Lm(a)}function ln(a){a.f("loadCredentials");var b=mn(a);b&&b.length&&(a.f("credentials",b),z(b,function(a){try{var b=El(a)}catch(f){this.error(f,"Error deserializing credentials");return}a=new Tm(this.J,b.qc(),!0);Um(a,b);Nm(a.m(),b)},a),a.za())}
function mn(a){if(!a.$a)return null;a.f("loadCredentials");var b=null;try{b=a.$a.get("credentials")}catch(c){a.error(c,"Error getting saved credentials")}return b}function kn(a){a=mn(a);var b=null;a&&a.length&&eb(a,function(a){try{var d;d=El(a).Sg;return"anon"==zd(d)?(b=wd(d),!0):!1}catch(f){return this.error(f,"Error deserializing credentials"),!1}});return b}
function Lm(a){if(a.$a)try{var b=[];fc(a.Bi,function(a){b.push({type:"credentials",appId:a.Ma().ka(),authId:a.Ma().qc(),username:a.Ma().Sg,userToken:a.Ma().Ym,oauthToken:a.Ma().xh(),appUrl:a.Ma().Go,providerUrl:a.Ma().Gh(),email:a.Ma().Ll})});a.f("saveSessions",b);a.$a.set("credentials",b)}catch(c){a.error(c,"Error saving credentials")}}n.Ch=function(a){a||(a={audio:!0,video:!0,hd:!1,loopback:void 0});a=ck(this.da()).Ch(a);a.n(v(this.mn,this)).Ib(v(this.ln,this));return a};
n.ln=function(){var a=new L("GET_LOCAL_STREAM_FAILED");this.error(a);return a};n.mn=function(a){this.f("onLocalStream_",a);var b=new xh("client:addLocalStream",this,a);b.type="client:addLocalStream";this.dispatchEvent(b);return a};function Rm(a,b){N.call(this,"recv:credentials",b);this.credentials=a}y(Rm,N);Rm.prototype.Ma=e("credentials");function nn(){}y(nn,xl);nn.prototype.bd=function(){var a=0;wc(this.Ad(!0),function(){a++});return a};nn.prototype.clear=function(){var a=xc(this.Ad(!0)),b=this;z(a,function(a){b.remove(a)})};function on(a){this.$a=a}y(on,nn);n=on.prototype;n.Im=function(){if(!this.$a)return!1;try{return this.$a.setItem("__sak","1"),this.$a.removeItem("__sak"),!0}catch(a){return!1}};n.set=function(a,b){try{this.$a.setItem(a,b)}catch(c){if(0==this.$a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};n.get=function(a){a=this.$a.getItem(a);if(!u(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};n.remove=function(a){this.$a.removeItem(a)};
n.bd=function(){return this.$a.length};n.Ad=function(a){var b=0,c=this.$a,d=new uc;d.next=function(){if(b>=c.length)throw tc;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!u(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};n.clear=function(){this.$a.clear()};n.key=function(a){return this.$a.key(a)};function en(){var a=null;try{a=window.localStorage||null}catch(b){}this.$a=a}y(en,on);function gn(a,b){if(A&&!Pb(9)){pn||(pn=new yc);this.Pb=pn.get(a);this.Pb||(b?this.Pb=document.getElementById(b):(this.Pb=document.createElement("userdata"),this.Pb.addBehavior("#default#userData"),document.body.appendChild(this.Pb)),pn.set(a,this.Pb));this.fo=a;try{this.Pb.load(this.fo)}catch(c){this.Pb=null}}}y(gn,nn);var qn={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},pn=null;n=gn.prototype;n.Pb=null;n.fo=null;
function rn(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return qn[a]})}n.Im=function(){return!!this.Pb};n.set=function(a,b){this.Pb.setAttribute(rn(a),b);sn(this)};n.get=function(a){a=this.Pb.getAttribute(rn(a));if(!u(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};n.remove=function(a){this.Pb.removeAttribute(rn(a));sn(this)};n.bd=function(){return this.Eh().attributes.length};
n.Ad=function(a){var b=0,c=this.Eh().attributes,d=new uc;d.next=function(){if(b>=c.length)throw tc;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!u(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};n.clear=function(){for(var a=this.Eh(),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);sn(this)};function sn(a){try{a.Pb.save(a.fo)}catch(b){throw"Storage mechanism: Quota exceeded";}}n.Eh=function(){return this.Pb.XMLDocument.documentElement};function fn(a,b){this.Ag=a;this.wc=b+"::"}y(fn,nn);n=fn.prototype;n.Ag=null;n.wc="";n.set=function(a,b){this.Ag.set(this.wc+a,b)};n.get=function(a){return this.Ag.get(this.wc+a)};n.remove=function(a){this.Ag.remove(this.wc+a)};n.Ad=function(a){var b=this.Ag.Ad(!0),c=this,d=new uc;d.next=function(){for(var d=b.next();d.substr(0,c.wc.length)!=c.wc;)d=b.next();return a?d.substr(c.wc.length):c.Ag.get(d)};return d};var tn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?\x3d[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function un(a){if(vn){vn=!1;var b=q.location;if(b){var c=b.href;if(c&&(c=(c=un(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw vn=!0,Error();}}return a.match(tn)}var vn=C;function wn(a,b){var c;if(a instanceof wn)this.sc=t(b)?b:a.sc,xn(this,a.sd),c=a.Pf,yn(this),this.Pf=c,c=a.Id,yn(this),this.Id=c,this.Di(a.nd),this.Xb(a.j()),zn(this,a.xc.cb()),An(this,a.Sb);else if(a&&(c=un(String(a)))){this.sc=!!b;xn(this,c[1]||"",!0);var d=c[2]||"";yn(this);this.Pf=d?decodeURIComponent(d):"";d=c[3]||"";yn(this);this.Id=d?decodeURIComponent(d):"";this.Di(c[4]);this.Xb(c[5]||"",!0);zn(this,c[6]||"",!0);An(this,c[7]||"",!0)}else this.sc=!!b,this.xc=new Bn(null,0,this.sc)}n=wn.prototype;
n.sd="";n.Pf="";n.Id="";n.nd=null;n.Qc="";n.Sb="";n.eu=!1;n.sc=!1;n.toString=function(){var a=[],b=this.sd;b&&a.push(Cn(b,Dn),":");if(b=this.Id){a.push("//");var c=this.Pf;c&&a.push(Cn(c,Dn),"@");a.push(encodeURIComponent(String(b)));b=this.nd;null!=b&&a.push(":",String(b))}if(b=this.j())this.Id&&"/"!=b.charAt(0)&&a.push("/"),a.push(Cn(b,"/"==b.charAt(0)?En:Fn));(b=this.xc.toString())&&a.push("?",b);(b=this.Sb)&&a.push("#",Cn(b,Gn));return a.join("")};n.cb=function(){return new wn(this)};
function xn(a,b,c){yn(a);a.sd=c?b?decodeURIComponent(b):"":b;a.sd&&(a.sd=a.sd.replace(/:$/,""))}n.Di=function(a){yn(this);if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);this.nd=a}else this.nd=null;return this};n.j=e("Qc");n.Xb=function(a,b){yn(this);this.Qc=b?a?decodeURIComponent(a):"":a;return this};function zn(a,b,c){yn(a);b instanceof Bn?(a.xc=b,a.xc.Qn(a.sc)):(c||(b=Cn(b,Hn)),a.xc=new Bn(b,0,a.sc))}n.ie=function(){return this.xc.toString()};
function In(a,b,c){yn(a);ia(c)||(c=[String(c)]);Jn(a.xc,b,c)}function An(a,b,c){yn(a);a.Sb=c?b?decodeURIComponent(b):"":b}function yn(a){if(a.eu)throw Error("Tried to modify a read-only Uri");}n.Qn=function(a){this.sc=a;this.xc&&this.xc.Qn(a);return this};function Kn(a){return a instanceof wn?a.cb():new wn(a,void 0)}
function Ln(a,b){a instanceof wn||(a=Kn(a));b instanceof wn||(b=Kn(b));var c=a,d=b,f=c.cb(),g=!!d.sd;g?xn(f,d.sd):g=!!d.Pf;if(g){var h=d.Pf;yn(f);f.Pf=h}else g=!!d.Id;g?(h=d.Id,yn(f),f.Id=h):g=null!=d.nd;h=d.j();if(g)f.Di(d.nd);else if(g=!!d.Qc)if("/"!=h.charAt(0)&&(c.Id&&!c.Qc?h="/"+h:(c=f.j().lastIndexOf("/"),-1!=c&&(h=f.j().substr(0,c+1)+h))),".."==h||"."==h)h="";else if(-1!=h.indexOf("./")||-1!=h.indexOf("/.")){for(var c=wa(h,"/"),h=h.split("/"),k=[],m=0;m<h.length;){var p=h[m++];"."==p?c&&m==
h.length&&k.push(""):".."==p?((1<k.length||1==k.length&&""!=k[0])&&k.pop(),c&&m==h.length&&k.push("")):(k.push(p),c=!0)}h=k.join("/")}g?f.Xb(h):g=""!==d.xc.toString();g?zn(f,d.xc.toString()?decodeURIComponent(d.xc.toString()):""):g=!!d.Sb;g&&An(f,d.Sb);return f}function Cn(a,b){return u(a)?encodeURI(a).replace(b,Mn):null}function Mn(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Dn=/[#\/\?@]/g,Fn=/[\#\?:]/g,En=/[\#\?]/g,Hn=/[\#\?@]/g,Gn=/#/g;
function Bn(a,b,c){this.ac=a||null;this.sc=!!c}function Nn(a){if(!a.Ha&&(a.Ha=new yc,a.M=0,a.ac))for(var b=a.ac.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),f=null,g=null;0<=d?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=Fa(f);f=On(a,f);a.add(f,g?Fa(g):"")}}n=Bn.prototype;n.Ha=null;n.M=null;n.bd=function(){Nn(this);return this.M};n.add=function(a,b){Nn(this);this.ac=null;a=On(this,a);var c=this.Ha.get(a);c||this.Ha.set(a,c=[]);c.push(b);this.M++;return this};
n.remove=function(a){Nn(this);a=On(this,a);return this.Ha.Gd(a)?(this.ac=null,this.M-=this.Ha.get(a).length,this.Ha.remove(a)):!1};n.clear=function(){this.Ha=this.ac=null;this.M=0};n.Gd=function(a){Nn(this);a=On(this,a);return this.Ha.Gd(a)};n.ge=function(){Nn(this);for(var a=this.Ha.Xa(),b=this.Ha.ge(),c=[],d=0;d<b.length;d++)for(var f=a[d],g=0;g<f.length;g++)c.push(b[d]);return c};
n.Xa=function(a){Nn(this);var b=[];if(a)this.Gd(a)&&(b=mb(b,this.Ha.get(On(this,a))));else{a=this.Ha.Xa();for(var c=0;c<a.length;c++)b=mb(b,a[c])}return b};n.set=function(a,b){Nn(this);this.ac=null;a=On(this,a);this.Gd(a)&&(this.M-=this.Ha.get(a).length);this.Ha.set(a,[b]);this.M++;return this};n.get=function(a,b){var c=a?this.Xa(a):[];return 0<c.length?String(c[0]):b};function Jn(a,b,c){a.remove(b);0<c.length&&(a.ac=null,a.Ha.set(On(a,b),nb(c)),a.M+=c.length)}
n.toString=function(){if(this.ac)return this.ac;if(!this.Ha)return"";for(var a=[],b=this.Ha.ge(),c=0;c<b.length;c++)for(var d=b[c],f=encodeURIComponent(String(d)),d=this.Xa(d),g=0;g<d.length;g++){var h=f;""!==d[g]&&(h+="\x3d"+encodeURIComponent(String(d[g])));a.push(h)}return this.ac=a.join("\x26")};n.cb=function(){var a=new Bn;a.ac=this.ac;this.Ha&&(a.Ha=this.Ha.cb(),a.M=this.M);return a};function On(a,b){var c=String(b);a.sc&&(c=c.toLowerCase());return c}
n.Qn=function(a){a&&!this.sc&&(Nn(this),this.ac=null,sc(this.Ha,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Jn(this,d,a))},this));this.sc=a};function Pn(a,b){rg.call(this,"navigate");this.Ne=a;this.bu=b}y(Pn,rg);function Qn(a,b){M.call(this);this.S=a||window;this.al=b||null;Gg(this.S,"popstate",this.mi,!1,this);Gg(this.S,"hashchange",this.mi,!1,this)}y(Qn,M);function Rn(){var a=window;return!(!a.history||!a.history.pushState)}n=Qn.prototype;n.ua=!1;n.Ri=!0;n.Dg="/";n.Ea=function(a){a!=this.ua&&(this.ua=a)&&this.dispatchEvent(new Pn(this.Wa(),!1))};n.Wa=function(){if(this.Ri){var a=this.S.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)}return this.al?this.al.Gy(this.Dg,this.S.location):this.S.location.pathname.substr(this.Dg.length)};
n.Cr=function(a,b){a!=this.Wa()&&(this.S.history.pushState(null,b||this.S.document.title||"",Sn(this,a)),this.dispatchEvent(new Pn(a,!1)))};n.Fn=function(a,b){this.S.history.replaceState(null,b||this.S.document.title||"",Sn(this,a));this.dispatchEvent(new Pn(a,!1))};n.h=function(){Mg(this.S,"popstate",this.mi,!1,this);this.Ri&&Mg(this.S,"hashchange",this.mi,!1,this)};n.lg=e("Dg");function Sn(a,b){return a.Ri?"#"+b:a.al?a.al.Zx(b,a.Dg,a.S.location):a.Dg+b+a.S.location.search}
n.mi=function(){this.ua&&this.dispatchEvent(new Pn(this.Wa(),!0))};function Tm(a,b,c){an.call(this,a,b);if(this.Qj="undefined"===typeof c?!0:c)if(b=Tn(this),b.Gd("authToken")){a=b.get("authToken");b.remove("authToken");b=b.toString();try{var d=vd(a,!1),f=Zb(d),g=El(f);this.Ve=g.qc();Um(this,g)}catch(h){this.error(h,"Unable to parse auth credentials")}d=window.location.pathname;b&&(d=d+"?"+b);Rn()&&window.history.replaceState(null,"",d)}}y(Tm,an);Gd("queryParamProvider",Tm);
Tm.prototype.uf=function(){if(this.qc()===this.ka()){var a=new F;a.n(function(a){"managed"===a?(Lh(this.J.K(),"recv:credentials",function(a){(a=a.Ma())?Um(this,a):this.dispatchEvent(new Ah(new L("cancel")))},this),this.J.tb().Sc(new rg(Un))):this.Qj&&!Tn(this).Gd("authToken")&&(window.location.href=Si(this.J.G)+"/v1/auth/"+this.Wf+"/"+this.Ve)},this).Ib(function(a){this.dispatchEvent(new Ah(a))},this);this.J.K().Ej().call("getAuthType",{}).n(function(b){(b=b.authType)?a.ca(b):a.pa("NOT_FOUND")}).Ib(function(){a.pa(new L("AUTH_FAILED",
"AUTH_FAILED"in J?J.AUTH_FAILED(void 0):"AUTH_FAILED"))},this)}else this.Qj&&!Tn(this).Gd("authToken")&&(window.location.href=Si(this.J.G)+"/v1/auth/"+this.Wf+"/"+this.Ve)};function Tn(a){a=a.Qj?window.location.search:"";wa(a,"?")&&(a=a.slice(1));return new Bn(a)};function Vn(a,b){a&&Vc(a,b,void 0)};function Wn(){fg.call(this);this.Nk={}}y(Wn,fg);Wn.prototype.Xm=$c("goog.messaging.AbstractChannel");Wn.prototype.$f=function(a){a&&a()};Wn.prototype.qf=l(!0);
function Xn(a,b,c){var d;d=a.Nk[b];d||(a.bp?d={ca:sa(a.bp,b),en:ma(c)}:((d=a.Xm)&&d.log(Oc,'Unknown service name "'+b+'"',void 0),d=null));if(d){var f;a:{var g=d.en;if(g&&u(c))try{f=Zb(c);break a}catch(h){(a=a.Xm)&&a.log(Oc,"Expected JSON payload for "+b+', was "'+c+'"',void 0);f=null;break a}else if(!g&&!u(c)){f=$b(c);break a}f=c}null!=f&&d.ca(f)}}Wn.prototype.h=function(){Wn.c.h.call(this);delete this.Xm;delete this.Nk;delete this.bp};function Yn(){Wn.call(this)}y(Yn,Wn);Yn.prototype.F=null;Gd("MessageChannel",Yn);Yn.prototype.send=function(a,b){Xn(this,a,b)};function Zn(a,b){var c=b||{},d=c.document||document,f=document.createElement("SCRIPT"),g={pr:f,Lf:void 0},h=new ih($n,g),k=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(k=window.setTimeout(function(){ao(f,!0);h.pa(new bo(co,"Timeout reached for loading script "+a))},m),g.Lf=k);f.onload=f.onreadystatechange=function(){f.readyState&&"loaded"!=f.readyState&&"complete"!=f.readyState||(ao(f,c.Ds||!1,k),h.ca(null))};f.onerror=function(){ao(f,!0,k);h.pa(new bo(eo,"Error while loading script "+a))};se(f,{type:"text/javascript",
charset:"UTF-8",src:a});fo(d).appendChild(f);return h}function fo(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function $n(){if(this&&this.pr){var a=this.pr;a&&"SCRIPT"==a.tagName&&ao(a,!0,this.Lf)}}function ao(a,b,c){null!=c&&q.clearTimeout(c);a.onload=fa;a.onerror=fa;a.onreadystatechange=fa;b&&window.setTimeout(function(){De(a)},0)}var eo=0,co=1;function bo(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);va.call(this,c);this.code=a}y(bo,va);function go(a,b){this.Bx=new wn(a);this.As=b?b:"callback";this.Lf=5E3}var ho=0;go.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(ho++).toString(36)+ta().toString(36);q._callbacks_||(q._callbacks_={});var f=this.Bx.cb();if(a)for(var g in a)a.hasOwnProperty&&!a.hasOwnProperty(g)||In(f,g,a[g]);b&&(q._callbacks_[d]=io(d,b),In(f,this.As,"_callbacks_."+d));b=Zn(f.toString(),{timeout:this.Lf,Ds:!0});b.ml(jo(d,a,c));return{vb:d,Jl:b}};
go.prototype.cancel=function(a){a&&(a.Jl&&a.Jl.cancel(),a.vb&&ko(a.vb,!1))};function jo(a,b,c){return function(){ko(a,!1);c&&c(b)}}function io(a,b){return function(c){ko(a,!0);b.apply(void 0,arguments)}}function ko(a,b){q._callbacks_[a]&&(b?delete q._callbacks_[a]:q._callbacks_[a]=fa)};function lo(){}lo.prototype.Ko=null;function mo(a){var b;(b=a.Ko)||(b={},no(a)&&(b[0]=!0,b[1]=!0),b=a.Ko=b);return b};var oo;function po(){}y(po,lo);function qo(a){return(a=no(a))?new ActiveXObject(a):new XMLHttpRequest}function no(a){if(!a.Np&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Np=d}catch(f){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Np}oo=new po;function ro(a){M.call(this);this.headers=new yc;this.il=a||null;this.Rb=!1;this.hl=this.aa=null;this.cq=this.ck="";this.Vh=0;this.re="";this.pf=this.Cm=this.Rj=this.Ol=!1;this.Ni=0;this.Wk=null;this.kr=so;this.el=this.Gx=!1}y(ro,M);var so="";ro.prototype.F=$c("goog.net.XhrIo");var to=/^https?$/i,uo=["POST","PUT"],vo=[];function wo(a,b,c,d){var f=new ro;vo.push(f);b&&f.e("complete",b);f.fk("ready",f.Cs);f.send(a,"POST",c,d)}n=ro.prototype;n.Cs=function(){this.A();kb(vo,this)};
n.send=function(a,b,c,d){if(this.aa)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.ck+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.ck=a;this.re="";this.Vh=0;this.cq=b;this.Ol=!1;this.Rb=!0;this.aa=this.il?qo(this.il):qo(oo);this.hl=this.il?mo(this.il):mo(oo);this.aa.onreadystatechange=v(this.Eq,this);try{Vn(this.F,xo(this,"Opening Xhr")),this.Cm=!0,this.aa.open(b,a,!0),this.Cm=!1}catch(f){Vn(this.F,xo(this,"Error opening Xhr: "+f.message));yo(this,f);return}a=c||
"";var g=this.headers.cb();d&&sc(d,function(a,b){g.set(b,a)});d=eb(g.ge(),zo);c=q.FormData&&a instanceof q.FormData;!gb(uo,b)||(d||c)||g.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");sc(g,function(a,b){this.aa.setRequestHeader(b,a)},this);this.kr&&(this.aa.responseType=this.kr);"withCredentials"in this.aa&&(this.aa.withCredentials=this.Gx);try{Ao(this),0<this.Ni&&(this.el=A&&E(9)&&ka(this.aa.timeout)&&t(this.aa.ontimeout),Vn(this.F,xo(this,"Will abort after "+this.Ni+"ms if incomplete, xhr2 "+
this.el)),this.el?(this.aa.timeout=this.Ni,this.aa.ontimeout=v(this.Lf,this)):this.Wk=G(this.Lf,this.Ni,this)),Vn(this.F,xo(this,"Sending request")),this.Rj=!0,this.aa.send(a),this.Rj=!1}catch(h){Vn(this.F,xo(this,"Send error: "+h.message)),yo(this,h)}};function zo(a){return"content-type"==a.toLowerCase()}n.Lf=function(){"undefined"!=typeof da&&this.aa&&(this.re="Timed out after "+this.Ni+"ms, aborting",this.Vh=8,Vn(this.F,xo(this,this.re)),this.dispatchEvent("timeout"),this.abort(8))};
function yo(a,b){a.Rb=!1;a.aa&&(a.pf=!0,a.aa.abort(),a.pf=!1);a.re=b;a.Vh=5;Bo(a);Co(a)}function Bo(a){a.Ol||(a.Ol=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.aa&&this.Rb&&(Vn(this.F,xo(this,"Aborting")),this.Rb=!1,this.pf=!0,this.aa.abort(),this.pf=!1,this.Vh=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Co(this))};n.h=function(){this.aa&&(this.Rb&&(this.Rb=!1,this.pf=!0,this.aa.abort(),this.pf=!1),Co(this,!0));ro.c.h.call(this)};
n.Eq=function(){this.Fc||(this.Cm||this.Rj||this.pf?Do(this):this.Tv())};n.Tv=function(){Do(this)};
function Do(a){if(a.Rb&&"undefined"!=typeof da)if(a.hl[1]&&4==Eo(a)&&2==a.je())Vn(a.F,xo(a,"Local request error detected and ignored"));else if(a.Rj&&4==Eo(a))G(a.Eq,0,a);else if(a.dispatchEvent("readystatechange"),4==Eo(a)){Vn(a.F,xo(a,"Request complete"));a.Rb=!1;try{if(Fo(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Vh=6;var b;try{b=2<Eo(a)?a.aa.statusText:""}catch(c){Vn(a.F,"Can not get status: "+c.message),b=""}a.re=b+" ["+a.je()+"]";Bo(a)}}finally{Co(a)}}}
function Co(a,b){if(a.aa){Ao(a);var c=a.aa,d=a.hl[0]?fa:null;a.aa=null;a.hl=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){(c=a.F)&&c.log(Nc,"Problem encountered resetting onreadystatechange: "+f.message,void 0)}}}function Ao(a){a.aa&&a.el&&(a.aa.ontimeout=null);ka(a.Wk)&&(Zg(a.Wk),a.Wk=null)}n.Mc=function(){return!!this.aa};
function Fo(a){var b=a.je(),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=un(String(a.ck))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!to.test(a?a.toLowerCase():"");c=b}return c}function Eo(a){return a.aa?a.aa.readyState:0}n.je=function(){try{return 2<Eo(this)?this.aa.status:-1}catch(a){var b=this.F;b&&b.log(Oc,"Can not get status: "+a.message,void 0);return-1}};
function Go(a){if(a.aa)return Zb(a.aa.responseText)}function xo(a,b){return b+" ["+a.cq+" "+a.ck+" "+a.je()+"]"};w("setDeobfuscateFunctionName",ba());function Ho(){H.call(this,"transport","/local/transport");Io(this,"disconnected");this.zd=1}y(Ho,H);Sd("transport",Ho);Ho.prototype.ad=function(){return this.get("connectionState")};function Io(a,b){R(a,"connectionState",b)}Ho.prototype.qf=function(){return"connected"===this.ad()};Ho.prototype.Jm=function(){return"connecting"===this.ad()};function Jo(a){this.bb={};this.M=0;if(a){for(var b=rc(a),c=qc(a),d=0;d<b.length;d++)this.set(b[d],c[d]);this.M=a.bd()}}n=Jo.prototype;n.ob=void 0;n.set=function(a,b){Ko(this,a,b,!1)};n.add=function(a,b){Ko(this,a,b,!0)};function Ko(a,b,c,d){for(var f=a,g=0;g<b.length;g++){var h=b.charAt(g);f.bb[h]||(f.bb[h]=new Jo);f=f.bb[h]}if(d&&void 0!==f.ob)throw Error('The collection already contains the key "'+b+'"');f.ob=c;d&&a.M++}
n.get=function(a){for(var b=this,c=0;c<a.length;c++){var d=a.charAt(c);if(!b.bb[d])return;b=b.bb[d]}return b.ob};function Lo(a,b){var c=a,d={},f=0;void 0!==c.ob&&(d[f]=c.ob);for(;f<b.length;f++){var g=b.charAt(f);if(!(g in c.bb))break;c=c.bb[g];void 0!==c.ob&&(d[f]=c.ob)}return d}n.Xa=function(){var a=[];Mo(this,a);return a};function Mo(a,b){void 0!==a.ob&&b.push(a.ob);for(var c in a.bb)Mo(a.bb[c],b)}
n.ge=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.bb[f])return[];c=c.bb[f]}No(c,a,b)}else No(this,"",b);return b};function No(a,b,c){void 0!==a.ob&&c.push(b);for(var d in a.bb)No(a.bb[d],b+d,c)}n.Gd=function(a){return void 0!==this.get(a)};n.clear=function(){this.bb={};this.ob=void 0;this.M=0};
n.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.bb[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.bb[f]}a=b.ob;delete b.ob;for(this.M--;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],jc(b.bb[f].bb))if(b.ob)break;else delete b.bb[f];else break;return a};n.cb=function(){return new Jo(this)};n.bd=e("M");function Oo(a,b,c){ci.call(this,a.put("/local/transport","transport"));this.bi={};this.Hk={};this.Tc=new Jo;this.Gg=[];this.T=a;this.Cc=b;this.G=c;this.Iy=this.gj=0;this.la("connect",this.Ru);this.la("disconnect",this.Xu);this.la("login",this.Av);this.la("logout",this.Bv);this.la("get",this.iv);this.la("unsubscribe",this.Ew);this.la("put",this.rn);this.la("post",this.Pv);this.la("publish",this.Rv);this.la("delete",this.Cg);this.la("join",this.wv);this.la("leave",this.kn)}y(Oo,ci);n=Oo.prototype;
n.N=e("C");n.F=td("vline.Transport");function Po(a,b,c,d,f){if(b=Qo(a,b)){var g=a.Tc.get(b.j());g&&(g.response=!0);var h=0,k;c&&(k=c.seq)&&(h=k);d&&z(d,function(a){(k=a.seq)&&k>h&&(h=k)});h&&Ro(a,g,h);Hm(b,c,d,f)}else c&&So(a,"put",Jd(c),c),d&&z(d,function(a){So(this,"put",Jd(a),a)},a)}n.Ai=function(a,b,c){(a=Qo(this,a))&&Dm(a,b,c)};
n.hc=function(a){Oo.c.hc.call(this,a);fc(this.bi,function(a,c){if(this.bi.hasOwnProperty(c)){var d={};a.Fh().webrtcEnabled&&(d.webrtcEnabled=!0);var d=new Fm(null,a.j(),a.ka(),a.qc(),a.Wa(),d),f=a.Kc();d.sid=f;this.uf(d)}},this);fc(this.Hk,function(a,c){if(this.Hk.hasOwnProperty(c)){var d=this.Hk[c];z(d,function(a){"join"===a.j()&&(a=new Cm(null,a.V(),a.j(),Bm(a)),this.join(a))},this);d&&delete this.Hk[c]}},this);z(this.Tc.Xa(),function(a){if(a.response){var c=new Gm(null,a.path,new il(a.de|(a.de&
7)<<4,void 0,void 0,void 0,a.bk||void 0));c.sid=a.gx;this.f("reSubscribe",c);To(this,c,!0)}},this);a=this.Gg;this.Gg=[];z(a,function(a){try{Xn(this.Cc,a.V(),a)}catch(c){this.error(c)}},this)};function Uo(a,b){a.f(a.wb?"request":"queue",b);a.Gg.push(b);return a.wb}function Qo(a,b){a.f("response","rid",b);var c=null,d=fb(a.Gg,function(a){return a.rid===b});0<=d&&(c=a.Gg[d],lb(a.Gg,d));return c}
function So(a,b,c,d){var f,g=new Cm(null,b,c,d);d&&(f=d.seq);var h=[];fc(Lo(a.Tc,c),function(a,b){Xl(c,Number(b)+1,a.de)&&Vo(this,h,a,f)},a);z(h,function(a){a.send(g.V(),g)})}function Vo(a,b,c,d){d&&Ro(a,c,d);z(c.cj,function(a){ib(b,a)})}function Ro(a,b,c){!c||b.Qm&&c<=b.Qm||(b.bk=b.Qm=c,a.f("updateLastSeq_","path",b.path,"seq",b.bk))}
function Wo(a,b,c,d){a.f("addSubscription","session",d.Kc(),"path",b);if(1E3<=a.Tc.bd())throw a.error("SUBSCRIPTION_LIMIT_EXCEEDED");var f=a.Tc.get(b);f?((f.de&c)!==c&&(f.de|=c,f.bk=null),ib(f.cj,d.Tb())):(f={response:!1,path:b,gx:d.Kc(),de:c,bk:null,Qm:null,cj:[d.Tb()]},a.Tc.add(b,f))}n.Fj=function(a,b,c){var d=0,f=Lo(this.Tc,a),g=a.length;b&6?a+="/*/*":b&2&&(a+="/*");fc(f,function(b,f){var m=Number(f)+1;c&&m===g||Xl(a,m,b.de)&&(d|=b.de)},this);b&=~d;b&6&&(b|=2);return b};
function Xo(a,b,c){a.f("removeSubscription","session",c.Kc(),"path",b.path);kb(b.cj,c.Tb());return 0===b.cj.length?(a.Tc.remove(b.path),!0):!1}n.Av=function(a){Wo(this,a.j(),1,a);Wo(this,a.j()+"/msg",6,a);Wo(this,a.j()+"/sessions",6,a);Uo(this,a)&&this.uf(a)};n.Bv=function(a){z(this.Tc.Xa(),function(b){Xo(this,b,a)},this);if(Uo(this,a)){var b=a.Kc();delete this.bi[b];Wh(this.N(),t(void 0)?NaN:-1,void 0);this.wb&&this.gc(a)}};
n.wv=function(a){var b=rl(a.j())+"/participant";Wo(this,b,6,a);Uo(this,a)&&this.join(a)};n.kn=function(a){var b=rl(a.j())+"/participant";(b=this.Tc.get(b))&&Xo(this,b,a);Uo(this,a)&&this.wb&&this.wg(a)};n.iv=function(a){Uo(this,a)&&To(this,a)};function To(a,b,c){var d=b.ie();if(d.ja&7){var d=d.cb(),f=a.Fj(b.j(),d.Fj(),c);c||Wo(a,b.j(),d.Fj(),b);d.ja=d.ja&-8|f}c&&!f||a.get(b,d)}
n.Ew=function(a){var b=this.Tc.get(a.j());b&&Xo(this,b,a)&&this.wb&&(a={op:Yo(a),subscription:a.j()},this.Ka.publish("/meta/unsubscribe",null,a))};n.rn=function(a){Uo(this,a)&&this.put(a)};n.Pv=function(a){Uo(this,a)&&this.od(a)};n.Rv=function(a){Uo(this,a)&&this.Gb(a)};n.Cg=function(a){Uo(this,a)&&this.remove(a)};n.xq=function(){this.f("onConnecting");Io(this.N(),"connecting");this.$f()};n.ji=function(){this.f("onDisconnected");Io(this.N(),"disconnected");this.za(!1)};
function Zo(a){a.f("onDisconnecting");Io(a.N(),"disconnecting");a.disconnect()}n.Ru=function(){this.f("onConnect","connectCount",this.gj);0===this.gj++&&this.xq()};n.Xu=function(){this.f("onDisconnect","connectCount",this.gj);0===--this.gj&&Zo(this)};n.la=function(a,b){var c=v(b,this);this.Cc.Nk[a]={ca:c,en:!0}};function $o(){M.call(this);this.O=new yh(this);og&&(pg?this.O.e(qg?document.body:window,["online","offline"],this.Cp):(this.Oq=this.tg(),this.$=new Xg(ap),this.O.e(this.$,Yg,this.It),this.$.start()))}y($o,M);var ap=250;$o.prototype.tg=function(){return og?navigator.onLine:!0};$o.prototype.It=function(){var a=this.tg();a!=this.Oq&&(this.Oq=a,this.Cp())};$o.prototype.Cp=function(){var a=this.tg()?"online":"offline";this.dispatchEvent(a)};
$o.prototype.h=function(){$o.c.h.call(this);this.O.A();this.O=null;this.$&&(this.$.A(),this.$=null)};function bp(a,b,c){Oo.call(this,a,b,c);this.Hl=null;this.By=navigator.onLine?"online":"offline";this.pk=!1;this.dn=0;this.rq=1E3;this.mq=3E4;this.uu=6E4;this.vy=12E4;this.gn=null;qg?null!=document.body?this.an():Lg(window,"load",this.an,!1,this):this.an();org.cometd.JSON.toJSON=$b;org.cometd.JSON.fromJSON=Zb;this.Ka=new org.cometd.Cometd;this.Bk=0;org.cometd.WebSocket&&(this.Ka.websocketEnabled=!0,this.Ka.registerTransport("websocket",new org.cometd.WebSocketTransport,0));this.Ka.registerTransport("long-polling",
new cp);this.Ka.registerTransport("callback-polling",new dp);this.Ka.registerExtension("ackExt",new org.cometd.AckExtension);this.Ka.registerExtension("timesync",new org.cometd.TimeSyncExtension);this.jo=this.Ka.getExtension("timesync");this.Ka.addListener("/meta/disconnect",v(this.Ms,this));this.Ka.addListener("/meta/connect",v(this.wu,this));this.Ka.addListener("/meta/subscribe",v(this.wx,this));this.Ka.addListener("/meta/publish",v(this.bx,this));this.Ka.addListener("/meta/unsuccessful",v(this.Ax,
this));this.Ka.addListener("/**",v(this.vx,this))}y(bp,Oo);Gd("cometdTransport",bp);function cp(){var a=new org.cometd.LongPollingTransport,a=org.cometd.Transport.derive(a);a.xhrSend=function(a){var c=a.headers;c["Content-Type"]="application/json;charset\x3dUTF-8";wo(a.url,function(c){c=c.target;if(Fo(c))a.onSuccess(Go(c));else a.onError(u(c.re)?c.re:String(c.re))},a.body,c)};return a}
function dp(){var a=new org.cometd.CallbackPollingTransport,a=org.cometd.Transport.derive(a);a.jsonpSend=function(a){(new go(a.url,"jsonp")).send({message:a.body},function(c){a.onSuccess(c)},function(){a.onError("unknown JSONP error")})};return a}n=bp.prototype;n.ne=ba();n.an=function(){this.gn=new $o;Gg(this.gn,["online","offline"],v(this.Au,this))};function ep(a){if(a.pk){if(5E3>(new Date).getTime()-a.dn)return a.rq;a.pk=!1;a.dn=0}return a.mq+Math.floor(Math.random()*(a.uu-a.mq))}
n.uf=function(a){var b=Yo(a),c={};c.appId=a.ka();c.authId=a.qc();c.token=a.Wa();c.profile=a.Fh();this.ic("/service/login",c,b)};n.gc=function(a){a=Yo(a);this.ic("/service/logout",{},a)};n.get=function(a,b){var c=Yo(a);if(a.ie()){var d=Td(b);oc(c,d)}this.ic("/service/get",{},c)};n.put=function(a){var b=Yo(a),c=Bm(a);null!=c?this.ic("/service/put",c,b):this.F.log(Oc,"Put with null data: "+a,void 0)};
n.Gb=function(a){var b=Yo(a),c=Bm(a);null!=c?(a=a.j(),this.ic(wa(a,"/service/")?a:"/service/publish",c,b)):this.F.log(Oc,"Publish with null data: "+a,void 0)};n.od=function(a){var b=Yo(a),c=Bm(a);null!=c?this.ic("/service/post",c,b):this.F.log(Oc,"Post with null data: "+a,void 0)};n.remove=function(a){a=Yo(a);this.ic("/service/delete",null,a)};n.join=function(a){var b=Yo(a);this.ic("/service/join",Bm(a),b)};n.wg=function(a){a=Yo(a);this.ic("/service/leave",{},a)};
function Yo(a){var b={};b.sid=a.Kc();b.appId=a.ka();b.rid=a.rid;b.path=a.j();b.type=a.V();return b}n.ic=function(a,b,c){this.f("publish","channel",a,"payload",b,"op",c);this.Ka.publish(a,b,{op:c})};n.vx=function(a){var b=a.channel;/^\/meta\//.test(b)||/^\/service\//.test(b)||$g(function(){this.f("subscribeCallback",a);var c=a.data,d=a.op,f=d.type;d&&f&&So(this,f,b,c)},this)};
n.Au=function(){var a=this.gn.tg();this.f("networkStateChanged - isOnline : ",a);a?(this.Ka.resetBackOff(),this.pk=!0,this.dn=(new Date).getTime(),Io(this.N(),"connecting"),this.$f(this.rq)):("disconnected"!==this.N().ad()&&"disconnecting"!==this.N().ad()&&(Zo(this),this.ji()),this.pk=!1)};n.$f=function(){fp(this);this.Ka.handshake()};
function fp(a){var b;b=Di(8);b=ya(P(a.G,"messageServer")||"https://%s.message."+a.G.get("env")+".vline.com/cometd",b);a.Hl=b;a.f("connect",a.Hl);b=a.G.get("autoBatch");var c=a.G.get("maxBackOff"),d=a.G.get("cometdLogLevel"),f=a.G.get("connectTimeout");a.Ka.configure({url:a.Hl,autoBatch:b,backoffIncrement:ep(a),maxBackoff:c,connectTimeout:f,logLevel:d})}n.disconnect=function(){this.f("disconnect");this.Ka.disconnect()};
n.wu=function(a){try{this.f("metaconnectHandler",a);this.jo&&this.jo.getTimeOffset()&&(od=this.jo.getTimeOffset());if(this.Ka.isDisconnected()||!a.successful)this.Bk++,1<this.Bk&&(Vc(this.F,"Keep-Alive failed, trying to reconnect..."),this.Bk=0,this.ji(),fp(this));a.successful&&!this.Ka.isDisconnected()&&(this.Bk=0,this.f("Keep-Alive Timeoffset ",od),this.N().qf()||(this.f("onConnected"),Io(this.N(),"connected"),this.za(!0)))}catch(b){this.error(b)}};n.Ms=function(){this.ji()};
n.wx=function(a){this.f("subscribeHandler",a)};
n.bx=function(a){$g(function(){this.f("responseHandler",a);var b=a.channel,c=gp(this,a);c&&this.F.log(Nc,c.message,c);if(!a.failure&&!hp(c))if("/service/get"===b){var b=a.op.rid,d=a.data,f=null,g=[];d&&(f=d.root,g=d.results);Po(this,b,f,g,c)}else if("/service/login"===b)a:{f=a.op,d=f.sid;b=a.data;if(f=Qo(this,f.rid))d=f.Kc(),this.bi[d]=f,Wh(this.N()),Dm(f,null,c);else if(f=this.bi[d],c){f.Tb().send("login.err.resp",c);break a}f&&b&&So(this,"put",f.j(),b)}else"/service/logout"===b?this.Ai(a.op.rid,
null,c):this.Ai(a.op.rid,a.data,c)},this)};n.Ax=function(a){this.f("unsuccessfulHandler",a);"/meta/handshake"===a.channel&&!0===a.failure&&fp(this);a=gp(this,a);hp(a)&&ip(this)};function hp(a){return a&&("402"===a.V()||"403"===a.V())}
var jp={400:"BAD_PARAM",401:"AUTH_FAILED",403:"FORBIDDEN",500:"SERVER_ERROR",601:"BAD_CREDENTIALS",603:"ACCESS_DENIED",604:"NO_RELAY_FOUND",605:"RSC_EXISTS",610:"INVALID_EMAIL",611:"EMAIL_EXISTS",612:"SERVICEID_NOT_FOUND",613:"SERVICEID_EXISTS",614:"INVALID_PASSWORD",615:"USERID_NOT_FOUND",616:"INVALID_TOKEN",617:"INVALID_PAYLOAD",618:"ROOM_NOT_FOUND"};
function gp(a,b){var c=b.error,d=b.errors;if(!c&&!d)return null;var f=kp(c);d&&fc(d,function(a,b){var c=kp(a),d=f.map;d||(d=f.map={});d[b]=c},a);return f}function kp(a){if(!a)return new L("NONE");var b=a.split(":");a=Ua(b[0]);var c=Ua(b[1]),b=Ua(b[2]);a in jp&&(a=jp[a]);var d=c;Aa(c)||Aa(b)||(d+=" - ");return new L(a,d+b)}function ip(a){a.N().qf()&&(Zo(a),Lh(a.N(),"change:connectionState",v(function(){"disconnected"===this.N().ad()&&setTimeout(v(this.xq,this),0)},a)))};function lp(a){M.call(this);this.S=a||window;this.gk=Gg(this.S,"resize",this.Gp,!1,this);this.Zd=ue(this.S)}y(lp,M);n=lp.prototype;n.gk=null;n.S=null;n.Zd=null;n.dc=function(){return this.Zd?this.Zd.cb():null};n.h=function(){lp.c.h.call(this);this.gk&&(Og(this.gk),this.gk=null);this.Zd=this.S=null};n.Gp=function(){var a=ue(this.S);ne(a,this.Zd)||(this.Zd=a,this.dispatchEvent("resize"))};function mp(a){lp.call(this,a);this.ld=this.S.orientation;this.vk=Gg(this.S,"orientationchange",this.Gt,!1,this);this.Zd=np(this)}y(mp,lp);mp.prototype.vk=null;function np(a){return si||ri?new me(a.S.innerWidth,a.S.innerHeight):ue(a.S)}mp.prototype.h=function(){mp.c.h.call(this);this.vk&&(Og(this.vk),this.vk=null)};function op(a){var b=np(a);ne(b,a.Zd)||(a.Zd=b,a.dispatchEvent("resize"))}mp.prototype.Gp=function(){op(this)};
mp.prototype.Gt=function(){null!=this.S.orientation&&this.ld!==this.S.orientation&&(this.ld=this.S.orientation,op(this),this.dispatchEvent("orientationchange"))};function pp(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function qp(a,b,c,d){M.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var f;c?f=c:(f="history_state"+rp,document.write(ya(sp,f,f)),f=u(f)?document.getElementById(f):f);this.Nh=f;this.S=c?we(qe(c)):window;this.Pj=b;A&&!b&&(this.Pj="https"==window.location.protocol?"https:///":'javascript:""');this.$=new Xg(tp);ig(this,sa(jg,this.$));this.Qf=!a;this.O=new yh(this);if(a||up)d?a=d:(a="history_iframe"+rp,b=this.Pj?'src\x3d"'+Ga(this.Pj)+'"':"",document.write(ya(vp,
a,b)),a=u(a)?document.getElementById(a):a),this.Ya=a,this.Sr=!0;up&&(this.O.e(this.S,"load",this.Yu),this.Dr=this.Kl=!1);this.Qf?wp(this,this.Wa(),!0):xp(this,this.Nh.value);rp++}y(qp,M);qp.prototype.ua=!1;qp.prototype.yg=!1;qp.prototype.vg=null;
var yp=function(a,b){var c=na(a),d=b||pp;return function(){var b=this||q,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),g=d(c,arguments);return b.hasOwnProperty(g)?b[g]:b[g]=a.apply(this,arguments)}}(function(){return A?8<=document.documentMode:"onhashchange"in q}),up=A&&!Pb(8),zp=up;n=qp.prototype;n.xg=null;n.h=function(){qp.c.h.call(this);this.O.A();this.Ea(!1)};
n.Ea=function(a){if(a!=this.ua)if(up&&!this.Kl)this.Dr=a;else if(a)if(Db?this.O.e(this.S.document,Ap,this.Pw):B&&this.O.e(this.S,"pageshow",this.sn),yp()&&this.Qf)this.O.e(this.S,"hashchange",this.kv),this.ua=!0,this.dispatchEvent(new Pn(this.Wa(),!1));else{if(!A||this.Kl)this.O.e(this.$,Yg,v(this.Dc,this,!0)),this.ua=!0,up||(this.vg=this.Wa(),this.dispatchEvent(new Pn(this.Wa(),!1))),this.$.start()}else this.ua=!1,this.O.qd(),this.$.stop()};
n.Yu=function(){this.Kl=!0;this.Nh.value&&xp(this,this.Nh.value,!0);this.Ea(this.Dr)};n.sn=function(a){a.oc.persisted&&(this.Ea(!1),this.Ea(!0))};n.kv=function(){var a=Bp(this.S);a!=this.vg&&this.be(a,!0)};n.Wa=function(){return null!=this.xg?this.xg:this.Qf?Bp(this.S):Cp(this)||""};n.Cr=function(a,b){Dp(this,a,!1,b)};n.Fn=function(a,b){Dp(this,a,!0,b)};function Bp(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}
function Dp(a,b,c,d){a.Wa()!=b&&(a.Qf?(wp(a,b,c),yp()||A&&xp(a,b,c,d),a.ua&&a.Dc(!1)):(xp(a,b,c),a.xg=a.vg=a.Nh.value=b,a.dispatchEvent(new Pn(b,!1))))}function wp(a,b,c){a=a.S.location;var d=a.href.split("#")[0],f=-1!=a.href.indexOf("#");if(zp||f||b)d+="#"+b;d!=a.href&&(c?a.replace(d):a.href=d)}
function xp(a,b,c,d){if(a.Sr||b!=Cp(a))if(a.Sr=!1,b=encodeURIComponent(String(b)),A){var f=Ge(a.Ya);f.open("text/html",c?"replace":void 0);f.write(ya(Ep,Ga(d||a.S.document.title),b));f.close()}else if(b=a.Pj+"#"+b,a=a.Ya.contentWindow)c?a.location.replace(b):a.location.href=b}
function Cp(a){if(A)return a=Ge(a.Ya),a.body?Fa(a.body.innerHTML):null;var b=a.Ya.contentWindow;if(b){var c;try{c=Fa(Bp(b))}catch(d){return a.yg||(!0!=a.yg&&a.$.setInterval(Fp),a.yg=!0),null}a.yg&&(!1!=a.yg&&a.$.setInterval(tp),a.yg=!1);return c||null}return null}n.Dc=function(a){if(this.Qf){var b=Bp(this.S);b!=this.vg&&this.be(b,a)}if(!this.Qf||up)if(b=Cp(this)||"",null==this.xg||b==this.xg)this.xg=null,b!=this.vg&&this.be(b,a)};
n.be=function(a,b){this.vg=this.Nh.value=a;this.Qf?(up&&xp(this,a),wp(this,a)):xp(this,a);this.dispatchEvent(new Pn(this.Wa(),b))};n.Pw=function(){this.$.stop();this.$.start()};var Ap=["mousedown","keydown","mousemove"],Ep="\x3ctitle\x3e%s\x3c/title\x3e\x3cbody\x3e%s\x3c/body\x3e",vp='\x3ciframe id\x3d"%s" style\x3d"display:none" %s\x3e\x3c/iframe\x3e',sp='\x3cinput type\x3d"text" name\x3d"%s" id\x3d"%s" style\x3d"display:none"\x3e',rp=0,tp=150,Fp=1E4;var Gp;function Hp(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Ip(a,b,c){ja(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Gp||(Gp={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Gp,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};var Jp=!!q.DOMTokenList,Kp=Jp?function(a){return a.classList}:function(a){a=a.className;return u(a)&&a.match(/\S+/g)||[]},Lp=Jp?function(a,b){return a.classList.contains(b)}:function(a,b){return gb(Kp(a),b)},Mp=Jp?function(a,b){a.classList.add(b)}:function(a,b){Lp(a,b)||(a.className+=0<a.className.length?" "+b:b)},Np=Jp?function(a,b){a.classList.remove(b)}:function(a,b){Lp(a,b)&&(a.className=ab(Kp(a),function(a){return a!=b}).join(" "))};function Op(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}n=Op.prototype;n.cb=function(){return new Op(this.top,this.right,this.bottom,this.left)};n.contains=function(a){return this&&a?a instanceof Op?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
n.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};n.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};n.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function Pp(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}n=Pp.prototype;n.cb=function(){return new Pp(this.left,this.top,this.width,this.height)};function Qp(a,b){return a==b?!0:a&&b?a.left==b.left&&a.width==b.width&&a.top==b.top&&a.height==b.height:!1}n.contains=function(a){return a instanceof Pp?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
n.dc=function(){return new me(this.width,this.height)};n.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
n.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Rp(a,b,c){u(b)?Sp(a,c,b):fc(b,sa(Sp,a))}function Sp(a,b,c){(c=Tp(a,c))&&(a.style[c]=b)}function Tp(a,b){var c=Wa(b);if(void 0===a.style[c]){var d=(C?"Webkit":B?"Moz":A?"ms":Db?"O":null)+Xa(b);if(void 0!==a.style[d])return d}return c}function Up(a,b){var c=a.style[Wa(b)];return"undefined"!==typeof c?c:a.style[Tp(a,b)]||""}function Vp(a,b){var c=qe(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}
function Wp(a,b){return Vp(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Xp(a){return Wp(a,"position")}function Yp(a,b,c){var d,f=B&&(yb||Gb)&&E("1.9");b instanceof I?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Zp(d,f);a.style.top=Zp(b,f)}
function $p(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}A&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function aq(a){if(A&&!Pb(8))return a.offsetParent;var b=qe(a),c=Wp(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Wp(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function bq(a){for(var b=new Op(0,Infinity,Infinity,0),c=oe(a),d=c.ba.body,f=c.ba.documentElement,g=ve(c.ba);a=aq(a);)if(!(A&&0==a.clientWidth||C&&0==a.clientHeight&&a==d||a==d||a==f||"visible"==Wp(a,"overflow"))){var h=cq(a),k;k=a;if(B&&!E("1.9")){var m=parseFloat(Vp(k,"borderLeftWidth"));if(dq(k))var p=k.offsetWidth-k.clientWidth-m-parseFloat(Vp(k,"borderRightWidth")),m=m+p;k=new I(m,parseFloat(Vp(k,"borderTopWidth")))}else k=new I(k.clientLeft,k.clientTop);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,
h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=ue(Te(c));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function cq(a){var b,c=qe(a),d=Wp(a,"position"),f=B&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new I(0,0),h;b=c?qe(c):document;h=!A||Pb(9)||Se(oe(b))?b.documentElement:b.body;if(a==h)return g;if(a.getBoundingClientRect)b=$p(a),a=Ue(oe(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;
b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(C&&"fixed"==Xp(b)){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Db||C&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=aq(b))&&b!=c.body&&b!=h;)g.x-=b.scrollLeft,Db&&"TR"==b.tagName||(g.y-=b.scrollTop)}return g}function eq(a,b,c){if(b instanceof me)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");fq(a,b);gq(a,c)}
function Zp(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function gq(a,b){a.style.height=Zp(b,!0)}function fq(a,b){a.style.width=Zp(b,!0)}function hq(a){return iq(a)}function iq(a){var b=jq;if("none"!=Wp(a,"display"))return b(a);var c=a.style,d=c.display,f=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=f;return a}
function jq(a){var b=a.offsetWidth,c=a.offsetHeight,d=C&&!b&&!c;return t(b)&&!d||!a.getBoundingClientRect?new me(b,c):(a=$p(a),new me(a.right-a.left,a.bottom-a.top))}function kq(a){var b=cq(a);a=iq(a);return new Pp(b.x,b.y,a.width,a.height)}function lq(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function Z(a,b){a.style.display=b?"":"none"}function dq(a){return"rtl"==Wp(a,"direction")}
var mq=B?"MozUserSelect":C?"WebkitUserSelect":null;function nq(a,b,c){c=c?null:a.getElementsByTagName("*");if(mq){if(b=b?"none":"",a.style[mq]=b,c){a=0;for(var d;d=c[a];a++)d.style[mq]=b}}else if(A||Db)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}
function oq(a,b){var c=Se(oe(qe(a)));if(!A||c&&E("8")){var d=a.style;B?d.MozBoxSizing="border-box":C?d.WebkitBoxSizing="border-box":d.boxSizing="border-box";d.width=Math.max(b.width,0)+"px";d.height=Math.max(b.height,0)+"px"}else if(d=a.style,c){var c=pq(a),f=qq(a);d.pixelWidth=b.width-f.left-c.left-c.right-f.right;d.pixelHeight=b.height-f.top-c.top-c.bottom-f.bottom}else d.pixelWidth=b.width,d.pixelHeight=b.height}
function rq(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}function sq(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?rq(a,c):0}
function pq(a){if(A){var b=sq(a,"paddingLeft"),c=sq(a,"paddingRight"),d=sq(a,"paddingTop");a=sq(a,"paddingBottom");return new Op(d,c,a,b)}b=Vp(a,"paddingLeft");c=Vp(a,"paddingRight");d=Vp(a,"paddingTop");a=Vp(a,"paddingBottom");return new Op(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var tq={thin:2,medium:4,thick:6};function uq(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in tq?tq[c]:rq(a,c)}
function qq(a){if(A){var b=uq(a,"borderLeft"),c=uq(a,"borderRight"),d=uq(a,"borderTop");a=uq(a,"borderBottom");return new Op(d,c,a,b)}b=Vp(a,"borderLeftWidth");c=Vp(a,"borderRightWidth");d=Vp(a,"borderTopWidth");a=Vp(a,"borderBottomWidth");return new Op(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var vq=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function wq(){}ga(wq);wq.prototype.Bu=0;wq.Ga();function xq(a){M.call(this);this.sb=a||oe();this.De=yq}y(xq,M);xq.prototype.St=wq.Ga();var yq=null;function zq(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}n=xq.prototype;n.vb=null;n.H=!1;n.v=null;n.De=null;n.$m=null;n.ra=null;n.Ta=null;
n.Ec=null;n.wo=!1;n.g=function(){return this.vb||(this.vb=":"+(this.St.Bu++).toString(36))};n.ib=function(a){this.ra&&this.ra.Ec&&(kc(this.ra.Ec,this.vb),lc(this.ra.Ec,a,this));this.vb=a};n.d=e("v");n.w=function(){return this.pg||(this.pg=new yh(this))};n.Ff=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.ra&&this.vb&&Aq(this.ra,this.vb)&&this.ra!=a)throw Error("Unable to set parent component");this.ra=a;xq.c.xb.call(this,a)};n.getParent=e("ra");
n.xb=function(a){if(this.ra&&this.ra!=a)throw Error("Method not supported");xq.c.xb.call(this,a)};n.l=e("sb");n.t=function(){this.v=this.sb.createElement("div")};n.Mb=function(a){Bq(this,a)};function Bq(a,b,c){if(a.H)throw Error("Component already rendered");a.v||a.t();b?b.insertBefore(a.v,c||null):a.sb.ba.body.appendChild(a.v);a.ra&&!a.ra.H||a.o()}
n.ia=function(a){if(this.H)throw Error("Component already rendered");if(a&&this.Cb(a)){this.wo=!0;var b=qe(a);this.sb&&this.sb.ba==b||(this.sb=oe(a));this.X(a);this.o()}else throw Error("Invalid element to decorate");};n.Cb=l(!0);n.X=ca("v");n.o=function(){this.H=!0;this.bc(function(a){!a.H&&a.d()&&a.o()})};n.fa=function(){this.bc(function(a){a.H&&a.fa()});this.pg&&this.pg.qd();this.H=!1};
n.h=function(){this.H&&this.fa();this.pg&&(this.pg.A(),delete this.pg);this.bc(function(a){a.A()});!this.wo&&this.v&&De(this.v);this.ra=this.$m=this.v=this.Ec=this.Ta=null;xq.c.h.call(this)};n.ue=function(a){return this.g()+"."+a};n.zj=function(a){if(!this.H)throw Error("Operation not supported while component is not in document");return this.sb.d(this.ue(a))};n.ta=function(a,b){this.Cd(a,Cq(this),b)};
n.Cd=function(a,b,c){if(a.H&&(c||!this.H))throw Error("Component already rendered");if(0>b||b>Cq(this))throw Error("Child component index out of bounds");this.Ec&&this.Ta||(this.Ec={},this.Ta=[]);if(a.getParent()==this){var d=a.g();this.Ec[d]=a;kb(this.Ta,a)}else lc(this.Ec,a.g(),a);a.Ff(this);pb(this.Ta,b,0,a);a.H&&this.H&&a.getParent()==this?(c=this.qa(),c.insertBefore(a.d(),c.childNodes[b]||null)):c?(this.v||this.t(),b=Dq(this,b+1),Bq(a,this.qa(),b?b.v:null)):this.H&&(!a.H&&a.v&&a.v.parentNode&&
1==a.v.parentNode.nodeType)&&a.o()};n.qa=e("v");function Eq(a){null==a.De&&(a.De=dq(a.H?a.v:a.sb.ba.body));return a.De}n.Gf=function(a){if(this.H)throw Error("Component already rendered");this.De=a};function Cq(a){return a.Ta?a.Ta.length:0}function Aq(a,b){var c;a.Ec&&b?(c=a.Ec,c=(b in c?c[b]:void 0)||null):c=null;return c}function Dq(a,b){return a.Ta?a.Ta[b]||null:null}n.bc=function(a,b){this.Ta&&z(this.Ta,a,b)};function Fq(a,b){return a.Ta&&b?$a(a.Ta,b):-1}
n.removeChild=function(a,b){if(a){var c=u(a)?a:a.g();a=Aq(this,c);c&&a&&(kc(this.Ec,c),kb(this.Ta,a),b&&(a.fa(),a.v&&De(a.v)),a.Ff(null))}if(!a)throw Error("Child is not in parent component");return a};function Gq(a,b){xq.call(this,b);this.Nc=a||""}y(Gq,xq);Gq.prototype.Zc=null;Gq.prototype.nu=10;var Hq="placeholder"in document.createElement("input");n=Gq.prototype;n.Mh=!1;n.t=function(){this.v=this.l().t("input",{type:"text"})};n.X=function(a){Gq.c.X.call(this,a);this.Nc||(this.Nc=a.getAttribute("label")||"");var b;a:{var c=qe(a);try{b=c&&c.activeElement;break a}catch(d){}b=null}b==a&&(this.Mh=!0,a=this.d(),Np(a,this.Wg));Hq?this.d().placeholder=this.Nc:(a=this.d(),Ip(a,"label",this.Nc))};
n.o=function(){Gq.c.o.call(this);var a=new yh(this);a.e(this.d(),"focus",this.Ep);a.e(this.d(),"blur",this.ut);if(Hq)this.O=a;else{B&&a.e(this.d(),["keypress","keydown","keyup"],this.zt);var b=qe(this.d());a.e(we(b),"load",this.Jt);this.O=a;Iq(this)}this.Dc();this.d().mu=this};n.fa=function(){Gq.c.fa.call(this);this.O&&(this.O.A(),this.O=null);this.d().mu=null};function Iq(a){!a.bt&&(a.O&&a.d().form)&&(a.O.e(a.d().form,"submit",a.At),a.bt=!0)}
n.h=function(){Gq.c.h.call(this);this.O&&(this.O.A(),this.O=null)};n.Wg="label-input-label";n.Ep=function(){this.Mh=!0;var a=this.d();Np(a,this.Wg);if(!Hq&&!Jq(this)&&!this.Ut){var b=this,a=function(){b.d()&&(b.d().value="")};A?G(a,10):a()}};n.ut=function(){Hq||(this.O.nb(this.d(),"click",this.Ep),this.Zc=null);this.Mh=!1;this.Dc()};n.zt=function(a){27==a.keyCode&&("keydown"==a.type?this.Zc=this.d().value:"keypress"==a.type?this.d().value=this.Zc:"keyup"==a.type&&(this.Zc=null),a.preventDefault())};
n.At=function(){Jq(this)||(this.d().value="",G(this.st,10,this))};n.st=function(){Jq(this)||(this.d().value=this.Nc)};n.Jt=function(){this.Dc()};function Jq(a){return!!a.d()&&""!=a.d().value&&a.d().value!=a.Nc}n.clear=function(){this.d().value="";null!=this.Zc&&(this.Zc="")};n.reset=function(){Jq(this)&&(this.clear(),this.Dc())};n.na=function(a){null!=this.Zc&&(this.Zc=a);this.d().value=a;this.Dc()};n.Y=function(){return null!=this.Zc?this.Zc:Jq(this)?this.d().value:""};n.cd=e("Nc");
n.Dc=function(){var a=this.d();Hq?this.d().placeholder!=this.Nc&&(this.d().placeholder=this.Nc):(Iq(this),Ip(a,"label",this.Nc));Jq(this)?(a=this.d(),Np(a,this.Wg)):(this.Ut||this.Mh||(a=this.d(),Mp(a,this.Wg)),Hq||G(this.cx,this.nu,this))};n.Ea=function(a){this.d().disabled=!a;var b=this.d(),c=this.Wg+"-disabled";a?Np(b,c):Mp(b,c)};n.isEnabled=function(){return!this.d().disabled};n.cx=function(){!this.d()||(Jq(this)||this.Mh)||(this.d().value=this.Nc)};function Kq(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!B;default:return 166>a.keyCode||183<a.keyCode}}
function Lq(a,b,c,d,f){if(!(A||C&&E("525")))return!0;if(yb&&f)return Mq(a);if(f&&!d||!c&&(17==b||18==b||yb&&91==b))return!1;if(C&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(A&&d&&b==a)return!1;switch(a){case 13:return!(A&&Pb(9));case 27:return!C}return Mq(a)}
function Mq(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||C&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Nq(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Oq(a,b){M.call(this);a&&Pq(this,a,b)}y(Oq,M);n=Oq.prototype;n.v=null;n.Zj=null;n.Nm=null;n.$j=null;n.fc=-1;n.qe=-1;n.ql=!1;
var Qq={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Rq={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Sq=A||C&&E("525"),Tq=yb&&B;n=Oq.prototype;
n.Bt=function(a){C&&(17==this.fc&&!a.ctrlKey||18==this.fc&&!a.altKey||yb&&91==this.fc&&!a.metaKey)&&(this.qe=this.fc=-1);-1==this.fc&&(a.ctrlKey&&17!=a.keyCode?this.fc=17:a.altKey&&18!=a.keyCode?this.fc=18:a.metaKey&&91!=a.keyCode&&(this.fc=91));Sq&&!Lq(a.keyCode,this.fc,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.qe=B?Nq(a.keyCode):a.keyCode,Tq&&(this.ql=a.altKey))};n.Ct=function(a){this.qe=this.fc=-1;this.ql=a.altKey};
n.handleEvent=function(a){var b=a.oc,c,d,f=b.altKey;A&&"keypress"==a.type?(c=this.qe,d=13!=c&&27!=c?b.keyCode:0):C&&"keypress"==a.type?(c=this.qe,d=0<=b.charCode&&63232>b.charCode&&Mq(c)?b.charCode:0):Db?(c=this.qe,d=Mq(c)?b.keyCode:0):(c=b.keyCode||this.qe,d=b.charCode||0,Tq&&(f=this.ql),yb&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Qq?g=Qq[c]:25==c&&a.shiftKey&&(g=9):h&&h in Rq&&(g=Rq[h]);a=g==this.fc;this.fc=g;b=new Uq(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};n.d=e("v");
function Pq(a,b,c){a.$j&&a.detach();a.v=b;a.Zj=Gg(a.v,"keypress",a,c);a.Nm=Gg(a.v,"keydown",a.Bt,c,a);a.$j=Gg(a.v,"keyup",a.Ct,c,a)}n.detach=function(){this.Zj&&(Og(this.Zj),Og(this.Nm),Og(this.$j),this.$j=this.Nm=this.Zj=null);this.v=null;this.qe=this.fc=-1};n.h=function(){Oq.c.h.call(this);this.detach()};function Uq(a,b,c,d){d&&this.ne(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}y(Uq,ug);function Vq(a,b,c,d,f,g,h,k,m){var p,s;if(p=c.offsetParent){var r="HTML"==p.tagName||"BODY"==p.tagName;r&&"static"==Xp(p)||(s=cq(p),r||(r=(r=dq(p))&&B?-p.scrollLeft:!r||A&&E("8")||"visible"==Wp(p,"overflowX")?p.scrollLeft:p.scrollWidth-p.clientWidth-p.scrollLeft,s=le(s,new I(r,p.scrollTop))))}p=s||new I;s=kq(a);if(r=bq(a)){var x=new Pp(r.left,r.top,r.right-r.left,r.bottom-r.top),r=Math.max(s.left,x.left),D=Math.min(s.left+s.width,x.left+x.width);if(r<=D){var Q=Math.max(s.top,x.top),x=Math.min(s.top+
s.height,x.top+x.height);Q<=x&&(s.left=r,s.top=Q,s.width=D-r,s.height=x-Q)}}r=oe(a);Q=oe(c);if(r.ba!=Q.ba){var D=r.ba.body,Q=Te(Q),x=new I(0,0),U=we(qe(D)),Ea=D;do{var W;if(U==Q)W=cq(Ea);else{var jb=Ea;W=void 0;if(jb.getBoundingClientRect)W=$p(jb),W=new I(W.left,W.top);else{W=Ue(oe(jb));var Bc=cq(jb);W=new I(Bc.x-W.x,Bc.y-W.y)}if(B&&!E(12)){Bc=void 0;A?Bc="-ms-transform":C?Bc="-webkit-transform":Db?Bc="-o-transform":B&&(Bc="-moz-transform");var mg=void 0;Bc&&(mg=Wp(jb,Bc));mg||(mg=Wp(jb,"transform"));
jb=mg?(jb=mg.match(vq))?new I(parseFloat(jb[1]),parseFloat(jb[2])):new I(0,0):new I(0,0);W=new I(W.x+jb.x,W.y+jb.y)}}x.x+=W.x;x.y+=W.y}while(U&&U!=Q&&(Ea=U.frameElement)&&(U=U.parent));D=le(x,cq(D));A&&!Se(r)&&(D=le(D,Ue(r)));s.left+=D.x;s.top+=D.y}a=(b&4&&dq(a)?b^2:b)&-5;b=new I(a&2?s.left+s.width:s.left,a&1?s.top+s.height:s.top);b=le(b,p);f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var K;if(h)if(m)K=m;else if(K=bq(c))K.top-=p.y,K.right-=p.x,K.bottom-=p.y,K.left-=p.x;a:{m=K;f=b.cb();K=0;a=(d&4&&
dq(c)?d^2:d)&-5;d=iq(c);k=k?k.cb():d.cb();if(g||0!=a)a&2?f.x-=k.width+(g?g.right:0):g&&(f.x+=g.left),a&1?f.y-=k.height+(g?g.bottom:0):g&&(f.y+=g.top);if(h&&(m?(g=f,K=0,65==(h&65)&&(g.x<m.left||g.x>=m.right)&&(h&=-2),132==(h&132)&&(g.y<m.top||g.y>=m.bottom)&&(h&=-5),g.x<m.left&&h&1&&(g.x=m.left,K|=1),g.x<m.left&&(g.x+k.width>m.right&&h&16)&&(k.width=Math.max(k.width-(g.x+k.width-m.right),0),K|=4),g.x+k.width>m.right&&h&1&&(g.x=Math.max(m.right-k.width,m.left),K|=1),h&2&&(K|=(g.x<m.left?16:0)|(g.x+
k.width>m.right?32:0)),g.y<m.top&&h&4&&(g.y=m.top,K|=2),g.y<=m.top&&(g.y+k.height<m.bottom&&h&32)&&(k.height=Math.max(k.height-(m.top-g.y),0),g.y=m.top,K|=8),g.y>=m.top&&(g.y+k.height>m.bottom&&h&32)&&(k.height=Math.max(k.height-(g.y+k.height-m.bottom),0),K|=8),g.y+k.height>m.bottom&&h&4&&(g.y=Math.max(m.bottom-k.height,m.top),K|=2),h&8&&(K|=(g.y<m.top?64:0)|(g.y+k.height>m.bottom?128:0)),h=K):h=256,K=h,K&496)){c=K;break a}Yp(c,f);ne(d,k)||oq(c,k);c=K}return c};function Wq(){}Wq.prototype.Be=ba();function Xq(a,b,c){this.element=a;this.kj=b;this.Qw=c}y(Xq,Wq);Xq.prototype.Be=function(a,b,c){Vq(this.element,this.kj,a,b,void 0,c,this.Qw)};function Yq(a,b,c,d){Xq.call(this,a,b);this.ak=c?5:0;this.wn=d||void 0}y(Yq,Xq);Yq.prototype.ht=e("ak");Yq.prototype.Be=function(a,b,c,d){var f=Vq(this.element,this.kj,a,b,null,c,10,d,this.wn);if(f&496){var g=Zq(f,this.kj);b=Zq(f,b);f=Vq(this.element,g,a,b,null,c,10,d,this.wn);f&496&&(g=Zq(f,g),b=Zq(f,b),Vq(this.element,g,a,b,null,c,this.ak,d,this.wn))}};function Zq(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function $q(a,b,c,d){Yq.call(this,a,b,c||d);if(c||d)this.ak=65|(d?32:132)}y($q,Yq);function ar(){}var br;ga(ar);n=ar.prototype;n.pc=ba();n.t=function(a){var b=a.l().t("div",this.fe(a).join(" "),a.ha);cr(this,a,b);return b};n.qa=aa();n.ph=function(a,b,c){if(a=a.d?a.d():a)if(A&&!E("7")){var d=dr(fe(a),b);d.push(b);sa(c?ge:he,a).apply(null,d)}else ke(a,b,c)};n.Cb=l(!0);
n.ia=function(a,b){b.id&&a.ib(b.id);var c=this.qa(b);c&&c.firstChild?er(a,c.firstChild.nextSibling?nb(c.childNodes):c.firstChild):a.ha=null;var d=0,f=this.I(),g=this.I(),h=!1,k=!1,c=!1,m=fe(b);z(m,function(a){h||a!=f?k||a!=g?d|=this.im(a):k=!0:(h=!0,g==f&&(k=!0))},this);a.kc=d;h||(m.push(f),g==f&&(k=!0));k||m.push(g);var p=a.Hc;p&&m.push.apply(m,p);if(A&&!E("7")){var s=dr(m);0<s.length&&(m.push.apply(m,s),c=!0)}h&&k&&!p&&!c||ee(b,m.join(" "));cr(this,a,b);return b};
n.sg=function(a){Eq(a)&&this.Gf(a.d(),!0);a.isEnabled()&&this.Xd(a,a.P)};function cr(a,b,c){b.P||Ip(c,"hidden",!b.P);b.isEnabled()||a.mc(c,1,!b.isEnabled());b.Pa&8&&a.mc(c,8,fr(b,8));b.Pa&16&&a.mc(c,16,fr(b,16));b.Pa&64&&a.mc(c,64,fr(b,64))}n.Ge=function(a,b){nq(a,!b,!A&&!Db)};n.Gf=function(a,b){this.ph(a,this.I()+"-rtl",b)};n.Ld=function(a){var b;return a.Pa&32&&(b=a.Ua())?Me(b):!1};
n.Xd=function(a,b){var c;if(a.Pa&32&&(c=a.Ua())){if(!b&&fr(a,32)){try{c.blur()}catch(d){}fr(a,32)&&a.jf(null)}Me(c)!=b&&Ne(c,b)}};n.ea=function(a,b){Z(a,b);a&&Ip(a,"hidden",!b)};n.Ob=function(a,b,c){var d=a.d();if(d){var f=this.yh(b);f&&this.ph(a,f,c);this.mc(d,b,c)}};n.mc=function(a,b,c){br||(br={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=br[b])&&Ip(a,b,c)};
n.Nb=function(a,b){var c=this.qa(a);if(c&&(Ce(c),b))if(u(b))He(c,b);else{var d=function(a){if(a){var b=qe(c);c.appendChild(u(a)?b.createTextNode(a):a)}};ia(b)?z(b,d):!ja(b)||"nodeType"in b?d(b):z(nb(b),d)}};n.Ua=function(a){return a.d()};n.I=l("vl-control");n.fe=function(a){var b=this.I(),c=[b],d=this.I();d!=b&&c.push(d);b=a.kc;for(d=[];b;){var f=b&-b;d.push(this.yh(f));b&=~f}c.push.apply(c,d);(a=a.Hc)&&c.push.apply(c,a);A&&!E("7")&&c.push.apply(c,dr(c));return c};
function dr(a,b){var c=[];b&&(a=a.concat([b]));z([],function(d){!db(d,sa(gb,a))||b&&!gb(d,b)||c.push(d.join("_"))});return c}n.yh=function(a){this.dj||gr(this);return this.dj[a]};n.im=function(a){if(!this.Or){this.dj||gr(this);var b=this.dj,c={},d;for(d in b)c[b[d]]=d;this.Or=c}a=parseInt(this.Or[a],10);return isNaN(a)?0:a};function gr(a){var b=a.I();a.dj={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function hr(){}y(hr,ar);ga(hr);n=hr.prototype;n.pc=l("button");n.mc=function(a,b,c){switch(b){case 8:case 16:Ip(a,"pressed",c);break;default:case 64:case 1:hr.c.mc.call(this,a,b,c)}};n.t=function(a){var b=hr.c.t.call(this,a);this.wd(b,a.og());var c=a.Y();c&&this.na(b,c);a.Pa&16&&this.mc(b,16,fr(a,16));return b};n.ia=function(a,b){b=hr.c.ia.call(this,a,b);var c=this.Y(b);a.ob=c;a.ko=this.og(b);a.Pa&16&&this.mc(b,16,fr(a,16));return b};n.Y=fa;n.na=fa;n.og=function(a){return a.title};
n.wd=function(a,b){a&&b&&(a.title=b)};n.I=l("vl-button");function ir(a,b){if(!a)throw Error("Invalid class name "+a);if(!la(b))throw Error("Invalid decorator function "+b);jr[a]=b}function kr(a){for(var b=fe(a),c=0,d=b.length;c<d;c++)if(a=b[c]in jr?jr[b[c]]():null)return a;return null}var lr={},jr={};function mr(a,b,c){xq.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=na(b);if(d=lr[d])break;b=b.c?b.c.constructor:null}b=d?la(d.Ga)?d.Ga():new d:null}this.R=b;this.ha=a}y(mr,xq);n=mr.prototype;n.ha=null;n.kc=0;n.Pa=39;n.Dd=255;n.Ki=0;n.P=!0;n.Hc=null;n.sm=!0;n.Xi=!1;n.Cf=null;function nr(a,b){a.H&&b!=a.sm&&or(a,b);a.sm=b}n.Ua=function(){return this.R.Ua(this)};n.Bh=function(){return this.uc||(this.uc=new Oq)};function pr(a,b){b&&(a.Hc?gb(a.Hc,b)||a.Hc.push(b):a.Hc=[b],a.R.ph(a,b,!0))}
n.ph=function(a,b){b?pr(this,a):a&&(this.Hc&&kb(this.Hc,a))&&(0==this.Hc.length&&(this.Hc=null),this.R.ph(this,a,!1))};n.t=function(){var a=this.R.t(this);this.v=a;var b=this.Cf||this.R.pc();b&&Hp(a,b);this.Xi||this.R.Ge(a,!1);this.P||this.R.ea(a,!1)};n.yr=ca("Cf");n.qa=function(){return this.R.qa(this.d())};n.Cb=function(a){return this.R.Cb(a)};n.X=function(a){this.v=a=this.R.ia(this,a);var b=this.Cf||this.R.pc();b&&Hp(a,b);this.Xi||this.R.Ge(a,!1);this.P="none"!=a.style.display};
n.o=function(){mr.c.o.call(this);this.R.sg(this);if(this.Pa&-2&&(this.sm&&or(this,!0),this.Pa&32)){var a=this.Ua();if(a){var b=this.Bh();Pq(b,a);this.w().e(b,"key",this.Lc).e(a,"focus",this.Gj).e(a,"blur",this.jf)}}};
function or(a,b){var c=a.w(),d=a.d();b?(c.e(d,"mouseover",a.um).e(d,"mousedown",a.kf).e(d,"mouseup",a.lf).e(d,"mouseout",a.tm),a.Kh!=fa&&c.e(d,"contextmenu",a.Kh),A&&c.e(d,"dblclick",a.Dp)):(c.nb(d,"mouseover",a.um).nb(d,"mousedown",a.kf).nb(d,"mouseup",a.lf).nb(d,"mouseout",a.tm),a.Kh!=fa&&c.nb(d,"contextmenu",a.Kh),A&&c.nb(d,"dblclick",a.Dp))}n.fa=function(){mr.c.fa.call(this);this.uc&&this.uc.detach();this.P&&this.isEnabled()&&this.R.Xd(this,!1)};
n.h=function(){mr.c.h.call(this);this.uc&&(this.uc.A(),delete this.uc);delete this.R;this.Hc=this.ha=null};n.Nb=function(a){this.R.Nb(this.d(),a);this.ha=a};function er(a,b){a.ha=b}n.ig=function(){var a=this.ha;if(!a)return"";a=u(a)?a:ia(a)?bb(a,Qe).join(""):Oe(a);return Ba(a)};n.Gf=function(a){mr.c.Gf.call(this,a);var b=this.d();b&&this.R.Gf(b,a)};n.Ge=function(a){this.Xi=a;var b=this.d();b&&this.R.Ge(b,a)};
n.ea=function(a,b){if(b||this.P!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.d();c&&this.R.ea(c,a);this.isEnabled()&&this.R.Xd(this,a);this.P=a;return!0}return!1};n.isEnabled=function(){return!fr(this,1)};n.Ea=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!qr(this,1,!a)||(a||(this.setActive(!1),this.Rc(!1)),this.P&&this.R.Xd(this,a),this.Ob(1,!a))};n.Rc=function(a){qr(this,2,a)&&this.Ob(2,a)};n.Mc=function(){return fr(this,4)};
n.setActive=function(a){qr(this,4,a)&&this.Ob(4,a)};n.Wn=function(a){qr(this,8,a)&&this.Ob(8,a)};function rr(a,b){qr(a,16,b)&&a.Ob(16,b)}n.Na=function(a){qr(this,64,a)&&this.Ob(64,a)};function fr(a,b){return!!(a.kc&b)}n.Ob=function(a,b){this.Pa&a&&b!=fr(this,a)&&(this.R.Ob(this,a,b),this.kc=b?this.kc|a:this.kc&~a)};function sr(a,b,c){if(a.H&&fr(a,b)&&!c)throw Error("Component already rendered");!c&&fr(a,b)&&a.Ob(b,!1);a.Pa=c?a.Pa|b:a.Pa&~b}function tr(a,b){return!!(a.Dd&b)&&!!(a.Pa&b)}
function qr(a,b,c){return!!(a.Pa&b)&&fr(a,b)!=c&&(!(a.Ki&b)||a.dispatchEvent(zq(b,c)))&&!a.Fc}n.um=function(a){!ur(a,this.d())&&(this.dispatchEvent("enter")&&this.isEnabled()&&tr(this,2))&&this.Rc(!0)};n.tm=function(a){!ur(a,this.d())&&this.dispatchEvent("leave")&&(tr(this,4)&&this.setActive(!1),tr(this,2)&&this.Rc(!1))};n.Kh=fa;function ur(a,b){return!!a.relatedTarget&&Fe(b,a.relatedTarget)}
n.kf=function(a){this.isEnabled()&&(tr(this,2)&&this.Rc(!0),wg(a)&&(tr(this,4)&&this.setActive(!0),this.R.Ld(this)&&this.Ua().focus()));!this.Xi&&wg(a)&&a.preventDefault()};n.lf=function(a){this.isEnabled()&&(tr(this,2)&&this.Rc(!0),this.Mc()&&(this.zf(a)&&tr(this,4))&&this.setActive(!1))};n.Dp=function(a){this.isEnabled()&&this.zf(a)};
n.zf=function(a){tr(this,16)&&rr(this,!fr(this,16));tr(this,8)&&this.Wn(!0);tr(this,64)&&this.Na(!fr(this,64));var b=new rg("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.An=a.An);return this.dispatchEvent(b)};n.Gj=function(){tr(this,32)&&qr(this,32,!0)&&this.Ob(32,!0)};n.jf=function(){tr(this,4)&&this.setActive(!1);tr(this,32)&&qr(this,32,!1)&&this.Ob(32,!1)};
n.Lc=function(a){return this.P&&this.isEnabled()&&this.rc(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};n.rc=function(a){return 13==a.keyCode&&this.zf(a)};if(!la(mr))throw Error("Invalid component class "+mr);if(!la(ar))throw Error("Invalid renderer class "+ar);var vr=na(mr);lr[vr]=ar;ir("vl-control",function(){return new mr(null)});function wr(){}y(wr,hr);ga(wr);n=wr.prototype;n.pc=ba();n.t=function(a){nr(a,!1);a.Dd&=-256;sr(a,32,!1);return a.l().t("button",{"class":this.fe(a).join(" "),disabled:!a.isEnabled(),title:a.og()||"",value:a.Y()||""},a.ig()||"")};n.Cb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.ia=function(a,b){nr(a,!1);a.Dd&=-256;sr(a,32,!1);b.disabled&&ge(b,this.yh(1));return wr.c.ia.call(this,a,b)};n.sg=function(a){a.w().e(a.d(),"click",a.zf)};
n.Ge=fa;n.Gf=fa;n.Ld=function(a){return a.isEnabled()};n.Xd=fa;n.Ob=function(a,b,c){wr.c.Ob.call(this,a,b,c);(a=a.d())&&1==b&&(a.disabled=c)};n.Y=function(a){return a.value};n.na=function(a,b){a&&(a.value=b)};n.mc=fa;function xr(a,b,c){mr.call(this,a,b||wr.Ga(),c)}y(xr,mr);n=xr.prototype;n.Y=e("ob");n.na=function(a){this.ob=a;this.R.na(this.d(),a)};n.og=e("ko");n.wd=function(a){this.ko=a;this.R.wd(this.d(),a)};n.h=function(){xr.c.h.call(this);delete this.ob;delete this.ko};n.o=function(){xr.c.o.call(this);if(this.Pa&32){var a=this.Ua();a&&this.w().e(a,"keyup",this.rc)}};n.rc=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.zf(a):32==a.keyCode};ir("vl-button",function(){return new xr(null)});function yr(){}ga(yr);n=yr.prototype;n.pc=ba();function zr(a,b){a&&(a.tabIndex=b?0:-1)}n.t=function(a){return a.l().t("div",this.fe(a).join(" "))};n.qa=aa();n.Cb=function(a){return"DIV"==a.tagName};n.ia=function(a,b){b.id&&a.ib(b.id);var c=this.I(),d=!1,f=fe(b);f&&z(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Ea(!1):b==c+"-horizontal"?Ar(a,Br):b==c+"-vertical"&&Ar(a,Cr))},this);d||ge(b,c);Dr(this,a,this.qa(b));return b};
function Dr(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(1==d.nodeType){var g=a.zh(d);g&&(g.v=d,b.isEnabled()||g.Ea(!1),b.ta(g),g.ia(d))}else d.nodeValue&&""!=Ca(d.nodeValue)||c.removeChild(d);d=f}}n.zh=function(a){return kr(a)};n.sg=function(a){a=a.d();nq(a,!0,B);A&&(a.hideFocus=!0);var b=this.pc();b&&Hp(a,b)};n.Ua=function(a){return a.d()};n.I=l("vl-container");
n.fe=function(a){var b=this.I(),c=[b,a.ld==Br?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};n.wp=function(){return Cr};function Er(a,b,c){xq.call(this,c);this.R=b||yr.Ga();this.ld=a||this.R.wp()}y(Er,xq);var Br="horizontal",Cr="vertical";n=Er.prototype;n.Om=null;n.uc=null;n.R=null;n.ld=null;n.P=!0;n.ua=!0;n.Tl=!0;n.ub=-1;n.hb=null;n.Qd=!1;n.qs=!1;n.Ow=!0;n.Ed=null;n.Ua=function(){return this.Om||this.R.Ua(this)};n.Bh=function(){return this.uc||(this.uc=new Oq(this.Ua()))};n.t=function(){this.v=this.R.t(this)};n.qa=function(){return this.R.qa(this.d())};n.Cb=function(a){return this.R.Cb(a)};
n.X=function(a){this.v=this.R.ia(this,a);"none"==a.style.display&&(this.P=!1)};n.o=function(){Er.c.o.call(this);this.bc(function(a){a.H&&Fr(this,a)},this);var a=this.d();this.R.sg(this);this.ea(this.P,!0);this.w().e(this,"enter",this.pm).e(this,"highlight",this.qm).e(this,"unhighlight",this.vm).e(this,"open",this.Ft).e(this,"close",this.wt).e(a,"mousedown",this.kf).e(qe(a),"mouseup",this.yt).e(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.vt);this.Ld()&&Gr(this,!0)};
function Gr(a,b){var c=a.w(),d=a.Ua();b?c.e(d,"focus",a.Gj).e(d,"blur",a.jf).e(a.Bh(),"key",a.Lc):c.nb(d,"focus",a.Gj).nb(d,"blur",a.jf).nb(a.Bh(),"key",a.Lc)}n.fa=function(){this.He(-1);this.hb&&this.hb.Na(!1);this.Qd=!1;Er.c.fa.call(this)};n.h=function(){Er.c.h.call(this);this.uc&&(this.uc.A(),this.uc=null);this.R=this.hb=this.Ed=this.Om=null};n.pm=l(!0);
n.qm=function(a){var b=Fq(this,a.target);if(-1<b&&b!=this.ub){var c=Dq(this,this.ub);c&&c.Rc(!1);this.ub=b;c=Dq(this,this.ub);this.Qd&&c.setActive(!0);this.Ow&&(this.hb&&c!=this.hb)&&(c.Pa&64?c.Na(!0):this.hb.Na(!1))}b=this.d();null!=a.target.d()&&Ip(b,"activedescendant",a.target.d().id)};n.vm=function(a){a.target==Dq(this,this.ub)&&(this.ub=-1);this.d().removeAttribute("aria-activedescendant")};n.Ft=function(a){(a=a.target)&&(a!=this.hb&&a.getParent()==this)&&(this.hb&&this.hb.Na(!1),this.hb=a)};
n.wt=function(a){a.target==this.hb&&(this.hb=null)};n.kf=function(a){this.ua&&(this.Qd=!0);var b=this.Ua();b&&Me(b)?b.focus():a.preventDefault()};n.yt=function(){this.Qd=!1};n.vt=function(a){var b;a:{b=a.target;if(this.Ed)for(var c=this.d();b&&b!==c;){var d=b.id;if(d in this.Ed){b=this.Ed[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.kf(a);break;case "mouseup":b.lf(a);break;case "mouseover":b.um(a);break;case "mouseout":b.tm(a);break;case "contextmenu":b.Kh(a)}};n.Gj=ba();
n.jf=function(){this.He(-1);this.Qd=!1;this.hb&&this.hb.Na(!1)};n.Lc=function(a){return this.isEnabled()&&this.P&&(0!=Cq(this)||this.Om)&&this.rc(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
n.rc=function(a){var b=Dq(this,this.ub);if(b&&"function"==typeof b.Lc&&b.Lc(a)||this.hb&&this.hb!=b&&"function"==typeof this.hb.Lc&&this.hb.Lc(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Ld())this.Ua().blur();else return!1;break;case 36:Hr(this);break;case 35:Ir(this);break;case 38:if(this.ld==Cr)Jr(this);else return!1;break;case 37:if(this.ld==Br)Eq(this)?Kr(this):Jr(this);else return!1;break;case 40:if(this.ld==Cr)Kr(this);else return!1;break;
case 39:if(this.ld==Br)Eq(this)?Jr(this):Kr(this);else return!1;break;default:return!1}return!0};function Fr(a,b){var c=b.d(),c=c.id||(c.id=b.g());a.Ed||(a.Ed={});a.Ed[c]=b}n.ta=function(a,b){Er.c.ta.call(this,a,b)};n.Cd=function(a,b,c){a.Ki|=2;a.Ki|=64;!this.Ld()&&this.qs||sr(a,32,!1);nr(a,!1);Er.c.Cd.call(this,a,b,c);a.H&&this.H&&Fr(this,a);b<=this.ub&&this.ub++};
n.removeChild=function(a,b){if(a=u(a)?Aq(this,a):a){var c=Fq(this,a);-1!=c&&(c==this.ub?a.Rc(!1):c<this.ub&&this.ub--);(c=a.d())&&(c.id&&this.Ed)&&kc(this.Ed,c.id)}a=Er.c.removeChild.call(this,a,b);nr(a,!0);return a};function Ar(a,b){if(a.d())throw Error("Component already rendered");a.ld=b}n.ea=function(a,b){if(b||this.P!=a&&this.dispatchEvent(a?"show":"hide")){this.P=a;var c=this.d();c&&(Z(c,a),this.Ld()&&zr(this.Ua(),this.ua&&this.P),b||this.dispatchEvent(this.P?"aftershow":"afterhide"));return!0}return!1};
n.isEnabled=e("ua");n.Ea=function(a){this.ua!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.ua=!0,this.bc(function(a){a.Ur?delete a.Ur:a.Ea(!0)})):(this.bc(function(a){a.isEnabled()?a.Ea(!1):a.Ur=!0}),this.Qd=this.ua=!1),this.Ld()&&zr(this.Ua(),a&&this.P))};n.Ld=e("Tl");n.Xd=function(a){a!=this.Tl&&this.H&&Gr(this,a);this.Tl=a;this.ua&&this.P&&zr(this.Ua(),a)};n.He=function(a){(a=Dq(this,a))?a.Rc(!0):-1<this.ub&&Dq(this,this.ub).Rc(!1)};n.Rc=function(a){this.He(Fq(this,a))};
function Hr(a){Lr(a,function(a,c){return(a+1)%c},Cq(a)-1)}function Ir(a){Lr(a,function(a,c){a--;return 0>a?c-1:a},0)}function Kr(a){Lr(a,function(a,c){return(a+1)%c},a.ub)}function Jr(a){Lr(a,function(a,c){a--;return 0>a?c-1:a},a.ub)}function Lr(a,b,c){c=0>c?Fq(a,a.hb):c;var d=Cq(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=Dq(a,c);if(g&&a.Lo(g)){a.He(c);break}f++;c=b.call(a,c,d)}}n.Lo=function(a){return a.P&&a.isEnabled()&&!!(a.Pa&2)};function Mr(){}y(Mr,ar);ga(Mr);Mr.prototype.I=l("vl-menuheader");function Nr(a,b,c){mr.call(this,a,c||Mr.Ga(),b);sr(this,1,!1);sr(this,2,!1);sr(this,4,!1);sr(this,32,!1);this.kc=1}y(Nr,mr);ir("vl-menuheader",function(){return new Nr(null)});function Or(){this.No=[]}y(Or,ar);ga(Or);function Pr(a,b){var c=a.No[b];if(!c){switch(b){case 0:c=a.I()+"-highlight";break;case 1:c=a.I()+"-checkbox";break;case 2:c=a.I()+"-content"}a.No[b]=c}return c}n=Or.prototype;n.pc=l("menuitem");n.t=function(a){var b=a.l().t("div",this.fe(a).join(" "),Qr(this,a.ha,a.l()));Rr(this,a,b,!!(a.Pa&8)||!!(a.Pa&16));cr(this,a,b);return b};n.qa=function(a){return a&&a.firstChild};
n.ia=function(a,b){var c=Ee(b),d=Pr(this,2);c&&gb(fe(c),d)||b.appendChild(Qr(this,b.childNodes,a.l()));gb(fe(b),"vl-option")&&(a.Pk(!0),this.Pk(a,b,!0));return Or.c.ia.call(this,a,b)};n.Nb=function(a,b){var c=this.qa(a),d=Sr(this,a)?c.firstChild:null;Or.c.Nb.call(this,a,b);d&&!Sr(this,a)&&c.insertBefore(d,c.firstChild||null)};function Qr(a,b,c){a=Pr(a,2);return c.t("div",a,b)}n.Pk=function(a,b,c){b&&(Hp(b,c?"menuitemcheckbox":this.pc()),Rr(this,a,b,c))};
function Sr(a,b){var c=a.qa(b);if(c){var c=c.firstChild,d=Pr(a,1);return!!c&&gb(fe(c),d)}return!1}function Rr(a,b,c,d){d!=Sr(a,c)&&(ke(c,"vl-option",d),c=a.qa(c),d?(a=Pr(a,1),c.insertBefore(b.l().t("div",a),c.firstChild||null)):c.removeChild(c.firstChild))}n.yh=function(a){switch(a){case 2:return Pr(this,0);case 16:case 8:return"vl-option-selected";default:return Or.c.yh.call(this,a)}};
n.im=function(a){var b=Pr(this,0);switch(a){case "vl-option-selected":return 16;case b:return 2;default:return Or.c.im.call(this,a)}};n.I=l("vl-menuitem");function Tr(a,b,c,d){mr.call(this,a,d||Or.Ga(),c);this.na(b)}y(Tr,mr);n=Tr.prototype;n.Y=function(){var a=this.$m;return null!=a?a:this.ig()};n.na=ca("$m");n.Pk=function(a){sr(this,16,a);var b=this.d();b&&this.R.Pk(this,b,a)};n.ig=function(){var a=this.ha;return ia(a)?(a=bb(a,function(a){var c=fe(a);return gb(c,"vl-menuitem-accel")||gb(c,"vl-menuitem-mnemonic-separator")?"":Qe(a)}).join(""),Ba(a)):Tr.c.ig.call(this)};
n.lf=function(a){var b=this.getParent();if(b){var c=b.Rq;b.Rq=null;if(b=c&&ka(a.clientX))b=new I(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}Tr.c.lf.call(this,a)};n.rc=function(a){return a.keyCode==this.nq&&this.zf(a)?!0:Tr.c.rc.call(this,a)};n.mt=e("nq");ir("vl-menuitem",function(){return new Tr(null)});function Ur(){}y(Ur,ar);ga(Ur);Ur.prototype.t=function(a){return a.l().t("div",this.I())};Ur.prototype.ia=function(a,b){b.id&&a.ib(b.id);if("HR"==b.tagName){var c=b;b=this.t(a);c.parentNode&&c.parentNode.insertBefore(b,c);De(c)}else ge(b,this.I());return b};Ur.prototype.Nb=ba();Ur.prototype.I=l("vl-menuseparator");function Vr(a,b){mr.call(this,null,a||Ur.Ga(),b);sr(this,1,!1);sr(this,2,!1);sr(this,4,!1);sr(this,32,!1);this.kc=1}y(Vr,mr);Vr.prototype.o=function(){Vr.c.o.call(this);var a=this.d();Hp(a,"separator")};ir("vl-menuseparator",function(){return new Vr});function Wr(){}y(Wr,yr);ga(Wr);n=Wr.prototype;n.pc=l("menu");n.Cb=function(a){return"UL"==a.tagName||Wr.c.Cb.call(this,a)};n.zh=function(a){return"HR"==a.tagName?new Vr:Wr.c.zh.call(this,a)};n.Ye=function(a,b){return Fe(a.d(),b)};n.I=l("vl-menu");n.sg=function(a){Wr.c.sg.call(this,a);a=a.d();Ip(a,"haspopup","true")};ir("vl-menuseparator",function(){return new Vr});function Xr(a,b){Er.call(this,Cr,b||Wr.Ga(),a);this.Xd(!1)}y(Xr,Er);n=Xr.prototype;n.pl=!0;n.rs=!1;n.I=function(){return this.R.I()};n.Ye=function(a){if(this.R.Ye(this,a))return!0;for(var b=0,c=Cq(this);b<c;b++){var d=Dq(this,b);if("function"==typeof d.Ye&&d.Ye(a))return!0}return!1};n.Se=function(a){this.ta(a,!0)};n.Vf=function(a,b){this.Cd(a,b,!0)};n.removeItem=function(a){(a=this.removeChild(a,!0))&&a.A()};n.Ah=function(a){return Dq(this,a)};n.bm=function(){return Cq(this)};
n.ea=function(a,b,c){(b=Xr.c.ea.call(this,a,b))&&(a&&this.H&&this.pl)&&this.Ua().focus();this.Rq=a&&c&&ka(c.clientX)?new I(c.clientX,c.clientY):null;return b};n.pm=function(a){this.pl&&this.Ua().focus();return Xr.c.pm.call(this,a)};n.Lo=function(a){return(this.rs||a.isEnabled())&&a.P&&!!(a.Pa&2)};n.X=function(a){var b=this.R,c;c=this.l();c=re(c.ba,"div",b.I()+"-content",a);for(var d=c.length,f=0;f<d;f++)Dr(b,this,c[f]);Xr.c.X.call(this,a)};
n.rc=function(a){var b=Xr.c.rc.call(this,a);b||this.bc(function(c){!b&&(c.mt&&c.nq==a.keyCode)&&(this.isEnabled()&&this.Rc(c),b=c.Lc(a))},this);return b};n.He=function(a){Xr.c.He.call(this,a);if(a=Dq(this,a)){var b=a.d();a=this.d();var c=cq(b),d=cq(a),f=qq(a),g=c.x-d.x-f.left,c=c.y-d.y-f.top,d=a.clientHeight-b.offsetHeight,f=a.scrollLeft,h=a.scrollTop,f=f+Math.min(g,Math.max(g-(a.clientWidth-b.offsetWidth),0)),h=h+Math.min(c,Math.max(c-d,0)),b=new I(f,h);a.scrollLeft=b.x;a.scrollTop=b.y}};function Yr(){}y(Yr,hr);ga(Yr);n=Yr.prototype;n.t=function(a){var b={"class":"vl-inline-block "+this.fe(a).join(" ")},b=a.l().t("div",b,this.jh(a.ha,a.l()));this.wd(b,a.og());cr(this,a,b);return b};n.pc=l("button");n.qa=function(a){return a&&a.firstChild.firstChild};n.jh=function(a,b){return b.t("div","vl-inline-block "+(this.I()+"-outer-box"),b.t("div","vl-inline-block "+(this.I()+"-inner-box"),a))};n.Cb=function(a){return"DIV"==a.tagName};
n.ia=function(a,b){Zr(b,!0);Zr(b,!1);var c;a:{c=a.l().xp(b);var d=this.I()+"-outer-box";if(c&&gb(fe(c),d)&&(c=a.l().xp(c),d=this.I()+"-inner-box",c&&gb(fe(c),d))){c=!0;break a}c=!1}c||b.appendChild(this.jh(b.childNodes,a.l()));ge(b,"vl-inline-block",this.I());return Yr.c.ia.call(this,a,b)};n.I=l("vl-custom-button");
function Zr(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==Ca(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):Da(f);break}}else break;c=d}};function $r(){}y($r,Yr);ga($r);B&&($r.prototype.Nb=function(a,b){var c=$r.c.qa.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,oe(a)),f=c.parentNode;f&&f.replaceChild(d,c)}});n=$r.prototype;n.qa=function(a){a=$r.c.qa.call(this,a&&a.firstChild);B&&(a&&a.__goog_wrapper_div)&&(a=a.firstChild);return a};n.mc=function(a,b,c){64!=b&&$r.c.mc.call(this,a,b,c)};
n.ia=function(a,b){var c=re(document,"*","vl-menu",b)[0];if(c){Z(c,!1);qe(c).body.appendChild(c);var d=new Xr;d.ia(c);a.Ci(d)}return $r.c.ia.call(this,a,b)};n.jh=function(a,b){return $r.c.jh.call(this,[this.createCaption(a,b),b.t("div","vl-inline-block "+(this.I()+"-dropdown")," ")],b)};n.createCaption=function(a,b){return b.t("div","vl-inline-block "+(this.I()+"-caption"),a)};n.I=l("vl-menu-button");function as(a,b,c,d){xr.call(this,a,c||$r.Ga(),d);sr(this,64,!0);this.mk=new $q(null,5);b&&this.Ci(b);this.vu=null;this.$=new Xg(500);!ri&&!si||E("533.17.9")||(this.Vj=!0)}y(as,xr);n=as.prototype;n.Vj=!1;n.ax=!1;n.o=function(){as.c.o.call(this);this.L&&bs(this,this.L,!0);Ip(this.v,"haspopup",!!this.L)};n.fa=function(){as.c.fa.call(this);if(this.L){this.Na(!1);this.L.fa();bs(this,this.L,!1);var a=this.L.d();a&&De(a)}};
n.h=function(){as.c.h.call(this);this.L&&(this.L.A(),delete this.L);delete this.Uq;this.$.A()};n.kf=function(a){as.c.kf.call(this,a);this.Mc()&&(this.Na(!fr(this,64),a),this.L&&(this.L.Qd=fr(this,64)))};n.lf=function(a){as.c.lf.call(this,a);this.L&&!this.Mc()&&(this.L.Qd=!1)};n.zf=function(){this.setActive(!1);return!0};n.xt=function(a){this.L&&(this.L.P&&!this.Ye(a.target))&&this.Na(!1)};n.Ye=function(a){return a&&Fe(this.d(),a)||this.L&&this.L.Ye(a)||!1};
n.rc=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.L&&this.L.P){var b=this.L.Lc(a);return 27==a.keyCode?(this.Na(!1),!0):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Na(!0),!0):!1};n.rm=function(){this.Na(!1)};n.Dt=function(){this.Mc()||this.Na(!1)};n.jf=function(a){this.Vj||this.Na(!1);as.c.jf.call(this,a)};function cs(a){a.L||a.Ci(new Xr(a.l()));return a.L||null}
n.Ci=function(a){var b=this.L;if(a!=b&&(b&&(this.Na(!1),this.H&&bs(this,b,!1),delete this.L),this.H&&Ip(this.v,"haspopup",!!a),a)){this.L=a;a.Ff(this);a.ea(!1);var c=this.Vj;(a.pl=c)&&a.Xd(!0);this.H&&bs(this,a,!0)}return b};function ds(a,b){a.Uq=b;es(a)}n.Se=function(a){cs(this).ta(a,!0)};n.Vf=function(a,b){cs(this).Cd(a,b,!0)};n.removeItem=function(a){(a=cs(this).removeChild(a,!0))&&a.A()};n.Ah=function(a){return this.L?Dq(this.L,a):null};n.bm=function(){return this.L?Cq(this.L):0};
n.ea=function(a,b){var c=as.c.ea.call(this,a,b);c&&!this.P&&this.Na(!1);return c};n.Ea=function(a){as.c.Ea.call(this,a);this.isEnabled()||this.Na(!1)};
n.Na=function(a,b){as.c.Na.call(this,a);if(this.L&&fr(this,64)==a){if(a)this.L.H||(this.ax?this.L.Mb(this.d().parentNode):this.L.Mb()),this.Rf=bq(this.d()),this.Jo=kq(this.d()),es(this),this.L.He(-1);else{this.setActive(!1);this.L.Qd=!1;var c=this.d();c&&Ip(c,"activedescendant","");null!=this.wk&&(this.wk=void 0,(c=this.L.d())&&eq(c,"",""))}this.L.ea(a,!1,b);if(!this.Fc){var c=this.w(),d=a?c.e:c.nb;d.call(c,Re(this.l()),"mousedown",this.xt,!0);this.Vj&&d.call(c,this.L,"blur",this.Dt);d.call(c,this.$,
Yg,this.uw);a?this.$.start():this.$.stop()}}};function es(a){if(a.L.H){var b=a.Uq||a.d(),c=a.mk;a.mk.element=b;b=a.L.d();a.L.P||(b.style.visibility="hidden",Z(b,!0));!a.wk&&(a.mk.ht&&a.mk.ak&32)&&(a.wk=iq(b));c.Be(b,c.kj^1,a.vu,a.wk);a.L.P||(Z(b,!1),b.style.visibility="visible")}}n.uw=function(){var a=kq(this.d()),b=bq(this.d());Qp(this.Jo,a)&&(this.Rf==b||this.Rf&&b&&this.Rf.top==b.top&&this.Rf.right==b.right&&this.Rf.bottom==b.bottom&&this.Rf.left==b.left)||(this.Jo=a,this.Rf=b,es(this))};
function bs(a,b,c){var d=a.w();c=c?d.e:d.nb;c.call(d,b,"action",a.rm);c.call(d,b,"highlight",a.qm);c.call(d,b,"unhighlight",a.vm)}n.qm=function(a){var b=this.d();null!=a.target.d()&&Ip(b,"activedescendant",a.target.d().id)};n.vm=function(){if(!Dq(this.L,this.L.ub)){var a=this.d();Ip(a,"activedescendant","")}};ir("vl-menu-button",function(){return new as(null)});function fs(){}y(fs,$r);ga(fs);fs.prototype.qa=function(a){return a?re(document,"*",this.I()+"-caption",a)[0]:null};fs.prototype.Cb=function(a){return"DIV"==a.tagName};fs.prototype.jh=function(a,b){var c=this.I();return b.t("div","vl-inline-block ",b.t("div",[c+"-caption","vl-inline-block"],a),b.t("div",[c+"-dropdown","vl-inline-block"]))};fs.prototype.I=l("vl-css3-button");ir("vl-css3-menu-button",function(){return new as(null,null,fs.Ga())});function gs(a,b,c,d,f){xq.call(this,f);this.width=a;this.height=b;this.$e=c||null;this.Dl=d||null}y(gs,xq);n=gs.prototype;n.hh=null;n.ij=0;n.jj=0;n.dc=function(){return this.ff()};n.ff=function(){return this.H?hq(this.d()):ka(this.width)&&ka(this.height)?new me(this.width,this.height):null};function hs(a){var b=a.ff();return b?b.width/(a.$e?new me(a.$e,a.Dl):a.ff()).width:0};function is(a,b){M.call(this);this.v=a;this.om=b;this[xg]=!1}y(is,M);n=is.prototype;n.om=null;n.v=null;n.d=e("v");n.addEventListener=function(a,b,c,d){Gg(this.v,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Mg(this.v,a,b,c,d)};n.h=function(){is.c.h.call(this);Qg(this.v)};function js(a,b,c,d){is.call(this,a,b);this.ux=c;a=this.om;b=this.d();c?(b.setAttribute("stroke",c.Es),c=c.Ap(),u(c)&&-1!=c.indexOf("px")?b.setAttribute("stroke-width",parseFloat(c)/hs(a)):b.setAttribute("stroke-width",c)):b.setAttribute("stroke","none");this.fill=d;c=this.om;a=this.d();if(d instanceof ks){b="lg-"+d.Vr+"-"+d.Xr+"-"+d.Wr+"-"+d.Yr+"-"+d.Po+"-"+d.Qo;var f=b in c.af?c.af[b]:null;if(!f){var f=ls(c,"linearGradient",{x1:d.Vr,y1:d.Xr,x2:d.Wr,y2:d.Yr,gradientUnits:"userSpaceOnUse"}),g="stop-color:"+
d.Po;ka(d.Pq)&&(g+=";stop-opacity:"+d.Pq);g=ls(c,"stop",{offset:"0%",style:g});f.appendChild(g);g="stop-color:"+d.Qo;ka(d.Qq)&&(g+=";stop-opacity:"+d.Qq);d=ls(c,"stop",{offset:"100%",style:g});f.appendChild(d);b in c.af?f=c.af[b]:(d="_svgdef_"+ms++,f.setAttribute("id",d),c.af[b]=d,c.oj.appendChild(f),f=d)}a.setAttribute("fill","url(#"+f+")")}else a.setAttribute("fill","none")}y(js,is);js.prototype.fill=null;js.prototype.ux=null;function ns(a,b){is.call(this,a,b)}y(ns,is);function os(a,b,c,d){js.call(this,a,b,c,d)}y(os,js);function ps(){};function ks(a,b,c,d,f,g,h,k){this.Vr=a;this.Xr=b;this.Wr=c;this.Yr=d;this.Po=f;this.Qo=g;this.Pq=t(h)?h:null;this.Qq=t(k)?k:null}y(ks,ps);function qs(a,b){this.Fx=a;this.Es=b}qs.prototype.Ap=e("Fx");function rs(a,b){is.call(this,a,b)}y(rs,ns);rs.prototype.clear=function(){Ce(this.d())};function ss(a,b,c,d){js.call(this,a,b,c,d)}y(ss,os);function ts(a,b,c,d,f){gs.call(this,a,b,c,d,f);this.af={};this.po=C&&!E(526);this.ec=new yh(this)}var us;y(ts,gs);var ms=0;function ls(a,b,c){a=a.sb.ba.createElementNS("/web/20131025084704/http://www.w3.org/2000/svg",b);if(c)for(var d in c)a.setAttribute(d,c[d]);return a}n=ts.prototype;
n.t=function(){var a=ls(this,"svg",{width:this.width,height:this.height,overflow:"hidden"}),b=ls(this,"g");this.oj=ls(this,"defs");this.hh=new rs(b,this);a.appendChild(this.oj);a.appendChild(b);this.v=a;if(this.$e||this.ij||this.jj)this.d().setAttribute("preserveAspectRatio","none"),this.po?this.cl():this.d().setAttribute("viewBox",this.ij+" "+this.jj+" "+(this.$e?this.$e+" "+this.Dl:""))};
n.cl=function(){if(this.H&&(this.$e||this.ij||!this.jj)){var a=this.ff();if(0==a.width)this.d().style.visibility="hidden";else{this.d().style.visibility="";var b=-this.ij,c=-this.jj,d=a.width/this.$e,a=a.height/this.Dl;this.hh.d().setAttribute("transform","scale("+d+" "+a+") translate("+b+" "+c+")")}}};
n.ff=function(){if(!B)return this.H?hq(this.d()):ts.c.ff.call(this);var a=this.width,b=this.height,c=u(a)&&-1!=a.indexOf("%"),d=u(b)&&-1!=b.indexOf("%");if(!this.H&&(c||d))return null;var f,g;c&&(f=this.d().parentNode,g=iq(f),a=parseFloat(a)*g.width/100);d&&(f=f||this.d().parentNode,g=g||iq(f),b=parseFloat(b)*g.height/100);return new me(a,b)};n.clear=function(){this.hh.clear();Ce(this.oj);this.af={}};
n.o=function(){var a=this.ff();ts.c.o.call(this);a||this.dispatchEvent("resize");if(this.po){var a=this.width,b=this.height;"string"==typeof a&&(-1!=a.indexOf("%")&&"string"==typeof b&&-1!=b.indexOf("%"))&&this.ec.e(vs(),Yg,this.cl);this.cl()}};n.fa=function(){ts.c.fa.call(this);this.po&&this.ec.nb(vs(),Yg,this.cl)};n.h=function(){delete this.af;delete this.oj;delete this.hh;ts.c.h.call(this)};function vs(){us||(us=new Xg(400),us.start());return us};try{eval("document.namespaces")}catch(ws){};function xs(a,b){this.size=a;this.Ts=b}xs.prototype.bold=!1;xs.prototype.ju=!1;function ys(){}y(ys,ar);ga(ys);n=ys.prototype;n.pc=ba();n.ia=function(a,b){nr(a,!1);a.Dd&=-256;sr(a,32,!1);ys.c.ia.call(this,a,b);a.Nb(b.value);return b};n.t=function(a){nr(a,!1);a.Dd&=-256;sr(a,32,!1);return a.l().t("textarea",{"class":this.fe(a).join(" "),disabled:!a.isEnabled()},a.ha||"")};n.Cb=function(a){return"TEXTAREA"==a.tagName};n.Gf=fa;n.Ld=function(a){return a.isEnabled()};n.Xd=fa;n.Ob=function(a,b,c){ys.c.Ob.call(this,a,b,c);(a=a.d())&&1==b&&(a.disabled=c)};n.mc=fa;
n.Nb=function(a,b){a&&(a.value=b)};n.I=l("vl-textarea");function zs(a,b,c){mr.call(this,a,b||ys.Ga(),c);nr(this,!1);this.Ge(!0);a||(this.ha="")}y(zs,mr);var As=B||C;n=zs.prototype;n.ug=!1;n.le=0;n.hq=0;n.lq=0;n.Ip=!1;n.ok=!1;n.Kn=!1;n.Jn=!1;function Bs(a){return a.pi.top+a.pi.bottom+a.Io.top+a.Io.bottom}function Cs(a){var b=a.lq,c=a.d();b&&(c&&a.ok)&&(b-=Bs(a));return b}function Ds(a){var b=a.hq,c=a.d();b&&(c&&a.ok)&&(b-=Bs(a));return b}n.na=function(a){this.Nb(String(a))};n.Y=function(){return this.d().value};
n.Nb=function(a){zs.c.Nb.call(this,a);this.d()&&this.qg()};n.Ea=function(a){zs.c.Ea.call(this,a);this.d().disabled=!a};n.o=function(){zs.c.o.call(this);var a=this.d();Rp(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.pi=pq(a);this.Io=qq(a);this.w().e(a,"scroll",this.qg).e(a,"focus",this.qg).e(a,"keyup",this.qg).e(a,"mouseup",this.yu);this.d()&&this.qg()};
function Es(a){if(!a.Ip){var b=a.d().cloneNode(!1);Rp(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});Re(a.l()).body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.Kn=d>c;b.style.borderWidth="10px";a.Jn=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.ok=!0);De(b);a.Ip=!0}var b=a.d(),c=a.d().scrollHeight,f=a.d(),d=f.offsetHeight-f.clientHeight;if(!a.Kn)var g=a.pi,d=d-(g.top+g.bottom);
a.Jn||(f=qq(f),d-=f.top+f.bottom);c+=0<d?d:0;a.ok?c-=Bs(a):(a.Kn||(d=a.pi,c+=d.top+d.bottom),a.Jn||(a=qq(b),c+=a.top+a.bottom));return c}function Fs(a,b){a.le!=b&&(a.le=b,a.d().style.height=b+"px")}function Gs(a){a=a.d();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.qg=function(){if(!this.ug){var a=!1;this.ug=!0;var b=this.d(),c=this.le;if(b.scrollHeight){var d=!1,f=!1,g=Es(this),h=b.offsetHeight,k=Cs(this),m=Ds(this);k&&g<k?(Fs(this,k),d=!0):m&&g>m?(Fs(this,m),b.style.overflowY="",f=!0):h!=g?Fs(this,g):this.le||(this.le=g);d||(f||!As)||(a=!0)}else Gs(this);this.ug=!1;a&&(a=this.d(),this.ug||(this.ug=!0,(d=a.scrollHeight)?(f=Es(this),b=Cs(this),g=Ds(this),b&&f<=b||g&&f>=g||(g=this.pi,a.style.paddingBottom=g.bottom+1+"px",Es(this)==f&&(a.style.paddingBottom=
g.bottom+d+"px",a.scrollTop=0,d=Es(this)-d,d>=b?Fs(this,d):Fs(this,b)),a.style.paddingBottom=g.bottom+"px")):Gs(this),this.ug=!1));c!=this.le&&this.dispatchEvent("resize")}};n.yu=function(){var a=this.d(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.le&&(this.le=this.lq=b)};function Hs(a,b,c,d){mr.call(this,"",null,d);this.sa=a;this.B=null;this.ua=!0;null!=b&&(this.ua=b);this.Rp=c;this.zi=this.yb=null;this.Gm="";this.nm=new Oq;pr(this,"vl-msg-input")}y(Hs,mr);n=Hs.prototype;n.vr=function(a){this.B=a;this.yb&&this.H&&this.yb.Nb(a.fp)};n.lx=function(a){this.sa.kb(a).n(function(a){this.vr(a)},this)};n.t=function(){Hs.c.t.call(this);this.kh()};
n.kh=function(){var a=this.yb=new zs("",null,this.l());a.hq=300;a.d()&&a.qg();this.ta(this.yb,!0);this.zi=new xr("Send",null,this.l());pr(this.zi,"vl-textarea-submit");this.ta(this.zi,!0)};
n.o=function(){nr(this,!1);Hs.c.o.call(this);this.w().e(this,"action",this.hw,!1,this).e(this,"resize",this.gb,!1,this).e(this.nm,"key",this.jv,!0,this);Pq(this.nm,this.sb.ba,!0);zi()||this.yb.d().focus();this.Gm=hq(this.yb.d()).height+"px";this.ua||(this.yb.Ea(!1),this.yb.Ge(!1),this.zi.Ea(!1),this.zi.ea(!1));this.Rp?this.yb.na(this.Rp):this.B&&this.yb.Nb(this.B.fp);var a=this.Gm;gq(this.yb.d(),a);this.gb()};n.fa=function(){Hs.c.fa.call(this);this.nm.detach()};
n.hw=function(){var a=this.yb.Y();this.B&&!Aa(Ua(a))&&(this.B.postMessage(a),this.yb.na(""),a=this.Gm,gq(this.yb.d(),a),this.gb())};n.gb=function(){var a=this.d(),b=hq(this.yb.d()).height;gq(a,b);!de||A&&E("9")&&!E("10")&&q.SVGElement&&a instanceof q.SVGElement?(a=a.parentNode,a=ma(a)&&1==a.nodeType?a:null):a=a.parentElement;gq(a,b)};n.jv=function(a){!Kq(a)||a.ctrlKey&&67===a.keyCode||a.ctrlKey&&86===a.keyCode||zi()||this.yb.d().focus()};
n.rc=function(a){this.B&&Kq(a)&&this.B.Pp();return a.shiftKey?!1:Hs.c.rc.call(this,a)};function Is(a,b){this.Oo=a;this.Oo.mo=this;if(this.Ab=b)b.J=this;this.G=new Ri(null,a.G);var c;if(Rn()){c=new Qn;var d=this.G.get("pathPrefix")||"";c.Dg=String(d);this.G.get("html5History")&&(d=c,!1!=d.Ri&&(Mg(d.S,"hashchange",d.mi,!1,d),d.Ri=!1))}else c=new qp;this.Rt=c;this.Ii=new mp}n=Is.prototype;n.K=function(){return this.Oo.K()};n.tb=e("Ab");n.cc=e("Rt");function zm(a){return a.Ii}n.Hs=function(a,b,c){return new Hs(a,b,c)};
n.Js=function(a,b){var c,d,f=new ts("100%","100%");f.t();var g=new ks(0,0,0,80,"#26A2DF","#2A87Cb");d=new xs(80,"Helvetica");d.bold=!0;var h;h=0+d.size/2;c=null;var k=180*Math.atan2(h-h,0)/Math.PI%360,k=Math.round(0>360*k?k+360:k),m=h-h;Math.round(Math.sqrt(0+m*m));var p=d.size,m={"font-family":d.Ts,"font-size":p},s=Math.round(0.85*p),p=Math.round(h-p/2+s);m.x=0;m.y=p;d.bold&&(m["font-weight"]="bold");d.ju&&(m["font-style"]="italic");0!=k&&(m.transform="rotate("+k+" 0 "+h+")");d=ls(f,"text",m);d.appendChild(f.sb.ba.createTextNode(a));
null==c&&(B&&yb)&&(c=new qs(1,"black"));c=new ss(d,f,c,g);f.hh.d().appendChild(c.d());g=document.getElementById(b);f.Mb(g);d=c.d().getBBox();c=d.width;d=d.height;Rp(g,{width:c+"px",height:d+"px"});return f};ir("vl-label-input",function(){return new Gq});ir("vl-single-label-input",function(){return new Gq});var Un="cmd:signin",Mk="cmd:outgoingcall",Ik="cmd:incomingcall";function Js(a,b,c){N.call(this,"cmd:nav",c);this.href=a;this.replaceState=b||!1}y(Js,N);function Ks(a,b,c){N.call(this,"cmd:edituser",c);this.Aa=a;this.Dx=b}y(Ks,N);function Ls(a,b,c){N.call(this,a,c);this.map=b||null}y(Ls,N);Ls.prototype.get=function(a){return this.map?this.map.get(a):null};function Ms(a,b){N.call(this,"cmd:signupexists",b);this.eg=a}y(Ms,N);function Ns(a,b,c){M.call(this);this.target=a;this.handle=b||a;this.dk=c||new Pp(NaN,NaN,NaN,NaN);this.ba=qe(a);this.O=new yh(this);ig(this,sa(jg,this.O));Gg(this.handle,["touchstart","mousedown"],this.Kr,!1,this)}y(Ns,M);var Os=A||B&&E("1.9.3");n=Ns.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.Mr=0;n.Nr=0;n.bg=0;n.cg=0;n.ua=!0;n.cf=!1;n.Lp=0;n.xu=0;n.Tt=!1;n.qo=!1;n.w=e("O");n.Ea=ca("ua");
n.h=function(){Ns.c.h.call(this);Mg(this.handle,["touchstart","mousedown"],this.Kr,!1,this);this.O.qd();Os&&this.ba.releaseCapture();this.handle=this.target=null};function Ps(a){t(a.De)||(a.De=dq(a.target));return a.De}
n.Kr=function(a){var b="mousedown"==a.type;if(!this.ua||this.cf||b&&!wg(a))this.dispatchEvent("earlycancel");else{Qs(a);if(0==this.Lp)if(this.dispatchEvent(new Rs("start",this,a.clientX,a.clientY,a)))this.cf=!0,a.preventDefault();else return;else a.preventDefault();var b=this.ba,c=b.documentElement,d=!Os;this.O.e(b,["touchmove","mousemove"],this.Et,d);this.O.e(b,["touchend","mouseup"],this.rj,d);Os?(c.setCapture(!1),this.O.e(c,"losecapture",this.rj)):this.O.e(we(b),"blur",this.rj);A&&this.Tt&&this.O.e(b,
"dragstart",sg);this.ex&&this.O.e(this.ex,"scroll",this.gw,d);this.clientX=this.Mr=a.clientX;this.clientY=this.Nr=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.qo?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=Xp(a)||(c=qe(a).documentElement),c?(B?(d=qq(c),b+=d.left):Pb(8)&&(d=qq(c),b-=d.left),a=dq(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.bg=a;this.cg=this.target.offsetTop;this.xn=Ue(oe(this.ba));this.xu=ta()}};
n.rj=function(a,b){this.O.qd();Os&&this.ba.releaseCapture();if(this.cf){Qs(a);this.cf=!1;var c=Ss(this,this.bg),d=Ts(this,this.cg);this.dispatchEvent(new Rs("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function Qs(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.ne(a.oc.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.ne(a.oc.changedTouches[0],a.currentTarget)}
n.Et=function(a){if(this.ua){Qs(a);var b=(this.qo&&Ps(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.cf){var d=this.Mr-this.clientX,f=this.Nr-this.clientY;if(d*d+f*f>this.Lp)if(this.dispatchEvent(new Rs("start",this,a.clientX,a.clientY,a)))this.cf=!0;else{this.Fc||this.rj(a);return}}c=Us(this,b,c);b=c.x;c=c.y;this.cf&&this.dispatchEvent(new Rs("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(Vs(this,a,b,c),a.preventDefault())}};function Us(a,b,c){var d=Ue(oe(a.ba));b+=d.x-a.xn.x;c+=d.y-a.xn.y;a.xn=d;a.bg+=b;a.cg+=c;b=Ss(a,a.bg);a=Ts(a,a.cg);return new I(b,a)}n.gw=function(a){var b=Us(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Vs(this,a,b.x,b.y)};function Vs(a,b,c,d){a.qo&&Ps(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new Rs("drag",a,b.clientX,b.clientY,b,c,d))}
function Ss(a,b){var c=a.dk,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function Ts(a,b){var c=a.dk,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function Rs(a,b,c,d,f,g,h,k){rg.call(this,a);this.clientX=c;this.clientY=d;this.Sx=f;this.left=t(g)?g:b.bg;this.top=t(h)?h:b.cg;this.hy=b;this.gy=!!k}y(Rs,rg);function Ws(a){M.call(this);this.v=a;a=A?"focusout":"blur";this.pu=Gg(this.v,A?"focusin":"focus",this,!A);this.qu=Gg(this.v,a,this,!A)}y(Ws,M);Ws.prototype.handleEvent=function(a){var b=new ug(a.oc);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Ws.prototype.h=function(){Ws.c.h.call(this);Og(this.pu);Og(this.qu);delete this.v};function Xs(a,b){xq.call(this,b);this.Cx=!!a;this.Wh=null}y(Xs,xq);n=Xs.prototype;n.Sl=null;n.P=!1;n.Yb=null;n.Bb=null;n.Ac=null;n.vl=!1;n.I=l("vl-modalpopup");n.df=e("Yb");n.t=function(){Xs.c.t.call(this);var a=this.d();ge(a,this.I());Ne(a,!0);Z(a,!1);Ys(this);Zs(this)};
function Ys(a){if(a.Cx&&!a.Bb){var b;b=a.l().t("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.Bb=b;a.Bb.className=a.I()+"-bg";Z(a.Bb,!1);lq(a.Bb,0)}a.Yb||(a.Yb=a.l().t("div",a.I()+"-bg"),Z(a.Yb,!1))}function Zs(a){a.Ac||(a.Ac=a.l().createElement("span"),Z(a.Ac,!1),Ne(a.Ac,!0),a.Ac.style.position="absolute")}n.gr=function(){this.vl=!1};n.Cb=function(a){return!!a&&"DIV"==a.tagName};
n.X=function(a){Xs.c.X.call(this,a);ge(this.d(),this.I());Ys(this);Zs(this);Z(this.d(),!1)};n.o=function(){if(this.Bb){var a=this.d();a.parentNode&&a.parentNode.insertBefore(this.Bb,a)}a=this.d();a.parentNode&&a.parentNode.insertBefore(this.Yb,a);Xs.c.o.call(this);a=this.d();a.parentNode&&a.parentNode.insertBefore(this.Ac,a.nextSibling);this.Sl=new Ws(Re(this.l()));this.w().e(this.Sl,"focusin",this.jn);$s(this,!1)};
n.fa=function(){this.P&&this.ea(!1);jg(this.Sl);Xs.c.fa.call(this);De(this.Bb);De(this.Yb);De(this.Ac)};
n.ea=function(a){if(a!=this.P)if(this.Bf&&this.Bf.stop(),this.Yf&&this.Yf.stop(),this.Af&&this.Af.stop(),this.Xf&&this.Xf.stop(),this.H&&$s(this,a),a){if(this.dispatchEvent("beforeshow")){try{this.Wh=Re(this.l()).activeElement}catch(b){}this.Hn();this.Be();this.w().e(Te(this.l()),"resize",this.Hn);at(this,!0);this.focus();this.P=!0;this.Bf&&this.Yf?(Lg(this.Bf,"end",this.tk,!1,this),this.Yf.play(),this.Bf.play()):this.tk()}}else if(this.dispatchEvent("beforehide")){this.w().nb(Te(this.l()),"resize",
this.Hn);this.P=!1;this.Af&&this.Xf?(Lg(this.Af,"end",this.sk,!1,this),this.Xf.play(),this.Af.play()):this.sk();try{var c=Re(this.l()).body,d=Re(this.l()).activeElement||c;this.Wh&&(d==c&&this.Wh!=c)&&this.Wh.focus()}catch(f){}this.Wh=null}};function $s(a,b){for(var c=Re(a.l()).body.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var d=c;b?Ip(d,"hidden",b):d.removeAttribute("aria-hidden")}c=a.v;(d=!b)?Ip(c,"hidden",d):c.removeAttribute("aria-hidden")}
function bt(a,b,c,d,f){a.Bf=b;a.Af=c;a.Yf=d;a.Xf=f}function at(a,b){a.Bb&&Z(a.Bb,b);a.Yb&&Z(a.Yb,b);Z(a.d(),b);Z(a.Ac,b)}n.tk=function(){this.dispatchEvent("show")};n.sk=function(){at(this,!1);this.dispatchEvent("hide")};n.focus=function(){this.pp()};
n.Hn=function(){this.Bb&&Z(this.Bb,!1);this.Yb&&Z(this.Yb,!1);var a=Re(this.l()),b=ue(we(a)||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.Bb&&(Z(this.Bb,!0),eq(this.Bb,c,a));this.Yb&&(Z(this.Yb,!0),eq(this.Yb,c,a))};
n.Be=function(){var a=Re(this.l()),b=we(a)||window;if("fixed"==Xp(this.d()))var c=a=0;else c=Ue(this.l()),a=c.x,c=c.y;var d=hq(this.d()),b=ue(b),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);Yp(this.d(),a,c);Yp(this.Ac,a,c)};n.jn=function(a){this.vl?this.gr():a.target==this.Ac&&G(this.pp,0,this)};n.pp=function(){try{A&&Re(this.l()).body.focus(),this.d().focus()}catch(a){}};
n.h=function(){jg(this.Bf);this.Bf=null;jg(this.Af);this.Af=null;jg(this.Yf);this.Yf=null;jg(this.Xf);this.Xf=null;Xs.c.h.call(this)};function ct(a,b,c){Xs.call(this,b,c);this.Db=a||"modal-dialog";this.Ra=dt(dt(new et,ft,!0),gt,!1,!0)}y(ct,Xs);n=ct.prototype;n.Rs=!0;n.zm=!0;n.oq=!0;n.Os=!0;n.$i=0.5;n.Oi="";n.ha="";n.ce=null;n.Ns=!1;n.zb=null;n.yd=null;n.Xk=null;n.ae=null;n.nc=null;n.Qa=null;n.Cf="dialog";n.I=e("Db");n.Oa=function(a){this.Oi=a;this.yd&&He(this.yd,a)};n.ng=e("Oi");n.Nb=function(a){this.ha=a;this.nc&&(this.nc.innerHTML=a)};n.yr=ca("Cf");n.qa=function(){this.d()||this.Mb();return this.nc};
n.df=function(){this.d()||this.Mb();return ct.c.df.call(this)};function ht(a,b){a.$i=b;if(a.d()){var c=a.df();c&&lq(c,a.$i)}}n.Vo=function(){return new Ns(this.d(),this.zb)};function it(a,b){a.d()&&ke(a.zb,a.Db+"-title-draggable",b);b&&!a.ce?(a.ce=a.Vo(),ge(a.zb,a.Db+"-title-draggable"),Gg(a.ce,"start",a.ix,!1,a)):!b&&a.ce&&(a.ce.A(),a.ce=null)}
n.t=function(){ct.c.t.call(this);var a=this.d(),b=this.l();this.zb=b.t("div",{className:this.Db+"-title",id:this.g()},this.yd=b.t("span",this.Db+"-title-text",this.Oi),this.ae=b.t("span",this.Db+"-title-close"));Be(a,this.zb,this.nc=b.t("div",this.Db+"-content"),this.Qa=b.t("div",this.Db+"-buttons"));this.Xk=this.zb.id;Hp(a,this.Cf);Ip(a,"labelledby",this.Xk||"");this.ha&&(this.nc.innerHTML=this.ha);Z(this.ae,this.zm);this.Ra&&jt(this.Ra,this.Qa);Z(this.Qa,!!this.Ra);ht(this,this.$i)};
n.X=function(a){ct.c.X.call(this,a);a=this.d();var b=this.Db+"-content";(this.nc=re(document,null,b,a)[0])?this.ha=this.nc.innerHTML:(this.nc=this.l().t("div",b),this.ha&&(this.nc.innerHTML=this.ha),a.appendChild(this.nc));var b=this.Db+"-title",c=this.Db+"-title-text",d=this.Db+"-title-close";(this.zb=re(document,null,b,a)[0])?(this.yd=re(document,null,c,this.zb)[0],this.ae=re(document,null,d,this.zb)[0],this.zb.id||(this.zb.id=this.g())):(this.zb=this.l().t("div",{className:b,id:this.g()}),a.insertBefore(this.zb,
this.nc));this.Xk=this.zb.id;this.yd?this.Oi=Oe(this.yd):(this.yd=this.l().t("span",c,this.Oi),this.zb.appendChild(this.yd));Ip(a,"labelledby",this.Xk||"");this.ae||(this.ae=this.l().t("span",d),this.zb.appendChild(this.ae));Z(this.ae,this.zm);b=this.Db+"-buttons";(this.Qa=re(document,null,b,a)[0])?(this.Ra=new et(this.l()),this.Ra.ia(this.Qa)):(this.Qa=this.l().t("div",b),a.appendChild(this.Qa),this.Ra&&jt(this.Ra,this.Qa),Z(this.Qa,!!this.Ra));ht(this,this.$i)};
n.o=function(){ct.c.o.call(this);this.w().e(this.d(),"keydown",this.Aq).e(this.d(),"keypress",this.Aq);this.w().e(this.Qa,"click",this.Mu);it(this,this.Os);this.w().e(this.ae,"click",this.vw);var a=this.d();Hp(a,this.Cf);""!==this.yd.id&&Ip(a,"labelledby",this.yd.id);if(!this.oq&&(this.oq=!1,this.H)){var a=this.l(),b=this.df();a.removeNode(this.Bb);a.removeNode(b)}};n.fa=function(){this.P&&this.ea(!1);it(this,!1);ct.c.fa.call(this)};
n.ea=function(a){a!=this.P&&(this.H||this.Mb(),ct.c.ea.call(this,a))};n.tk=function(){ct.c.tk.call(this);this.dispatchEvent(kt)};n.sk=function(){ct.c.sk.call(this);this.dispatchEvent(lt);this.Ns&&this.A()};
n.focus=function(){ct.c.focus.call(this);if(this.Ra){var a=this.Ra.mj;if(a)for(var b=Re(this.l()),c=this.Qa.getElementsByTagName("button"),d=0,f;f=c[d];d++)if(f.name==a&&!f.disabled){try{if(C||Db){var g=b.createElement("input");g.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.d().appendChild(g);g.focus();this.d().removeChild(g)}f.focus()}catch(h){}break}}};
n.ix=function(){var a=Re(this.l()),b=ue(we(a)||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=hq(this.d());"fixed"==Xp(this.d())?(b=new Pp(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height)),this.ce.dk=b||new Pp(NaN,NaN,NaN,NaN)):this.ce.dk=new Pp(0,0,c-d.width,a-d.height)||new Pp(NaN,NaN,NaN,NaN)};n.vw=function(){if(this.zm){var a=this.Ra,b=a&&a.Al;b?(a=a.get(b),this.dispatchEvent(new mt(b,a))&&this.ea(!1)):this.ea(!1)}};
n.h=function(){this.Qa=this.ae=null;ct.c.h.call(this)};n.Mu=function(a){a:{for(a=a.target;null!=a&&a!=this.Qa;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.Ra.get(a);this.dispatchEvent(new mt(a,b))&&this.ea(!1)}};
n.Aq=function(a){var b=!1,c=!1,d=this.Ra,f=a.target;if("keydown"==a.type)if(this.Rs&&27==a.keyCode){var g=d&&d.Al,f="SELECT"==f.tagName&&!f.disabled;g&&!f?(c=!0,b=d.get(g),b=this.dispatchEvent(new mt(g,b))):f||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&f==this.d()){this.vl=!0;try{this.Ac.focus()}catch(h){}G(this.gr,0,this)}}else if(13==a.keyCode){if("BUTTON"==f.tagName&&!f.disabled)g=f.name;else if(d){var k=d.mj,m;if(m=k)a:{m=d.v.getElementsByTagName("BUTTON");for(var p=0,s;s=m[p];p++)if(s.name==k||
s.id==k){m=s;break a}m=null}f=("TEXTAREA"==f.tagName||"SELECT"==f.tagName||"A"==f.tagName)&&!f.disabled;!m||(m.disabled||f)||(g=k)}g&&d&&(c=!0,b=this.dispatchEvent(new mt(g,String(d.get(g)))))}if(b||c)a.stopPropagation(),a.preventDefault();b&&this.ea(!1)};function mt(a,b){this.type=nt;this.key=a;this.caption=b}y(mt,rg);var nt="dialogselect",lt="afterhide",kt="aftershow";function et(a){this.sb=a||oe();yc.call(this)}y(et,yc);n=et.prototype;n.Db="vl-buttonset";n.mj=null;n.v=null;n.Al=null;
n.set=function(a,b,c,d){yc.prototype.set.call(this,a,b);c&&(this.mj=a);d&&(this.Al=a);return this};function dt(a,b,c,d){return a.set(b.key,b.caption,c,d)}function jt(a,b){a.v=b;a.Mb()}n.Mb=function(){if(this.v){this.v.innerHTML="";var a=oe(this.v);sc(this,function(b,c){var d=a.t("button",{name:c},b);c==this.mj&&(d.className=this.Db+"-default");this.v.appendChild(d)},this)}};
n.ia=function(a){if(a&&1==a.nodeType){this.v=a;a=this.v.getElementsByTagName("button");for(var b=0,c,d,f;c=a[b];b++)if(d=c.name||c.id,f=Oe(c)||c.value,d){var g=0==b;this.set(d,f,g,c.name==ot);g&&ge(c,this.Db+"-default")}}};n.d=e("v");n.l=e("sb");var ot="cancel",pt=ua("OK"),qt=ua("Cancel"),rt=ua("Yes"),st=ua("No"),tt=ua("Save"),ut=ua("Continue"),ft={key:"ok",caption:pt},gt={key:ot,caption:qt},vt={key:"yes",caption:rt},wt={key:"no",caption:st},xt={key:"save",caption:tt},yt={key:"continue",caption:ut};
"undefined"!=typeof document&&(dt(new et,ft,!0,!0),dt(dt(new et,ft,!0),gt,!1,!0),dt(dt(new et,vt,!0),wt,!1,!0),dt(dt(dt(new et,vt),wt,!0),gt,!1,!0),dt(dt(dt(new et,yt),xt),gt,!0,!0));function zt(a,b){ct.call(this,a||"vl-dialog",!1,b);this.Ze=null;this.ti=this.hk=!1;this.ej=void 0;this.ec=null}y(zt,ct);function At(a,b){a.ta(b,!1);if(a.hk){var c=a.d();b.load().n(function(){return b.Fc?new F("disposed"):Bt(c,!1,"fade",0.25)},a).n(function(){return b.Fc?new F("disposed"):Ct(this,b)},a).n(function(){b.Fc||(Bt(c,!0,"fade",0.25),b.focus())})}else Ct(a,b)}n=zt.prototype;n.lm=function(){for(var a=this.getParent();a&&!(a instanceof $);)a=a.getParent();return a};
n.da=function(){var a=this.lm();return a&&a.da()};function Ct(a,b){a.Ze&&a.removeChild(a.Ze,!0);a.Ze=b;var c=b.ng();c&&a.Oa(c);a.d()&&(b.Mb(a.qa()),a.Be())}
n.show=function(a){function b(a){f.A();g.ec=null;!d.Ic&&d.ca(a)}function c(){f.A();g.ec=null;!d.Ic&&d.pa(ed)}a&&a!==this.ej&&(this.ej=a,this.dispatchEvent(a));if(this.ti)return new F(this);this.ti=!0;var d=new F,f=this.ec=new yh(this),g=this;f.e(this,nt,function(a){a.key===ed?c():b(a.key)});this.Rk&&f.e(this,"action",function(a){a=a.key||a.target&&a.target.Y();b(a)});f.e(this,"hide",c);f.e(this,"cmd:nav",function(a){b(a.type)});this.da()&&(a=new lp(Te(this.l())),f.e(a,"resize",this.Be));this.Ra||
(a=new Dt,dt(a,gt,!1,!0),this.Ra=a,this.Qa&&(this.Ra?jt(this.Ra,this.Qa):this.Qa.innerHTML="",Z(this.Qa,!!this.Ra)));this.hk?this.ea(!0):this.load().n(function(){G(function(){this.ea(this.ti)},0,this)},this);return d};n.Oh=function(){this.ti=!1;this.ea(!1)};n.ea=function(a){zt.c.ea.call(this,a);a||(this.ti=!1)};n.h=function(){zt.c.h.call(this);this.ec&&(this.ec.A(),this.ec=null)};n.load=function(){var a=null;this.hk||(this.hk=!0,a=this.U());return a||new F(this)};n.U=function(){return Et(this)};
n.t=function(){zt.c.t.call(this);this.Ze&&this.Ze.Mb(this.qa());if(this.Ra&&this.Rk){var a=this.l();sc(this.Ra,function(b,c){var g=new xr(b,new Ft,a);g.na(c);this.ta(g,!1);g.Mb(this.Qa)},this)}else Z(this.Qa,!1);var b=this.df(),c=this.d();bt(this,Gt(c,0.25),Ht(c,0.25),Gt(b,0.25),Ht(b,0.25))};
n.Be=function(){var a=Re(this.l()),b=we(a)||window,a=this.d();if("fixed"==Xp(a))var c=0,d=0;else d=Ue(this.l()),c=d.x,d=d.y;var f=iq(a),b=new me(b.innerWidth,b.innerHeight);600>b.width||600>b.height?(f.width=b.width,f.height=b.height,oq(a,f)):a.style.width=a.style.height="";c=Math.max(c+b.width/2-f.width/2,0);d=Math.max(d+b.height/2-f.height/2,0);d=Math.min(d,b.height/5);Yp(a,c,d);Yp(this.Ac,c,d)};n.focus=function(){zt.c.focus.call(this);this.Ze&&this.Ze.focus()};function Dt(a){et.call(this,a)}
y(Dt,et);Dt.prototype.Mb=fa;function Ft(){}y(Ft,hr);ga(Ft);n=Ft.prototype;n.qa=aa();n.t=function(a){var b={"class":"vl-inline-block "+this.fe(a).join(" "),title:a.og()||""};return a.l().t("div",b,a.ha)};n.Cb=function(a){return"DIV"==a.tagName};n.ia=function(a,b){ge(b,"vl-inline-block",this.I());return Ft.c.ia.call(this,a,b)};n.I=l("vl-css3-button");ir("vl-css3-button",function(){return new xr(null,Ft.Ga())});ir("vl-css3-toggle-button",function(){var a=new xr(null,Ft.Ga());sr(a,16,!0);return a});function It(a,b,c){xr.call(this,a,b||Yr.Ga(),c)}y(It,xr);ir("vl-custom-button",function(){return new It(null)});function Jt(){M.call(this);this.kc=Kt;this.Qs=this.startTime=null}y(Jt,M);var Kt=0;var Lt;function Mt(a,b){ia(b)||(b=[b]);var c=bb(b,function(a){return u(a)?a:a.Vq+" "+a.duration+"s "+a.timing+" "+a.cp+"s"});Nt(a,c.join(","))}function Nt(a,b){Rp(a,"transition",b)};function Ot(a,b,c,d,f){Jt.call(this);this.v=a;this.Ps=b;this.Wt=c;this.kp=d;this.yx=ia(f)?f:[f]}y(Ot,Jt);n=Ot.prototype;
n.play=function(){if(1==this.kc)return!1;this.dispatchEvent("begin");this.dispatchEvent("play");this.startTime=ta();this.kc=1;if(!t(Lt))if(A)Lt=E("10.0");else{var a=document.createElement("div"),b=C?"-webkit":B?"-moz":A?"-ms":Db?"-o":null;a.innerHTML='\x3cdiv style\x3d"'+(b?b+"-transition:opacity 1s linear;":"")+'transition:opacity 1s linear;"\x3e';Lt=""!=Up(a.firstChild,"transition")}if(Lt)return Rp(this.v,this.Wt),this.Me=G(this.Sw,void 0,this),!0;this.co(!1);return!1};
n.Sw=function(){Mt(this.v,this.yx);Rp(this.v,this.kp);this.Me=G(v(this.co,this,!1),1E3*this.Ps)};n.stop=function(){1==this.kc&&this.co(!0)};n.co=function(a){Nt(this.v,"");Zg(this.Me);Rp(this.v,this.kp);this.Qs=ta();this.kc=Kt;a?this.dispatchEvent("stop"):this.dispatchEvent("finish");this.dispatchEvent("end")};n.h=function(){this.stop();Ot.c.h.call(this)};function Pt(a,b,c,d,f){return new Ot(a,b,{opacity:d},{opacity:f},{Vq:"opacity",duration:b,timing:c,cp:0})}function Gt(a,b){return Pt(a,b,"ease-out",0,1)}function Ht(a,b){return Pt(a,b,"ease-in",1,0)};var Qt=!1;function Rt(a){a=a.match(/[\d]+/g);a.length=3;a.join(".")}
if(navigator.plugins&&navigator.plugins.length){var St=navigator.plugins["Shockwave Flash"];St&&(Qt=!0,St.description&&Rt(St.description));navigator.plugins["Shockwave Flash 2.0"]&&(Qt=!0)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Tt=navigator.mimeTypes["application/x-shockwave-flash"];(Qt=Tt&&Tt.enabledPlugin)&&Rt(Tt.enabledPlugin.description)}else try{var Ut=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Qt=!0;Rt(Ut.GetVariable("$version"))}catch(Vt){try{Ut=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
Qt=!0}catch(Wt){try{Ut=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Qt=!0,Rt(Ut.GetVariable("$version"))}catch(Xt){}}};function Yt(a,b,c){a=a.firstChild;for(var d=c||q;a;){if(ma(a)&&1==a.nodeType){var f=a;b.call(d,f)||Yt(f,b,c)}a=a.nextSibling}}function Zt(a,b){return a.querySelectorAll&&a.querySelector?a.querySelector("#"+b):Ie(a,function(a){return ma(a)&&1==a.nodeType&&a.id===b})}function $t(a,b){return eb(a.anchors,function(a){return a.name===b})}function au(a){return"none"!==Up(a,"display")&&"hidden"!==Up(a,"visibility")}function bu(a,b){var c=a.getAttribute(b);Aa(Ua(c))&&(c=null);return c}
function cu(a,b){return"perspective(400) translateZ(-"+b+"px) rotateY("+a+"rad)"}function Oi(a){Rp(a,A?"-ms-transform":C?"-webkit-transform":Db?"-o-transform":B?"-moz-transform":"transform","scaleX(-1)")}function du(a,b){Rp(a,A?"transition":C?"-webkit-transition":"transition",b)}
function Bt(a,b,c,d){var f,g=new F;if(au(a)!==b){d=t(d)?d:0.25;switch(c){case "fade":b?(Rp(a,"opacity",0),Z(a,!0),f=Gt(a,d)):f=Ht(a,d);break;case "slide":f=b?eu(a,d,"ease-out",!0):eu(a,d,"ease-in",!1)}b&&f||g.Uf(function(){Z(a,b);Rp(a,"visibility","")})}f?(Lg(f,"end",function(){g.ca(a)}),G(f.play,10,f)):g.ca(a);return g}
function eu(a,b,c,d){d&&Rp(a,{display:"",height:"0"});Rp(a,{overflow:"hidden",position:"relative"});var f="",g;g=a||document;g.querySelectorAll&&g.querySelector?g=g.querySelector(".vl-content"):(g=a||document,g=(g.querySelectorAll&&g.querySelector?g.querySelectorAll(".vl-content"):g.getElementsByClassName?g.getElementsByClassName("vl-content"):re(document,"*","vl-content",a))[0]);if(g=g||null)f=g.offsetHeight;var h;d?(g=0,h=1,d=0):(g=1,h=0,d=f,f=0);return new Ot(a,b,{height:d+"px",opacity:g},{height:f+
"px",opacity:h},{Vq:"all",duration:b,timing:c,cp:0})}function fu(a){var b=a.getAttribute("vl-fx");if(Aa(Ua(b))){if("absolute"===Vp(a,"position"))return"fade";if("DIV"===a.tagName)return"slide"}else return b;return"none"};function $(a){xq.call(this,a);this.J=this.Vb=null;this.k={};this.hi=null;this.C=new H;this.ib("vl-"+na(this))}y($,xq);n=$.prototype;n.Ja=null;n.F=td("vline.ui");n.Ig=null;n.bn=!1;n.Rm=null;n.Vg=null;n.h=function(){this.k=this.Ab=null;this.C.ga();this.C=null;this.Vg&&(this.Vg.A(),this.Vg=null);this.Ig&&(z(this.Ig,function(a){a.ga()}),this.Ig=null);$.c.h.call(this)};n.ib=function(a){this.k.id=a;$.c.ib.call(this,a)};n.da=e("J");n.getData=e("k");n.N=e("C");n.ng=function(){return this.k.title};
n.Oa=function(a){this.k.title=a};function gu(a){var b;b=a.C.get("r");b=null!=b&&b instanceof H?b:null;if(!b){var c=b=new H;a.C.set("r",c);a.k.Kg=c&&c.g();b.ga()}return b}n.K=function(){return this.J.K()};n.tb=function(){return this.J.tb()};n.cc=function(){return this.J.cc()};n.m=function(){return this.tb().m()};n.Ff=function(a){$.c.Ff.call(this,a);(a=this.lm())&&hu(this,a)};function hu(a,b){a.J=b.da();a.k=Cd(b.getData(),a.k);Sh(a.C,b.N())}n.ue=function(a){return this.g()+"-"+a};
n.lm=function(){for(var a=this.getParent();a&&!(a instanceof $);)a=a.getParent();return a};n.oe=function(){return!(!this.Vb||!this.Vb.Ic)};n.load=function(a,b){function c(){this.H?this.show():f&&(b?this.ia(f):(this.v=f,this.o()))}if(this.Vb)return new F(this);var d,f;a&&(this.v=f=u(a)?document.getElementById(a):a);(d=this.U())?(this.Vb=d,d.n(c,this),a&&!this.getParent()?d.Ib(c,this):d.Ib(function(a){this.Vb.pa(a);this.Vb=null},this)):(this.Vb=new F(this),c.call(this));return this.Vb};n.U=function(){return Et(this)};
function Et(a){var b=[];a.bc(function(a){a instanceof $?b.push(a.load()):Et(a)});return 0<b.length?rh.apply(null,b):new F(a)}function iu(a,b){a.ta(b);return b.getData()}function ju(a,b){var c=a.ue("form");b.ib(c);a.ta(b,!1)}n.Cd=function(a,b,c){$.c.Cd.call(this,a,b,c);a instanceof $||ku(this,a)};function ku(a,b){b.bc(function(b){b instanceof $?hu(b,a):ku(a,b)})}n.navigate=function(a,b){this.dispatchEvent(new Js(a,b))};
function lu(a,b,c){u(c)&&(c=a.zj(c));mu(a,b,null,c);nu(a,b,function(a){return mu(this,b,a.oldVal,c)},a)}function mu(a,b,c,d){b=b.split(".");for(var f=a.C.oa,g=0;g<b.length&&(f=f[b[g]],null!=f);g++);b=f||"";if("INPUT"===d.tagName)d.setAttribute("value",b);else{f=!Aa(b);g=d;1===d.parentNode.childNodes.length&&(g=d.parentNode);var h=!Aa(Oe(d));if(f||null!=c||!h)if(au(g)===f)He(d,b);else{var k;a.H&&(k=fu(g));f&&He(d,b);Bt(g,f,k)}}}
function nu(a,b,c,d){a.Vg||(a.Vg=new yh);a.Vg.e(a.N(),"change:"+b,c,!1,d||a)}n.show=function(a,b,c){var d=this.d();return d?Bt(d,a,b,c):th()};n.t=function(){this.X(ou(this))};n.ia=function(a){pu(this,a)};function pu(a,b){if(a.H)throw Error("Component already rendered");if(b&&a.Cb(b)){a.wo=!0;a.sb&&a.sb.ba==qe(b)||(a.sb=oe(b));a.X(b);var c=a.getParent();c&&!c.H||a.o()}else throw Error("Invalid element to decorate");}n.X=function(a){$.c.X.call(this,a);qu(this,this,a);this.oe()||this.show(!1)};
n.o=function(){$.c.o.call(this);this.bn&&(this.hi=new lp(Te(this.l())),this.w().e(this.hi,"resize",this.gb),this.gb());this.C.za(!0,!1)};n.fa=function(){this.hi&&(this.hi.A(),this.hi=null);$.c.fa.call(this)};function qu(a,b,c){Yt(c,function(c){var f;a:{f=c;if(u(f)&&(f=b.zj(f),!f)){f=null;break a}var g=f.getAttribute("id"),h=Aq(a,g)||kr(f);h?(h.d()||(g&&h.ib(g),h.getParent()!=a&&a.ta(h,!1),h instanceof ru?qu(h,b,f):su(b,f),pu(h,f)),f=h):f=null}g=b;f&&f instanceof $&&(g=f);tu(g,c);return!!f})}
function su(a,b){Yt(b,function(b){tu(a,b)})}function tu(a,b){var c=b.getAttribute("vl-bind");c&&lu(a,c,b)}function ou(a){var b=a.l().createElement("DIV"),c=a.Ja;c&&(c=c(a.k),wa(c,"\x3ctr")&&(b=a.l().createElement("TBODY")),b.innerHTML=c,1===b.childNodes.length&&(b=b.firstChild));b.id=a.g();return b}n.focus=function(){return zi()?!1:uu(this)};function uu(a){var b=null;a.Ta&&(b=eb(a.Ta,function(a){return a instanceof $?a.focus():uu(a)}));return!!b}
n.zj=function(a){var b;a=this.ue(a);return this.H?this.l().d(a):(b=this.d())?Zt(b,a):null};n.getElementById=function(a){return Ie(this.d(),function(b){return b.id===a})};n.gb=function(){var a;a=this.d();a=new me(a.offsetWidth,a.offsetHeight);this.Rm&&ne(this.Rm,a)||(this.Rm=a,this.ir(a))};n.ir=ba();function vu(a,b){a.Ig||(a.Ig=[]);a.Ig.push(b)};function wu(a){$.call(this,a);this.Wm=null;this.wc="";this.In={}}y(wu,$);wu.prototype.mr=!1;wu.prototype.Ie=function(a,b,c){this.Wm=a;this.In=b;this.C.set(b);return this.load(c,!0)};wu.prototype.o=function(){wu.c.o.call(this);zi()||this.focus()};function xu(a){var b=a.In.appId;if(b)return a.k.Aa=b,a.k.path=a.In.path,b="/app/"+b,a.m().get(b).n(function(a){this.k.appName=P(a,"displayName");a.ga();return null},a);a.k.appName="Create New App";return new F("done")};function yu(a){wu.call(this,a);this.md=this.fd=this.ab=null;this.yi=[];this.Ks=[];this.Gl=null;this.rb=new wn("/");this.Zq=this.Yq=this.ri=null;this.oy="vl-"}y(yu,wu);n=yu.prototype;n.mr=!0;n.ng=function(){return this.ab&&this.ab.ng()||yu.c.ng.call(this)};n.Ie=function(a,b,c){return yu.c.Ie.call(this,a,b,c).n(function(){return this.Qi(this.Wm)},this)};n.X=function(a){yu.c.X.call(this,a);this.ab&&!this.ab.H&&zu(this)};
n.Qi=function(a,b){this.Wm=a;if(A&&!yi(10)){var c=window.location.hash||"";if("/developer/app/"===Kn(window.location.href).j()||wa(c,"#_vline_"))return this.dispatchEvent(new N("cmd:unsupportedbrowser")),new F("NONE")}if(!(0<this.yi.length))return this.rb=a,new F("NONE");var d=a.j(),d=d.substr(this.wc.length),f,g=this.K().Th()&&!this.K().Tj();if((c=eb(this.yi,function(a){f=a.test(d,g);return!!f}))&&c.py()&&!g)if(Au(this.tb()))c=null;else return th("LOGIN_REQUIRED");if(!c)if(c=eb(this.Ks,function(a){return a.My(g)}))c.Jy()&&
this.cc().Fn(this.wc+c.j());else return window.location=a,new F(this);f=f||{};f.path=a.j();return c?Bu(this,c,a,f||{},b):th("NOT_FOUND")};
function Bu(a,b,c,d,f){if(a.Gl===b&&a.ab&&a.ab.mr&&!f)return a.ab.Ie(c,d).n(function(){this.rb=c;this.Gl=b},a);if(a.fd||a.ri)return a.ri=b,a.Yq=d,a.Zq=c,new F(a);a.ab&&(a.ab.ib("out-"+a.ab.g()),a.md=a.ab,a.ab=null);a.fd=b.$x();a.ta(a.fd,!1);f=null;if(!a.md&&a.d()){var g=a.d();g&&(f=Zt(g,a.fd.g()))}return a.fd.Ie(c,d,f).n(function(){this.rb=c;this.Gl=b;this.fd&&(this.ab=this.fd,this.fd=null,this.d()&&zu(this))},a).Ib(function(a){var b=this.fd;b&&(this.removeChild(b,!1),b.A());this.fd=null;if(this.ab=
this.md)this.ab.ib(this.ab.g().substr(4)),this.md=null;if("NOT_FOUND"===a.type)return this.Ie("",{})},a).Ue(function(){G(function(){if(this.ri){var a=this.ri;this.ri=null;Bu(this,a,this.Zq,this.Yq)}},0,this)},a)}function zu(a){a.md&&a.removeChild(a.md,!1);if(!a.ab.d()){a.ab.t();var b=a.d(),c=b.firstChild,d=a.ab.d();c?(b.replaceChild(d,c),C&&G(function(){Rp(d,"border-color","transparent")})):b.appendChild(d)}a.md&&(a.md.A(),a.md=null);a.H&&a.ab.o()}
n.qr=function(){var a,b=this.l(),c=ve(b.ba),d=0,f=0,g=this.rb.Sb;!Aa(g)&&(a=$t(b.ba,g))&&(a=cq(a),d=a.x,f=a.y);c.scrollTop=f;c.scrollLeft=d};function Cu(a,b){this.ii=b||"";this.Wi=a||""}var Du=/[()<>@,;:\\\".\[\]]/,Eu=/\"/g,Fu=/\\\"/g,Gu=/\\/g,Hu=/\\\\/g;Cu.prototype.getName=e("ii");Cu.prototype.Sn=ca("ii");Cu.prototype.toString=function(){var a=this.getName(),a=a.replace(Eu,"");Du.test(a)&&(a='"'+a.replace(Gu,"\\\\")+'"');return""==a?this.Wi:""==this.Wi?a:a+" \x3c"+this.Wi+"\x3e"};Cu.prototype.Yj=function(){return/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,6}$/.test(this.Wi)};
function Iu(a,b){if('"'!=a.charAt(b))return!1;for(var c=0,d=b-1;0<=d&&"\\"==a.charAt(d);d--)c++;return 0!=c%2};function Ju(a){M.call(this);this.pe=[];Ku(this,a)}y(Ju,M);n=Ju.prototype;n.vd=null;n.rr=null;n.bm=function(){return this.pe.length};n.Ah=function(a){return this.pe[a]||null};function Ku(a,b){b&&(z(b,function(a){Lu(this,a,!1)},a),ob(a.pe,b))}n.Se=function(a){this.Vf(a,this.bm())};n.Vf=function(a,b){a&&(Lu(this,a,!1),pb(this.pe,b,0,a))};n.removeItem=function(a){a&&kb(this.pe,a)&&a==this.vd&&(this.vd=null,this.dispatchEvent("select"))};n.Hh=e("vd");
n.Hf=function(a){a!=this.vd&&(Lu(this,this.vd,!1),this.vd=a,Lu(this,a,!0));this.dispatchEvent("select")};n.gm=function(){return this.vd?$a(this.pe,this.vd):-1};n.Ar=function(a){this.Hf(this.Ah(a))};n.clear=function(){hb(this.pe);this.vd=null};n.h=function(){Ju.c.h.call(this);delete this.pe;this.vd=null};function Lu(a,b,c){b&&("function"==typeof a.rr?a.rr(b,c):"function"==typeof b.Wn&&b.Wn(c))};function Mu(a,b,c,d){as.call(this,a,b,c,d);this.nj=a;Nu(this)}y(Mu,as);n=Mu.prototype;n.ma=null;n.nj=null;n.o=function(){Mu.c.o.call(this);Nu(this);Ou(this)};n.X=function(a){Mu.c.X.call(this,a);(a=this.ig())?(this.nj=a,Nu(this)):this.Ar(0)};n.h=function(){Mu.c.h.call(this);this.ma&&(this.ma.A(),this.ma=null);this.nj=null};n.rm=function(a){this.Hf(a.target);Mu.c.rm.call(this,a);a.stopPropagation();this.dispatchEvent("action")};n.Ht=function(){var a=this.Hh();Mu.c.na.call(this,a&&a.Y());Nu(this)};
n.Ci=function(a){var b=Mu.c.Ci.call(this,a);a!=b&&(this.ma&&this.ma.clear(),a&&(this.ma?a.bc(function(a){Pu(a);this.ma.Se(a)},this):Qu(this,a)));return b};n.Se=function(a){Pu(a);Mu.c.Se.call(this,a);this.ma?this.ma.Se(a):Qu(this,cs(this))};n.Vf=function(a,b){Pu(a);Mu.c.Vf.call(this,a,b);this.ma?this.ma.Vf(a,b):Qu(this,cs(this))};n.removeItem=function(a){Mu.c.removeItem.call(this,a);this.ma&&this.ma.removeItem(a)};n.Hf=function(a){if(this.ma){var b=this.Hh();this.ma.Hf(a);a!=b&&this.dispatchEvent("change")}};
n.Ar=function(a){this.ma&&this.Hf(this.ma.Ah(a))};n.na=function(a){if(null!=a&&this.ma)for(var b=0,c;c=this.ma.Ah(b);b++)if(c&&"function"==typeof c.Y&&c.Y()==a){this.Hf(c);return}this.Hf(null)};n.Hh=function(){return this.ma?this.ma.Hh():null};n.gm=function(){return this.ma?this.ma.gm():-1};function Qu(a,b){a.ma=new Ju;b&&b.bc(function(a){Pu(a);this.ma.Se(a)},a);Ou(a)}function Ou(a){a.ma&&a.w().e(a.ma,"select",a.Ht)}function Nu(a){var b=a.Hh();a.Nb(b?b.ig():a.nj)}
function Pu(a){a.yr(a instanceof Tr?"option":"separator")}n.Na=function(a,b){Mu.c.Na.call(this,a,b);fr(this,64)&&cs(this).He(this.gm())};ir("vl-select",function(){return new Mu(null)});function ru(a,b){mr.call(this,a||"",null,b);this.J=null}y(ru,mr);ru.prototype.m=function(){return this.K().ef()};ru.prototype.K=function(){return this.J.K()};ru.prototype.da=e("J");ru.prototype.o=function(){nr(this,!1);ru.c.o.call(this);var a=this.Ua();if(a){var b=this.Bh();Pq(b,a);this.w().e(b,"key",this.Lc)}};function Ru(a){return"\x3cdiv"+(a.id?' id\x3d"'+a.id+'"':"")+'class\x3d"vl-css3-button'+(a.className?" "+a.className:"")+'"'+(a.Fd?'vl-event\x3d"cmd:'+a.Fd+'"':"")+"\x3e"+a.label+"\x3c/div\x3e"}function Su(a){return"\x3cdiv value\x3d"+a.label+(a.id?' id\x3d"'+a.id+'"':"")+'class\x3d"vl-css3-button vl-css3-button-green-flat '+(a.className?" "+a.className:"")+'"'+(a.Fd?'vl-event\x3d"cmd:'+a.Fd+'"':"")+"\x3e"+a.label+"\x3c/div\x3e"}
function Tu(a){return'\x3cdiv id\x3d"'+a.id+'-err" class\x3d"'+a.className+'"'+(a.Xl?'vl-fx\x3d"'+a.Xl+'"':"")+'\x3e\x3cdiv class\x3d"vl-content vl-err-text" vl-bind\x3d"'+a.bind+'"\x3e\x3c/div\x3e\x3c/div\x3e'}
function Uu(a){var b='\x3cdiv id\x3d"'+a.id+'" class\x3d"vl-form-wrap vl-'+a.La+'-form-wrap"\x3e'+(a.ct?'\x3cform id\x3d"'+a.id+'-form" class\x3d"'+a.ct+" vl-"+a.La+'-form" vl-event\x3d"cmd:submit"\x3e':'\x3cform id\x3d"'+a.id+'-form" class\x3d"vl-form vl-'+a.La+'-form" vl-event\x3d"cmd:submit"\x3e');if(a.heading||a.Gk){b+='\x3ch2 id\x3d"'+a.id+'-heading" class\x3d"vl-form-heading vl-'+a.La+'-form-heading"\x3e';if(a.heading)b+=a.heading;else if(a.Gk)switch(a.mode){case "edit":b+="Edit "+a.Gk;break;
case "new":b+="Create "+a.Gk}b+="\x3c/h2\x3e"}var c="vl-form-field-label vl-"+a.La+"-form-field-label",b=b+"",d;a.Pg?d="":(d=Ve(a,{className:"vl-form-info",bind:"formInfo"}),d='\x3ccaption class\x3d"vl-form-caption"\x3e'+('\x3cdiv id\x3d"'+d.id+'-info" class\x3d"'+d.className+'"'+(d.Xl?'vl-fx\x3d"'+d.Xl+'"':"")+'\x3e\x3cdiv class\x3d"vl-content vl-info-text" vl-bind\x3d"'+d.bind+'"\x3e\x3c/div\x3e\x3c/div\x3e')+Tu(Ve(a,{className:"vl-form-err vl-"+a.La+"-form-err",bind:"formErr"}))+"\x3c/caption\x3e");
b+='\x3ctable class\x3d"vl-form-controls"\x3e'+d+'\x3ctbody class\x3d"vl-form-fields vl-'+a.La+'-form-fields"\x3e';if(a.Pg)b+="\x3ctr\x3e"+Vu(Ve(a.Rl[0],{Jb:a.Jb,aq:c,Pg:!0,lc:a.lc}))+"\x3c/tr\x3e";else{d=a.Rl;for(var f=d.length,g=0;g<f;g++)b+=Vu(Ve(d[g],{Jb:a.Jb,aq:c,Pm:g==f-1}))}if(!1==a.buttons||a.Pg)a="";else{c='\x3ctd colspan\x3d"'+(a.Jb?1:2)+'" class\x3d"vl-form-buttons vl-'+a.La+'-form-buttons"\x3e'+(a.sh?'\x3cp class\x3d"vl-form-footer vl-'+a.La+'-form-footer"\x3e'+a.sh+"\x3c/p\x3e":"")+(a.sj?
a.sj:"");if("view"==a.mode)c+=Ru({id:a.id+"-edit",className:"vl-form-edit-button vl-"+a.La+"-form-edit-button",Fd:a.$b?a.$b:"edit",label:"Edit"});else{c+="edit"==a.mode?Ru({id:a.id+"-cancel",className:"vl-form-cancel-button vl-"+a.La+"-form-cancel-button",Fd:a.$b?a.$b:"cancel",label:"Cancel"}):"";d="";if(a.lc)d+=a.lc;else switch(a.mode){case "edit":d+="Save";break;case "new":d+="Create"}c+=Ru({id:a.id+"-submit",className:"vl-css3-button-primary vl-form-submit-button vl-"+a.La+"-form-submit-button",
Fd:a.$b?a.$b:"submit",label:d})}a="\x3ctfoot\x3e\x3ctr\x3e"+(c+"\x3c/td\x3e")+"\x3c/tr\x3e\x3c/tfoot\x3e"}return b+="\x3c/tbody\x3e"+a+"\x3c/table\x3e\x3c/form\x3e\x3c/div\x3e"}
function Vu(a){var b='\x3ctr id\x3d"'+a.id+'" class\x3d"vl-form-field vl-'+a.La+'-form-field"\x3e'+(a.Jb?"":'\x3ctd class\x3d"'+a.aq+'"\x3e'+a.label+'\x3cspan style\x3d"font-weight:normal;"\x3e:\x3c/span\x3e\x3c/td\x3e'),c='\x3ctd id\x3d"'+a.id+'-val" class\x3d"vl-form-field-val '+(a.Pg?"vl-single-form-field-val":"")+" vl-"+a.La+'-form-field-val"\x3e';if("view"==a.mode)c+="url"==a.type?'\x3ca href\x3d"#_link_" vl-bind\x3d"r.'+a.key+'"\x3e\x3c/a\x3e':'\x3cspan vl-bind\x3d"r.'+a.key+'"\x3e\x3c/span\x3e';
else if("edit"!=a.mode||a.oh){c+='\x3cdiv id\x3d"'+a.id+'-input-wrap" class\x3d"vl-input-wrap vl-'+a.La+"-form-input-wrap"+(a.Pm?"":" vl-input-wrap-internal")+'"\x3e';if("select"==a.type){c+=(a.Jb?'\x3cspan class\x3d"vl-select-label"\x3e'+a.label+":\x3c/span\x3e":"")+'\x3cdiv id\x3d"'+a.id+'-select" class\x3d"vl-select"\x3e\x3cul class\x3d"vl-menu"\x3e';a=a.ku;for(var d=a.length,f=0;f<d;f++)var g=a[f],c=c+("\x3cli class\x3d'vl-menuitem' value\x3d\""+g.id+'"\x3e'+g.name+"\x3c/li\x3e");c+="\x3c/ul\x3e\x3c/div\x3e"}else{if(a.Pg)if(d=
(a.sh?'\x3cp class\x3d"vl-form-footer vl-'+a.La+'-form-footer"\x3e'+a.sh+"\x3c/p\x3e":"")+(a.sj?a.sj:""),"view"==a.mode)d+=Su({id:a.id+"-edit",className:"vl-form-edit-button vl-"+a.La+"-form-edit-button",Fd:a.$b?a.$b:"edit",label:"Edit"});else{d+="edit"==a.mode?Su({id:a.id+"-cancel",className:"vl-form-cancel-button vl-"+a.La+"-form-cancel-button",Fd:a.$b?a.$b:"cancel",label:"Cancel"}):"";f="";if(a.lc)f+=a.lc;else switch(a.mode){case "edit":f+="Save";break;case "new":f+="Create"}d+=Su({id:a.id+"-submit",
className:"vl-form-inline-button vl-"+a.La+"-form-submit-button",Fd:a.$b?a.$b:"submit",label:f})}else d="";c+='\x3cinput id\x3d"'+a.id+'-input" type\x3d"'+a.type+'" class\x3d"'+(a.Pg?"vl-single-label-input":"vl-label-input")+" vl-form-input vl-"+a.La+'-form-input" name\x3d"key"'+("edit"==a.mode&&"password"==a.type?'label\x3d"\x26bull;\x26bull;\x26bull;\x26bull;\x26bull;\x26bull;"':a.Jb?'label\x3d"'+a.label+'"':a.Vp?'label\x3d"'+a.Vp+'"':"")+'vl-bind\x3d"r.'+a.key+'"\x3e'+d+Tu(Ve(a,{className:"vl-form-field-err vl-"+
a.La+"-form-field-err",bind:"fieldErr"}))}c+="\x3c/div\x3e"}else c+="url"!=a.type||a.oh?'\x3cdiv class\x3d"'+(a.Pm?"":" vl-input-wrap-internal")+'" vl-bind\x3d"r.'+a.key+'"\x3e\x3c/div\x3e':'\x3cdiv class\x3d"'+(a.Pm?"":" vl-input-wrap-internal")+'"\x3e\x3ca href\x3d"#_link_" vl-bind\x3d"r.'+a.key+'"\x3e\x3c/a\x3e\x3c/div\x3e';return b+(c+"\x3c/td\x3e")+"\x3c/tr\x3e"};function Wu(a,b,c){b=a="";for(var d=0;d<c.length;){var f;f=c.charAt(d);var g='"\x3c(['.indexOf(f);if(-1!=g&&!Iu(c,d)){for(var g='"\x3e)]'.charAt(g),h=c.indexOf(g,d+1);0<=h&&Iu(c,h);)h=c.indexOf(g,h+1);f=0<=h?c.substring(d,h+1):f}"\x3c"==f.charAt(0)&&-1!=f.indexOf("\x3e")?b=f.substring(1,f.indexOf("\x3e")):""==b&&(a+=f);d+=f.length}""==b&&-1!=a.indexOf("@")&&(b=a,a="");a=za(a);a=Qa(a,"'");a=Qa(a,'"');a=a.replace(Fu,'"');a=a.replace(Hu,"\\");b=za(b);if(!(new Cu(b,a)).Yj())return"INVALID_EMAIL"}
function Xu(a,b,c){if(6>c.length)return"INVALID_PASSWORD"}function Yu(){}function Zu(a,b,c){a=$u(this.qp,"password");if(null!=a&&c!==a.Y())return"PASSWORDS_DONT_MATCH"}function av(a,b,c){if(Ga(c)!==c)return"INVALID_FIELD"}function bv(a,b,c){a=new wn(c);b=a.toString();if(!a.sd||b!==c)return"INVALID_URL"}function cv(a,b,c,d,f){$.call(this,f);this.qp=a;this.Vc=[];this.k.key=b;this.k.label=c||b;this.k.Vp=void 0;this.k.name=this.k.label;this.k.type=d||"text";this.k.oh=!0;this.k.required=!1}y(cv,$);n=cv.prototype;
n.Ja=Vu;n.getKey=function(){return this.k.key};n.Je=function(a){this.k.type=a;"email"===a?ib(this.Vc,Wu):"password"===a&&ib(this.Vc,Xu)};n.cd=function(){return this.k.label};n.getName=function(){return this.k.name};n.Sn=function(a){this.k.name=a};function dv(a,b){a.N().set("valid",b);a.k.Ky&&a.qj("vl-form-field-valid","vl-form-input-valid",b)}function ev(a,b){a.N().set("invalid",b);a.qj("vl-form-field-invalid","vl-form-input-invalid",b)}n.qj=function(a,b,c){(b=this.d())&&ke(b,a,c)};
function fv(a){return"new"===gv(a.qp)||a.k.oh}n.clear=function(){this.na("");this.Ef();dv(this,!1);ev(this,!1)};n.Ef=function(a){var b=!Aa(Ua(a));a=b&&(a in J?J[a](this.k):a);this.C.set("fieldErr",a);ev(this,b);b&&dv(this,!1)};n.Ku=function(){this.Ug(!0)};n.Lw=function(a){this.na(a.Y())};n.U=function(){dv(this,!1);ev(this,!1);return new F(this)};function hv(a,b,c,d,f){cv.call(this,a,b,c,d,f);this.tc=null;this.k.iq=void 0}y(hv,cv);n=hv.prototype;
n.qj=function(a,b,c){hv.c.qj.call(this,a,b,c);(a=this.tc&&this.tc.d())&&ke(a,b,c)};n.X=function(a){hv.c.X.call(this,a);this.tc=Aq(this,this.ue("input"))};n.o=function(){hv.c.o.call(this);if(this.tc){nu(this,"value",this.Lw);var a=this.tc.d();this.w().e(a,"blur",this.Ku,!1,this)}};n.Y=function(){return this.tc?Ba(this.tc.Y()):""};n.na=function(a){this.tc&&this.tc.na(a)};
n.Ug=function(a){var b=!0,c=!1;if(this.tc){var d,f=this.Y(),g=this.cd();Aa(f)?!a&&this.k.required&&(d="FIELD_REQUIRED",c=b=!1):(a=this.k.iq,null!=a&&f.length>a&&(d="FIELD_MAX_LENGTH_EXCEEDED",b=!1),b&&cb(this.Vc,function(a){(d=a.call(this,this.g(),g,f))&&(b=!1);return!b},this),c=b);this.Ef(d);dv(this,c)}return b};n.focus=function(){if(fv(this)){if(this.tc){var a=this.tc.d();a.focus();a.select()}return!0}return!1};
function iv(a,b,c,d,f,g,h,k){cv.call(this,a,b,g,h,k);this.ud=null;this.Mn=d||null;this.fx=f;this.k.ku=c}y(iv,cv);n=iv.prototype;n.X=function(a){iv.c.X.call(this,a);this.ud=Aq(this,this.ue("select"))};n.o=function(){iv.c.o.call(this);this.ud&&(this.w().e(this.ud,"action",function(a){this.fx(a)}),this.Mn&&this.ud.na(this.Mn))};n.Y=function(){return this.ud?this.ud.Y():""};n.na=function(a){this.ud?this.ud.na(a):this.Mn=a};n.Ug=l(!0);
n.focus=function(){return fv(this)?(this.ud&&this.ud.d().focus(),!0):!1};function jv(a,b){$.call(this,b);this.zx="entity";this.Mi=this.hg=this.ky=null;this.rh=[];this.k.Rl=[];this.k.La=a}y(jv,$);n=jv.prototype;n.Ja=Uu;n.lg=l(null);function gv(a){return a.k.mode||"new"}n.Je=ca("zx");n.Ef=function(a){a=a&&(a in J?J[a](void 0):a);this.C.set("formErr",a)};function kv(a,b){a.C.set("formInfo",b)}
function lv(a,b,c,d,f,g,h){b=new hv(a,b,d,c,a.l());b.k.oh=t(g)?g:!0;f&&(b.k.required=!0);h&&ib(b.Vc,h);a.rh.push(b);a.oe()&&mv(a,b);return b}function mv(a,b){a.hg.ta(b);a.k.Rl.push(b.getData())}function nv(a,b,c,d){b=new iv(a,"dummy",b,c,d,"Thumbnail","select",a.l());b.k.oh=!0;b.k.required=!0;a.rh.push(b);a.oe()&&mv(a,b);return b}function ov(a,b,c,d){a=lv(a,b,"text",c,!0,d,void 0);ib(a.Vc,av)}function pv(a,b,c,d,f){a=lv(a,"password","password",b,c,d,f);null==f&&ib(a.Vc,Xu);return a}
function qv(a,b,c){a=lv(a,b,"password","Confirm Password",c,void 0,void 0);ib(a.Vc,Zu)}function rv(a,b,c,d){a=lv(a,b,"email",c,d,void 0,void 0);ib(a.Vc,Wu);return a}function sv(a,b){var c=lv(a,"thumbnailUrl","url","Thumbnail URL",!0,b,void 0);ib(c.Vc,bv);return c}function $u(a,b){return eb(a.rh,function(a){return a.getKey()===b})}function tv(a,b,c){var d=c||a;z(a.rh,function(a){b.call(d,a)})}n.Y=function(a){if(a=$u(this,a))return a.Y()};n.na=function(a,b){gu(this).set(a,b);var c=$u(this,a);c&&c.na(b)};
n.Xa=function(){var a={};tv(this,function(b){if(fv(b)){var c=b.Y();Aa(Ua(c))&&(c=void 0);a[b.getKey()]=c}},this);return a};n.U=function(){this.hg=new ru("");this.hg.Ge(!0);sr(this.hg,32,!1);ju(this,this.hg);z(this.rh,function(a){mv(this,a)},this);return jv.c.U.call(this)};n.X=function(a){jv.c.X.call(this,a);this.Mi=Aq(this.hg||this,this.ue("submit"))};n.o=function(){jv.c.o.call(this);this.w().e(this,"cmd:edit",this.Zu).e(this,"cmd:submit",this.Kq).e(this,"cmd:cancel",this.Nu);this.Ug(!0)};
n.Zu=function(a){a.stopPropagation();this.navigate(this.cc().Wa()+"/edit")};n.Kq=function(a){a.stopPropagation();this.Ug()&&(this.Mi&&this.Mi.Ea(!1),gu(this).set(this.Xa()),this.xd().Vk(this.Td,this.Sd,this).Ue(this.ew,this))};n.Nu=function(a){a.stopPropagation();a=this.cc().Wa();xa(a,"/edit")&&(a=a.substr(0,a.length-5));this.navigate(a)};n.Td=ba();
n.Sd=function(a){a instanceof L?"NONE"!==a.V()&&this.Ef(a.V()):this.Ef(a.message);tv(this,function(a){dv(a,!1)});this.focus();if(a=a.map){var b=!1;fc(a,function(a,d){var f=$u(this,d);f.Ef(a.V());b||(b=f.focus())},this)}};n.ew=function(){this.Mi&&this.Mi.Ea(!0)};n.xd=function(){var a=this.lg();if(a){var b=gu(this);switch(gv(this)){case "new":return this.m().od(a,b,b.g());case "edit":return this.m().put(b.j(),b)}}return new F({})};n.Ug=function(a){var b=!0;tv(this,function(c){c.Ug(a)||(b=!1)});return b};
n.clear=function(){tv(this,function(a){a.clear()});this.Ef()};n.xr=function(a){this.k.mode=a};function uv(a){return Uu(Ve(a,{lc:"Create",Jb:!0}))}function vv(a){return"view"==a.mode?Uu(Ve(a,{$b:"edituserlaunchpopup"})):"edit"==a.mode?Uu(a):Uu(Ve(a,{lc:"Create",Jb:!0}))};function wv(a){jv.call(this,"signin",a);this.Je("authRequest");this.Oa("Sign in")}y(wv,jv);wv.prototype.Ja=function(a){return a=""+Uu(Ve(a,{lc:"Sign in",Jb:!0,sj:"vline"==a.ss.Aa?'\x3cdiv class\x3d"vl-css3-button vl-signin-signup" vl-cmd\x3d"register"\x3eSign up\x3c/div\x3e':"",sh:'\x3ca class\x3d"vl-signin-forgot" href\x3d"#_vline_forgotpassword"\x3eForgot password?\x3c/a\x3e'}))};wv.prototype.U=function(){rv(this,"email",We(),!0);pv(this,"Password",!0,!0,Yu);return wv.c.U.call(this)};
wv.prototype.xd=function(){return Qm(this.m(),gu(this))};wv.prototype.Td=ba();function xv(a){jv.call(this,"register",a);this.Je("register");this.Oa("Sign Up")}y(xv,jv);xv.prototype.Ja=function(a){return Uu(Ve(a,{lc:"Sign up",Jb:!0,sh:'\x3ca class\x3d"vl-signin-forgot" href\x3d"#_vline_signin"\x3eAlready have an account?\x3c/a\x3e'}))};xv.prototype.U=function(){this.k.Aa=this.K().ka();var a=rv(this,"email","Enter your email address to sign up",!0);a.Sn(We());a.focus();return xv.c.U.call(this)};xv.prototype.xd=function(){return this.m().call("register",gu(this))};
xv.prototype.Td=function(){this.dispatchEvent("cmd:registersuccess");this.clear()};function yv(a){jv.call(this,"forgotpassword",a);this.Oa("Forgot Password")}y(yv,jv);yv.prototype.Ja=function(a){return Uu(Ve(a,{Jb:!0,Gk:"Forgot Password",lc:"Submit"}))};yv.prototype.U=function(){this.k.Aa=this.K().ka();rv(this,"email","Enter your email address to reset password",!0).Sn(We());return yv.c.U.call(this)};yv.prototype.xd=function(){return this.m().call("resetPassword",gu(this))};yv.prototype.Td=function(){this.dispatchEvent("cmd:forgotpasswordsuccess");this.clear()};function zv(a,b){jv.call(this,"accountexists",b);this.Oa("Account Exists");kv(this,"There is already an account associated with "+a+".")}y(zv,jv);zv.prototype.Ja=function(a){return Uu(Ve(a,{lc:"Sign in",$b:"signin",Jb:!0}))};function Av(a,b,c){jv.call(this,b||"account",c);this.k.Aa=a;this.Je("account");this.Uc=null;this.Ee=Bv;this.Ln=null;this.Oa("Create User")}y(Av,jv);Av.prototype.Ja=uv;var Bv="Gravatar",Cv={Kx:Bv,Ix:"Custom Image"};n=Av.prototype;n.X=function(a){Av.c.X.call(this,a);"edit"===gv(this)&&(a=this.Uc.Y(),wa(a,"/web/20131025084704/https://www.gravatar.com/avatar/")||(this.Ee="Custom Image"));Dv(this,this.Ee)};n.U=function(){this.eq();return Av.c.U.call(this)};n.o=function(){Av.c.o.call(this);this.Ln&&this.Ln.na(this.Ee)};
n.eq=function(){ov(this,"displayName","Full Name");rv(this,"email",We(),!0);var a=gv(this);if("view"!==a){a="new"===a;pv(this,"Password",a);qv(this,"_passwordConfirm",a);var b=[];fc(Cv,function(a,d){b.push({id:d,name:a})});a=v(function(a){this.Ee=a.target.Y();Dv(this,this.Ee)},this);this.Ln=nv(this,b,this.Ee,a);this.Uc=sv(this,!0)}else this.Uc=sv(this,!1),ov(this,"id","User ID",!1)};
function Dv(a,b){"view"!==gv(a)&&a.Uc&&(b===Bv?(a.Uc.show(!1),a.Uc.k.required=!1):(a.Uc.show(!0),a.Uc.k.required=!0))}n.xd=function(){if("view"!==gv(this)&&this.Ee===Bv){var a=Ad($u(this,"email").Y());this.Uc.na(a)}return Av.c.xd.call(this)};n.lg=function(){return"edit"===gv(this)?ol(this.k.Aa,gu(this).g()):ol(this.k.Aa)};n.Td=function(){"edit"==gv(this)?this.dispatchEvent("cmd:editusersuccess"):this.dispatchEvent("cmd:addusersuccess")};
n.Xa=function(){if("view"!==gv(this)&&this.Uc&&this.Ee===Bv){var a=Ad($u(this,"email").Y());this.Uc.na(a)}var a=Av.c.Xa.call(this),b=this.k.Aa,c=a.id;c&&-1==c.indexOf(":")&&(a.id=b+":"+c);a.dummy&&delete a.dummy;return a};function Ev(a,b,c){Av.call(this,b,"signup",c);this.k.Ne=a;this.Oa("Create Account")}y(Ev,Av);n=Ev.prototype;n.Ja=uv;n.eq=function(){this.k.Aa=this.K().ka();if("vline"===this.k.Aa){var a=this.tb();a.Mj="/developer/firstuse/app"}else a=this.tb(),a.Mj="/testcall";a.W="/";a=Zm(new Ym(this.k.Ne,!0)).email;this.k.eg=a;kv(this," Email:  "+a);ov(this,"displayName","Full Name");a=pv(this,"Password",!0);ib(a.Vc,Xu);qv(this,"_confirmPassword",!0)};
n.xd=function(){var a=gu(this);a.set("token",this.k.Ne);this.lg();switch(gv(this)){case "new":return Sm(this.m(),a);case "edit":return this.m().put(a.j(),a)}return new F({})};n.Td=function(){this.dispatchEvent("cmd:signupsuccess")};n.Sd=function(a){a instanceof L&&"EMAIL_EXISTS"===a.V()?this.dispatchEvent(new Ms(this.k.eg)):Ev.c.Sd.call(this,a)};function Fv(a,b,c){jv.call(this,b||"invite",c);a&&(this.k.Aa=a);this.Je("account");this.Oa("Invite Users")}y(Fv,jv);n=Fv.prototype;n.Ja=function(a){return Uu(Ve(a,{lc:"Send Invitations",Jb:!0}))};n.U=function(){rv(this,"_email1",We(),!1);rv(this,"_email2",We(),!1);rv(this,"_email3",We(),!1);rv(this,"_email4",We(),!1);return Fv.c.U.call(this)};n.lg=function(){return ol(this.k.Aa)};n.Td=function(){this.dispatchEvent("cmd:inviteusersuccess")};
n.Xa=function(){var a=Fv.c.Xa.call(this),b=a.email;b&&(a.displayName=b.substring(0,b.indexOf("@")));return a};function Gv(a,b){var c=a.lg();if(c&&null!=b){var d={email:b};d.displayName=b.substring(0,b.indexOf("@"));d.thumbnailUrl=Ad(b);return a.m().od(c,d)}return new F({})}n.xd=function(){var a=this.Xa();return rh(Gv(this,a._email1),Gv(this,a._email2),Gv(this,a._email3),Gv(this,a._email4))};function Hv(a,b){jv.call(this,"updatepassword",b);this.k.Ne=a;this.Oa("Reset Password")}y(Hv,jv);n=Hv.prototype;n.Ja=function(a){return Uu(Ve(a,{lc:"Submit",Jb:!0}))};n.U=function(){var a=Zm(new Ym(this.k.Ne,!0)).email;kv(this," Email:  "+a);this.k.Aa=this.K().ka();a=pv(this,"Enter new password",!0);ib(a.Vc,Xu);qv(this,"_confirmPassword",!0);return Hv.c.U.call(this)};n.xd=function(){gu(this).set("token",this.k.Ne);return this.m().call("updatePassword",gu(this))};n.Td=function(){this.dispatchEvent("cmd:resetpasswordsuccess")};
n.Sd=function(a){Hv.c.Sd.call(this,a)};function Iv(a,b){jv.call(this,"updateemail",b);this.k.Ne=a;this.Oa("Update email");kv(this,"Updating your email...")}y(Iv,jv);Iv.prototype.Ja=function(a){return'\x3cdiv style\x3d"min-width: 300px"\x3e'+Uu(Ve(a,{buttons:!1}))+"\x3c/div\x3e"};Iv.prototype.U=function(){this.Kq(new rg("cmd:submit"));return Iv.c.U.call(this)};Iv.prototype.xd=function(){gu(this).set("token",this.k.Ne);return this.m().call("updateEmail",gu(this))};Iv.prototype.Td=function(){this.dispatchEvent("cmd:updateemailsuccess")};function Jv(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv\x3eYour account is ready. Sign in to get started.\x3c/div\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-primary vl-form-button-padding vl-form-submit-button" style\x3d"float:right;" vl-cmd\x3d"appsignin"\x3eSign in\x3c/div\x3e\x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\x3c/div\x3e'}
function Kv(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv\x3eYour password has been updated!\x3c/div\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-primary vl-form-button-padding vl-form-submit-button" style\x3d"float:right;" vl-cmd\x3d"appsignin"\x3eSign in\x3c/div\x3e\x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\x3c/div\x3e'}
function Lv(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv\x3eYour email has been updated!\x3c/div\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-primary vl-form-button-padding vl-form-submit-button" style\x3d"float:right;" vl-cmd\x3d"appsignin"\x3eOK\x3c/div\x3e\x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\x3c/div\x3e'};function Mv(a){wu.call(this,a);this.k.mode="new"}y(Mv,wu);Mv.prototype.Ie=function(a,b){this.k.mode=b.mode||"new";this.k.jr=b.resourceName;this.k.jr&&(this.k.Kg=b[this.k.jr+"Id"]);return Mv.c.Ie.call(this,a,b)};Mv.prototype.U=function(){var a=this.k.Kg;if(a){var b=Nv(this).n(function(c){c||b.pa(new L("NOT_FOUND",a));this.C.set("r",c);this.k.Kg=c&&c.g();c.ga();wu.prototype.U.call(this)},this);return b}return Mv.c.U.call(this)};function Ov(a,b,c){Av.call(this,a,b||"account",c)}y(Ov,Av);Ov.prototype.Ja=vv;Ov.prototype.U=function(){Ph(gu(this),"_editable")||(this.k.buttons=!1);return Ov.c.U.call(this)};function Pv(a){Mv.call(this,a);this.Tm=null}y(Pv,Mv);
Pv.prototype.Ja=function(a){return("view"==a.mode?'\x3cdiv class\x3d"vl-app-title"\x3e\x3ca href\x3d"/developer/app/"\x3eMy Services\x3c/a\x3e\x3cspan\x3e \x3e  \x3c/span\x3e\x3ca href\x3d"'+("/developer/app/"+a.Aa+"/user/")+'"\x3e'+a.Aa+"\x3c/a\x3e\x3cspan\x3e \x3e  \x3c/span\x3e"+(a.dg?"\x3cspan\x3e"+a.dg+"\x3c/span\x3e":a.eg?"\x3cspan\x3e"+a.eg+"\x3c/span\x3e":"\x3cspan\x3e"+a.uid+"\x3c/span\x3e")+"\x3c/div\x3e":"")+'\x3cdiv id\x3d"'+a.id+'"\x3e'+vv(Ve(a.ro,{mode:a.mode,ro:a.ro}))+"\x3c/div\x3e"};
Pv.prototype.U=function(){this.Tm&&(this.k.mode=this.Tm);var a=new Ov;this.k.ro=iu(this,a);this.k.uid=this.k.Kg;return xu(this).n(function(){return Mv.prototype.U.call(this)},this)};Pv.prototype.xr=ca("Tm");Pv.prototype.o=function(){Pv.c.o.call(this);this.w().e(this,"cmd:edituserlaunchpopup",v(function(){var a=new Ks(this.k.Aa,this.k.uid);this.dispatchEvent(a)},this))};
function Nv(a){var b=a.k.Aa,c=a.k.uid=a.k.Kg,d=ol(a.k.Aa,c),f=ql(b,b);return rh(a.m().kb(c),a.m().get(f)).n(function(a,f){var k=a.N(),m=new H;m.Xb(d);Uh(m,k,"displayName");Uh(m,k,"thumbnailUrl");this.k.dg=P(k,"displayName");vu(this,a);zd(c)===b&&"managed"===P(f,"authType")&&m.set("_editable",!0);return Xm(this.m(),b,c).n(function(a){this.k.eg=P(a,"email");Uh(m,a,"email");Uh(m,a,"id");vu(this,a)},this).Ue(function(){return m})},a)};function Qv(a,b){zt.call(this,a,b);this.Ui=this.Oe=this.Px=this.nh=this.Rh=this.bh=this.Hi=this.Yd=this.Jf=this.Ce=this.Pe=this.Pi=this.vi=this.ee=this.uh=this.Ae=this.si=this.Fi=null;this.Te()}y(Qv,zt);n=Qv.prototype;n.Rk=!1;n.h=function(){this.bf();Qv.c.h.call(this)};
n.Te=function(){this.w().e(this,"hide",this.bf).e(this,Un,this.jw).e(this,"cmd:register",this.Vv).e(this,"cmd:registersuccess",this.Uv).e(this,"cmd:signup",this.nw).e(this,"cmd:signupsuccess",this.mw).e(this,"cmd:signupexists",this.lw).e(this,"cmd:resetpassword",this.cw).e(this,"cmd:resetpasswordsuccess",this.bw).e(this,"cmd:updateemail",this.ls).e(this,"cmd:updateemailsuccess",this.Gw).e(this,"cmd:forgotpassword",this.ev).e(this,"cmd:adduser",this.Iu).e(this,"cmd:edituser",this.yq).e(this,"cmd:inviteuser",
this.uv).e(this,"cmd:inviteusersuccess",this.tv).e(this,"cmd:addusersuccess",this.Hu).e(this,"cmd:edituser",this.yq).e(this,"cmd:editusersuccess",this.Oh).e(this,"cmd:forgotpasswordsuccess",this.dv).e(this,"cmd:unsupportedbrowser",this.Fw)};n.jw=function(a){var b=this.Fi||(this.Fi=new wv);Rv(this,a,b)};n.Vv=function(a){var b=this.si||(this.si=new xv);Rv(this,a,b)};n.nw=function(a){var b=a.get("token"),b=this.Jf||(this.Jf=new Ev(b));Rv(this,a,b)};
n.cw=function(a){var b=a.get("token"),b=this.vi||(this.vi=new Hv(b));Rv(this,a,b)};n.ls=function(a){var b=a.get("token"),b=this.Pi||(this.Pi=new Iv(b));Rv(this,a,b)};n.Iu=function(a){var b=this.bh||(this.bh=new Av(a.Aa));Rv(this,a,b)};n.uv=function(a){var b=this.Rh||(this.Rh=new Fv(a.Aa));Rv(this,a,b)};n.yq=function(a){var b=this.nh||(this.nh=new Pv(this.l()));b.xr("edit");var c=a.Dx;b.k.Aa=a.Aa;b.k.Kg=c;b.Oa("Edit User");Rv(this,a,b)};
n.Uv=function(a){this.Ae||(this.Ae=new $,this.Ae.Ja=Sv,this.Ae.Oa("Thank You!"));Rv(this,a,this.Ae)};n.ev=function(a){var b=this.uh||(this.uh=new yv);Rv(this,a,b)};n.dv=function(a){this.ee||(this.ee=new $,this.ee.Ja=Tv,this.ee.Oa("Reset Password"));Rv(this,a,this.ee)};n.Fw=function(a){this.Oe||(this.Oe=new $,this.Oe.Ja=Uv,this.Oe.Oa("Browser Not Supported"));Rv(this,a,this.Oe)};n.mw=function(a){this.Yd||(this.Yd=new $,this.Yd.Ja=Jv,this.Yd.Oa("Account Created"));Rv(this,a,this.Yd)};
n.lw=function(a){var b=this.Hi||(this.Hi=new zv(a.eg));Rv(this,a,b)};n.bw=function(a){this.Ce||(this.Ce=new $,this.Ce.Ja=Kv,this.Ce.Oa("Password Reset"));Rv(this,a,this.Ce)};n.Gw=function(a){this.Pe||(this.Pe=new $,this.Pe.Ja=Lv,this.Pe.Oa("Email updated"));Rv(this,a,this.Pe)};n.Hu=function(){this.Oh()};n.tv=function(){this.Oh()};function Rv(a,b,c){b.stopPropagation();a.ej=b.type;c instanceof jv&&(a.Ui&&(b=a.Ui.Y("email"))&&c.na("email",b),a.Ui=c);At(a,c)}
n.bf=function(a){if(!a||a.target===this){this.ej=void 0;this.Ui=null;this.Fi&&(this.Fi.A(),this.Fi=null);this.si&&(this.si.A(),this.si=null);this.Jf&&(this.Jf.A(),this.Jf=null);this.vi&&(this.vi.A(),this.vi=null);this.bh&&(this.bh.A(),this.bh=null);this.Rh&&(this.Rh.A(),this.Rh=null);this.nh&&(this.nh.A(),this.nh=null);this.Ae&&(this.Ae.A(),this.Ae=null);this.uh&&(this.uh.A(),this.uh=null);this.ee&&(this.ee.A(),this.ee=null);this.Jf&&(this.Jf.A(),this.Yd=null);this.Yd&&(this.Yd.A(),this.Yd=null);
this.Hi&&(this.Hi.A(),this.Hi=null);this.Ce&&(this.Ce.A(),this.Ce=null);this.Pi&&(this.Pi.A(),this.Pi=null);this.Pe&&(this.Pe.A(),this.Pe=null);this.Oe&&(this.Oe.A(),this.Oe=null);var b=this.getParent();b&&b instanceof Vv&&b.execute(function(){b.show(!1)})}};function Sv(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cp class\x3d"vl-dialog-msg"\x3eCheck your email to complete your signup.\x3c/p\x3e\x3c/div\x3e'}function Tv(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3ch2 class\x3d"vl-dialog-heading"\x3ePassword reset instruction sent!\x3c/h2\x3e\x3cp class\x3d"vl-dialog-msg"\x3eCheck your email and follow the link to reset your password.\x3c/p\x3e\x3c/div\x3e'}
function Uv(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cp class\x3d"vl-dialog-msg"\x3e Please upgrade \x3ca href\x3d"/web/20131025084704/http://windows.microsoft.com/en-us/internet-explorer/download-ie" target\x3d"_blank"\x3eInternet Explorer\x3ca/\x3e or download \x3ca href\x3d"/web/20131025084704/https://www.google.com/chrome" target\x3d"_blank"\x3eGoogle Chrome\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e'}
function Wv(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv class\x3d"vl-call-dialog-top"\x3e\x3cdiv class\x3d"vl-call-dialog-avatar"\x3e\x3cimg class\x3d"vl-avatar-huge-img" src\x3d"'+a.io+'" alt\x3d""/\x3e\x3c/div\x3e\x3cdiv class\x3d"vl-call-dialog-text"\x3e\x3cdiv class\x3d"vl-call-dialog-heading" vl-bind\x3d"callDialogHeading"\x3e\x3c/div\x3e\x3cspan class\x3d"vl-call-dialog-name"\x3e'+a.dg+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"vl-call-dialog-controls"\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-red vl-call-dialog-control-btn" vl-cmd\x3d"declinecall"\x3e\x3cspan class\x3d"btn-icon-phone-hang-up"\x3e\x26#57382;\x3c/span\x3e Decline\x3c/div\x3e\x3cdiv id\x3d"'+
a.id+'-accept" class\x3d"vl-css3-button vl-accept-button vl-css3-button-green vl-call-dialog-control-btn vl-left" vl-cmd\x3d"acceptcall"\x3e\x3cspan class\x3d"btn-icon-camera"\x3e\x26#57383;\x3c/span\x3e Accept\x3c/div\x3e\x3cdiv id\x3d"'+a.id+'-menudrop" class\x3d"vl-menu-button vl-accept-menu-button vl-menu-button-green vl-menu-button-collapse-left vl-inline-block vl-call-dialog-control-btn vl-right" \x3e\x3cdiv class\x3d"vl-menu vl-menu-vertical"\x3e\x3cdiv class\x3d"vl-menuitem vl-accept-dropdown"\x3e\x3cspan class\x3d"btn-icon-large"\x3e\x26#57383;\x3c/span\x3e Accept Video\x3c/div\x3e\x3cdiv class\x3d"vl-menuitem vl-accept-dropdown"\x3e\x3cspan class\x3d"btn-icon-large"\x3e\x26#57383;\x3c/span\x3e Accept Video (HD)\x3c/div\x3e\x3cdiv class\x3d"vl-menuitem vl-accept-dropdown"\x3e\x3cspan class\x3d"btn-icon-large"\x3e\x26#57385;\x3c/span\x3e Accept Voice Only\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'}
function Xv(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv class\x3d"vl-call-dialog-top"\x3e\x3cdiv class\x3d"vl-call-dialog-avatar"\x3e\x3cimg class\x3d"vl-avatar-huge-img" src\x3d"'+a.io+'" alt\x3d""/\x3e\x3c/div\x3e\x3cdiv class\x3d"vl-call-dialog-text"\x3e\x3cdiv class\x3d"vl-call-dialog-heading" vl-bind\x3d"callDialogHeading"\x3e\x3c/div\x3e\x3cspan class\x3d"vl-call-dialog-name"\x3e'+a.dg+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"vl-call-dialog-controls"\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-red vl-call-dialog-control-btn" vl-cmd\x3d"declinecall"\x3e\x3cspan class\x3d"btn-icon-phone-hang-up"\x3e\x26#57382;\x3c/span\x3e End Call\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'}
;function Yv(a,b){M.call(this);this.Ya=a;this.Lt=!!b;this.rf=this.Km();if(!this.rf){var c=A&&!E("7")?"readystatechange":"load";this.uk=Gg(this.Ya,c,this.Fp,!1,this);this.Hm=window.setInterval(v(this.Fp,this),Zv)}}y(Yv,M);var Zv=100;n=Yv.prototype;n.uk=null;n.oe=e("rf");function $v(a){a.Hm&&(window.clearInterval(a.Hm),a.Hm=null)}n.h=function(){delete this.Ya;$v(this);Og(this.uk);Yv.c.h.call(this)};n.Km=function(){var a=!1;try{a=A?"complete"==this.Ya.readyState:!!Ge(this.Ya).body&&(!this.Lt||!!Ge(this.Ya).body.firstChild)}catch(b){}return a};
n.Fp=function(){this.Km()&&($v(this),Og(this.uk),this.uk=null,this.rf=!0,this.dispatchEvent("ifload"))};function Vv(a){$.call(this,a);this.Vb=this.Oj=this.Ya=null}y(Vv,$);n=Vv.prototype;n.t=function(){this.v=this.Ya};n.U=function(){this.Vb=new F;var a=v(function(){G(function(){this.Oj=Ge(this.d());this.rg=oe(this.Oj);this.Vb.ca(this)},0,this)},this);this.v=this.Ya=this.lj();var b=new aw(this.Ya,!0);b.oe()?a():this.w().e(b,"ifload",a);return this.Vb};n.execute=function(a,b){this.Vb.Uf(a,b);return this.Vb};n.o=function(){Vv.c.o.call(this);var a=this.tb();this.w().e(this.Oj,"click",a.wq,!1,a)};n.lj=function(){return bw(this.l())};
n.qa=function(){return this.Oj.body};n.Cd=function(a,b,c){Vv.c.Cd.call(this,a,b,c);a.sb=this.rg};function aw(a,b){Yv.call(this,a,b)}y(aw,Yv);aw.prototype.Km=function(){var a=Ge(this.Ya).getElementById("vl-iframe-loadtest");return a?2===a.offsetWidth:!1};function bw(a,b){var c=a.t("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;"+(b||""),src:'javascript:""'});c.onload=function(){window.isVlineFrameLoaded=!0};return c}
function cw(a,b,c){var d=oe(a),f=[];f.push("\x3c!DOCTYPE html\x3e");f.push('\x3chtml style\x3d"min-height:100%; overflow:hidden;"\x3e\x3chead\x3e',b,'\x3c/head\x3e\x3cbody style\x3d"min-height:100%; overflow:hidden;"\x3e','\x3cdiv id\x3d"vl-iframe-loadtest"\x3e\x3c/div\x3e',"\x3c/body\x3e\x3c/html\x3e");b=bw(d,c);a.appendChild(b);a=f.join("");f=Ge(b);f.open();f.write(a);f.close();return b};function dw(a,b){Vv.call(this,b)}y(dw,Vv);dw.prototype.lj=function(){var a=this.K().da().G,b=document.body,a='\x3clink rel\x3d"stylesheet" href\x3d"'+Ti(a)+'"/\x3e';return cw(b,a,"width:100%;height:100%")};function ew(a,b){$.call(this,b);this.Rg=a;this.Oa("")}y(ew,$);ew.prototype.U=function(){this.getData().Oy=this.Rg;var a=new dw(0,this.l());a.Ff(this);return a.load().n(function(){this.v=a.d();this.gb();a.d().src="/web/20131025084704/https://www.youtube.com/embed/MfSqpj9byeI?autoplay\x3d1\x26rel\x3d0\x26autohide\x3d1\x26showinfo\x3d0";return $.prototype.U.call(this)},this)};ew.prototype.o=function(){ew.c.o.call(this);var a=this.J.Ii;this.w().e(a,"resize",this.gb);this.gb()};
ew.prototype.gb=function(){var a=0.6*ue().width,b=0.6*a;fq(this.d(),a);gq(this.d(),b)};function fw(a){zt.call(this,"vl-embed-dialog",a);this.mh=null;this.Te()}y(fw,zt);n=fw.prototype;n.Rk=!1;n.Te=function(){this.w().e(this,"hide",this.bf).e(this,"cmd:showembedvideo",this.$u)};n.$u=function(){this.mh=new ew("",this.l());At(this,this.mh)};n.o=function(){fw.c.o.call(this);var a=zm(this.getParent().da());this.w().e(a,"resize",this.gb);this.gb()};n.gb=function(){var a=0.6*ue().width,b=0.6*a;fq(this.d(),a);gq(this.d(),b)};n.bf=function(){this.mh&&(this.mh.A(),this.mh=null)};function gw(a){yu.call(this,a);this.If=!1;this.Ak=this.Gi=null;this.W=this.Mj="/";this.dp=null;this.Yi={};this.k.ss=this.Yi;this.ei={};this.Re={};this.Ho=this.so=null;this.Zi=new H;this.C.set("app",this.Zi);this.Zi.ga()}y(gw,yu);n=gw.prototype;
n.U=function(){var a=this.K();this.Yi.Aa=a.ka();this.rb=hw(this);var b=this.w();b.e(a,"login",this.Cq,!0).e(a,"logout",this.Cq,!0).e(this,Un,this.Tk).e(this,"cmd:appsignin",this.Tk).e(this,"cmd:register",this.Sc).e(this,"cmd:adduser",this.Sc).e(this,"cmd:inviteuser",this.Sc).e(this,"cmd:edituser",this.Sc).e(this,"cmd:signup",this.Sc).e(this,"cmd:resetpassword",this.Sc).e(this,"cmd:updateemail",this.Sc).e(this,"cmd:forgotpassword",this.Sc).e(this,"cmd:embedvideopopup",this.nx).e(this,"cmd:unsupportedbrowser",
this.Sc);b.e(this,"cmd:nav",this.Iv);0<this.yi.length&&(b.e(this.cc(),"navigate",this.mv),this.cc().Ea(!0));iw(this);return rh(gw.c.U.call(this),this.Qi(hw(this))).n(ad).n(km)};function hw(a){a=new wn(a.cc().Wa());var b=window.location.hash;b&&An(a,b);return a}n.Qi=function(a,b){return gw.c.Qi.call(this,a,b).n(function(){jw(this,a)},this).Ib(function(b){b&&(b instanceof L&&"LOGIN_REQUIRED"==b.type)&&(this.Gi=a,this.H&&this.Tk())},this)};n.X=function(a){gw.c.X.call(this,a)};
n.o=function(){gw.c.o.call(this);this.w().e(Re(this.l()),"click",this.wq).e(this,"action",this.Eu).e(this,"cmd:signout",this.kw);this.Gi?this.Tk():this.Ak&&this.Sc(this.Ak)};n.fa=function(){gw.c.fa.call(this);this.cc().Ea(!1)};n.navigate=function(a,b){var c=Ln(this.cc().Wa(),a);kw(this,c,b)};n.mv=function(a){var b=hw(this);a.bu&&(this.rb&&b.toString()!==this.rb.toString())&&(1<window.location.hash.length&&An(b,window.location.hash.substr(1)),kw(this,b,!0))};
function kw(a,b,c){a.Gi=null;a.Og&&a.Kj(a.Og,!1);a.Ie(b,{}).n(function(){var a=this.cc(),f=this.ng(),g=b.toString();g!==a.Wa()&&(c?a.Fn(g,f):a.Cr(g,f),Re(this.l()).title=f);G(this.qr,0,this)},a)}n.wq=function(a){var b=a.target;do if("A"===b.tagName&&b.hasAttribute("href")){lw(this,b)&&a.preventDefault();break}while(b=b.parentNode)};
function lw(a,b){var c=Ca(b.getAttribute("href")),d=Ln(a.cc().Wa(),c);if(wa(c,"#_vline_"))return d=new wn(a.cc().Wa()),An(d,c),jw(a,d),!0;if(wa(c,"#_link_"))return c=Oe(b),window.open(c,"_blank"),!0;if(!d.sd){if(a.rb&&a.rb.j()===d.j()&&a.rb.Sb!==d.Sb)return a.rb=d,a.qr(),!1;if(0<a.yi.length&&Rn())return a.navigate(c),!0}return!1}
function jw(a,b){if(b&&b.Sb&&-1!=b.Sb.indexOf("_vline_")){var c=b.Sb;if(wa(c,"#_vline_")||wa(c,"_vline_")){var d=c;wa(c,"#_vline_")&&(d=Ra(d,"#"));d=Ra(d,"_vline_");c=null;if(-1!==d.indexOf("$")){var f=d.substr(d.indexOf("$")+1);f&&(c=new Bn(f));d=d.substr(0,d.indexOf("$"))}d="cmd:"+d;f=a.K();"cmd:signup"===d&&f.Th()&&!f.Tj()||a.dispatchEvent(new Ls(d,c))}}}
n.Eu=function(a){var b;a=a.target;var c=a.d();c&&((b=bu(c,"vl-event"))&&a.dispatchEvent(b),(b=bu(c,"vl-cmd"))&&a.dispatchEvent("cmd:"+b),(b=bu(c,"vl-nav"))&&a.dispatchEvent(new Js(b)))};
n.Cq=function(){try{if(iw(this))if(this.Og&&this.Kj(this.Og,!1),this.Gi)kw(this,this.Gi);else if(this.If=!0,this.rb&&this.rb.Sb&&(wa(this.rb.Sb,"_vline_")||wa(this.rb.Sb,"#_vline_"))){window.location.hash="";An(this.rb,"");this.navigate(this.Mj);var a=this.W;this.W=this.Mj=a}else 0<this.yi.length&&this.Qi(this.rb,!0)}finally{this.If=!1}};
function iw(a){var b=null,c=null,d=a.K(),f=d.Th()&&!d.Tj();f&&(b=d.ef().ya,c=d.ef().Ma().Ll);a.Zi.set("user",b);a.Zi.set("email",c);return a.Yi.su!==f?(a.Yi.su=f,!0):!1}function Au(a){return a.If}n.Sc=function(a){var b=new F("pending");if(this.If&&!a)return b;if(this.H)return mw(this,a);a&&(this.Ak=a);return b};
function mw(a,b){var c=b||Un;a.Ak=null;c=a.showModalDialog(c);return a.If?new F("pending"):(c.Ue(function(){this.If=!1},a).Ib(function(){var a=this.K(),b=new Rm(null);a.dispatchEvent(b)},a),a.If=!0,c)}n.showModalDialog=function(a){return this.Sk(nw(this),a)};function nw(a){a.Og||(a.Og=new Qv);return a.Og}n.Kj=function(a,b){a&&a.Oh();b&&a&&a.A()};n.kw=function(){this.K().ef().gc()};n.Iv=function(a){this.navigate(a.href,a.replaceState)};n.Tk=function(){var a=this.K();a.uf(a.ka())};
n.Sk=function(a,b){!a.getParent()&&this.ta(a,!1);return a.show(b)};function ow(a){if(!a.Ml){var b=pw(a);a.Ml=new fw(b.rg);a.Ml.Ff(a)}return a.Ml}n.nx=function(){if(A)window.open("/web/20131025084704/https://www.youtube.com/embed/MfSqpj9byeI?autoplay\x3d1\x26rel\x3d0\x26autohide\x3d1\x26showinfo\x3d0","_blank");else{var a=new N("cmd:showembedvideo",null);this.Sk(ow(this),a)}};function pw(a){var b;(b=a.dp)||(b=new qw,a.ta(b,!1),b.load().Uf(b.o,b),b=a.dp=b);return b}
function rw(a,b,c){var d=pw(a),f=new F;d.execute(function(){var a;a=pw(this);!b.getParent()&&a.ta(b,!1);a=b.show(c);nh(a,f.ca,f.pa,f);d.show(!0)},a);return f}function sw(a,b,c){var d=new F;c.execute(function(){var a=tw(b,c);nh(a,d.ca,d.pa,d)},a);return d}function uw(a,b,c,d){return c.execute(function(){b.show(!1);null!=d?c.show(!d):c.show(!1)},a)}function tw(a,b){!a.getParent()&&b.ta(a,!1);return a.oe()?(b.show(!0),a.show(!0)):a.load().n(function(){a.Mb();a.show(!0);b.show(!0)})}
function vw(a){return a.oe()?a.show(!0):a.load().n(function(){a.Mb();a.show(!0)})}function ww(a,b,c){var d=pw(a);d.execute(function(){b&&b.Oh();c&&b&&b.A();d.show(!1)},a)}function xw(a,b){return a.Ho||(a.Ho=new yw(b))}n.Zn=function(){if(!zi()){var a=xw(this,this.l());vw(a)}};n.Jj=function(){zi()||xw(this,this.l()).show(!1);return new F("done")};n.Wo=function(a){return zw(this,a,this.l())};function zw(a,b,c){a.ei[b]=new Aw(c);return a.ei[b]}
function Jk(a,b,c){Vc(a.F,"Show media dialog");a.Sk(a.ei[b],c)}function Hk(a,b,c){Vc(a.F,"Hide media dialog "+c);var d=a.ei[b];d&&a.Kj(d,c);c&&d&&delete a.ei[b]}n.Gr=function(a){return(a=this.Re[a])?vw(a):new F("no panel")};n.Zo=function(a){a=Bw(this,a,this.l());this.ta(a,!1);return a};function Bw(a,b,c,d){Vc(a.F,"Creating video panel");var f=b.g(),g=b.Tb().m().K();a.Re[f]=new Cw(b,g,c,d);return a.Re[f]}n.Lj=function(a,b){var c=this.Re[a];c&&this.Kp(c,b);c&&b&&delete this.Re[a]};
function Dw(a,b,c){var d=Ew(a);uw(a,b,d,!0).n(function(){c&&b.A()})}n.Kp=function(a,b){Vc(this.F,"Hiding video panel");a&&a.show(!1);a&&b&&a.A()};function Ew(a,b){if(!a.so){Vc(a.F,"Creating video Iframe");var c=null;b&&(c=u(b)?a.l().d(b):b);c=new Fw(c);a.ta(c,!1);c.load().Uf(c.o,c);a.so=c}return a.so}n.m=function(){return this.K().ef()};function Gw(a,b){$.call(this,b);this.r=a||null;this.Ja=Wv;this.Oa("Incoming call")}y(Gw,$);Gw.prototype.U=function(){var a=this.getData();a.dg=this.r.Jd();a.io=this.r.ed()||"/web/20131025084704/https://www.gravatar.com/avatar?d\x3dmm";this.N().set("callDialogHeading","Incoming call");return Gw.c.U.call(this)};
Gw.prototype.o=function(){Gw.c.o.call(this);this.w().e(this,"cmd:acceptcall",v(function(){this.r.start()},this));this.w().e(this,"cmd:declinecall",v(function(){this.r.stop()},this));this.w().e(this.r,"enterState:connecting",v(function(){this.N().set("callDialogHeading","Connecting")},this));var a=Aq(this,this.ue("menudrop"));if(a){var b=this.zj("accept");a&&ds(a,b);this.w().e(a,"action",v(function(a){a=a.target.Y();xa(a,"Accept Voice Only")?this.r.start({audio:!0}):xa(a,"Accept Video (HD)")?this.r.start({audio:!0,
video:!0,hd:!0}):this.r.start()},this))}};function Hw(a,b){$.call(this,b);this.r=a||null;this.Ja=Xv;this.Oa("Outgoing call")}y(Hw,$);Hw.prototype.U=function(){var a=this.getData();a.dg=this.r.Jd();a.io=this.r.ed()||"/web/20131025084704/https://www.gravatar.com/avatar?d\x3dmm";this.r.Jm()?this.N().set("callDialogHeading","Connecting"):this.N().set("callDialogHeading","Calling");return Hw.c.U.call(this)};
Hw.prototype.o=function(){Hw.c.o.call(this);this.w().e(this,"cmd:declinecall",v(function(){this.r.stop()},this)).e(this.r,"enterState:connecting",v(function(){this.N().set("callDialogHeading","Connecting")},this))};function qw(a){Vv.call(this,a)}y(qw,Vv);n=qw.prototype;n.lj=function(){var a=this.K().da().G,b=document.body,a='\x3clink rel\x3d"stylesheet" href\x3d"'+Ti(a)+'"/\x3e';return cw(b,a,"position: absolute; z-index: 10001; top: 0 ;left : 0; max-width:100%; visibility:hidden")};n.o=function(){qw.c.o.call(this);var a=this.J.Ii;this.w().e(a,"resize",this.gb).e(this,"beforeshow",this.sn).e(this,"hide",this.lv);this.gb()};n.gb=function(){var a=ue();fq(this.Ya,a.width);gq(this.Ya,a.height)};n.sn=function(){this.show(!0)};
n.lv=function(a){a&&a.target!==this||this.show(!1)};function Fw(a,b){Vv.call(this,b);this.yn=a||document.body}y(Fw,Vv);
Fw.prototype.lj=function(){var a=this.K().da().G,b="";this.yn===document.body&&(b+="top:0; left:0;");b+="z-index: 10000; position:absolute; width:100%; height:100%; visibility:hidden";a='\x3clink rel\x3d"stylesheet" href\x3d"'+Ti(a)+'"/\x3e';b=cw(this.yn,a,b);b.setAttribute("allowfullscreen","allowfullscreen");b.setAttribute("webkitallowfullscreen","webkitallowfullscreen");b.setAttribute("mozallowfullscreen","mozallowfullscreen");return b};
Fw.prototype.o=function(){if(this.yn===Re(this.l()).body){this.bn=!0;var a=this.J.Ii;this.w().e(a,"resize",this.gb);this.gb()}Fw.c.o.call(this)};Fw.prototype.gb=function(){var a=this.J.Ii.dc();fq(this.Ya,a.width);gq(this.Ya,a.height)};function Iw(a,b,c,d,f){$.call(this,c);this.wa=a;this.vc=this.Oc=null;this.Zr=f;this.Op=b||"/web/20131025084704/https://www.gravatar.com/avatar?d\x3dmm";this.ib(this.wa.g());this.Yw=t(d)?d:!0}y(Iw,$);function Jw(a,b){a.wa=b;a.vc||(a.vc=Kw(a,b,!0));var c=a.vc;a.vc.setAttribute("src",b.jm());a.vc.play();bd(a.vc,30).n(function(){if(c==this.vc){var a=this.Oc;this.Oc=this.vc;this.vc=a;Z(this.Oc,!0);Z(this.vc,!1)}},a)}n=Iw.prototype;n.Ba=function(){return this.wa.Ba()};
n.Ap=function(){var a=640;this.Oc&&(a=this.Oc.videoWidth);return a};function Lw(a,b){ke(a.d(),"vl-video-wrap-inset",b)}n.o=function(){Iw.c.o.call(this);this.Yw&&this.w().e(this.wa,"speaking:start",this.qx).e(this.wa,"speaking:stop",this.rx)};
n.X=function(a){Iw.c.X.call(this,a);var b=this.wa.Ba(),c=this.Zr;null!=c||(c=b?1:0);a.className="vl-video-wrap vl-video-wrap-"+(b?"local":"remote");Rp(a,{overflow:"hidden",position:"absolute","z-index":c});this.wa.ke()||(a=xe("img",{src:this.Op,width:"100%",height:"100%"}),this.l().appendChild(this.d(),a));this.Oc=Kw(this,this.wa,!1)};n.h=function(){Iw.c.h.call(this);this.Oc&&this.Oc.setAttribute("src","");this.vc&&this.vc.setAttribute("src","")};
n.qx=function(a){ke(this.d(),"vl-video-wrap-speaking",!0);this.dispatchEvent(a.type)};n.rx=function(a){ke(this.d(),"vl-video-wrap-speaking",!1);this.dispatchEvent(a.type)};function Kw(a,b,c){var d=b.Xo(),f=b.Ba()?"local":"remote";d.className="vl-video vl-video-"+f;Rp(d,{width:"100%",height:"100%",position:"absolute"});b.Ba()&&Oi(d);c&&Z(d,!1);a.l().appendChild(a.d(),d);return d}function Mw(a){return a?a+"px":"auto"}
function Nw(a,b,c,d,f,g,h,k){var m="";d={width:Mw(c),height:Mw(d),top:Mw(f),left:Mw(g)};c=Math.floor(0.05*c);switch(h){case 1:m=cu(0.05,c);break;case 2:c=Math.floor(1.8*c);m=cu(0,c);break;case 3:m=cu(-0.05,c)}null!=k&&(a.Zr=k,(h=a.d())&&(h.style.zIndex=k));a.setTransform(d,m);if(a=a.d())b?du(a,"all 0.75s"):du(a,""),Rp(a,d)}n.setTransform=function(a,b){a["-webkit-transform"]=a["-moz-transform"]=b};function Ow(){}y(Ow,Ur);ga(Ow);Ow.prototype.t=function(a){return a.l().t("div",this.I()+" vl-inline-block"," ")};Ow.prototype.ia=function(a,b){b=Ow.c.ia.call(this,a,b);ge(b,"vl-inline-block");return b};Ow.prototype.I=l("vl-toolbar-separator");function Pw(){}y(Pw,yr);ga(Pw);Pw.prototype.pc=l("toolbar");Pw.prototype.zh=function(a){return"HR"==a.tagName?new Vr(Ow.Ga()):Pw.c.zh.call(this,a)};Pw.prototype.I=l("vl-toolbar");Pw.prototype.wp=function(){return Br};function Qw(a,b,c){Er.call(this,b,a||Pw.Ga(),c)}y(Qw,Er);function Rw(){}y(Rw,Yr);ga(Rw);Rw.prototype.I=l("vl-toolbar-button");function Sw(a,b,c){xr.call(this,a,b||Rw.Ga(),c)}y(Sw,xr);ir("vl-toolbar-button",function(){return new Sw(null)});function Tw(a,b){Vr.call(this,a||Ow.Ga(),b)}y(Tw,Vr);ir("vl-toolbar-separator",function(){return new Tw});function Uw(a,b,c){xr.call(this,a,b||Yr.Ga(),c);sr(this,16,!0)}y(Uw,xr);ir("vl-toggle-button",function(){return new Uw(null)});function Vw(a,b,c){Uw.call(this,a,b||Rw.Ga(),c)}y(Vw,Uw);ir("vl-toolbar-toggle-button",function(){return new Vw(null)});function Ww(a,b,c,d){Qw.call(this,void 0,void 0,d);this.Qe=a;this.r=c||null;this.G=b||null;this.$c=null;this.Wl="vl-controls-fullscreen-btn";this.ve=null;this.pq="vl-controls-mute-audio-btn";this.Rd=null;this.qq="vl-controls-mute-video-btn";this.fg=null;this.gp="vl-controls-end-call-btn";this.Mf=null;this.Qr="vl-controls-transfer-call-btn";this.Of=null;this.Rr="vl-controls-trigger-debug-btn";this.hj=3E3;this.Vt=5E3;this.Me=0;this.rl=this.Zk=this.cn=!1;this.dq=0;this.P=!1;this.ep=!0;this.To=0}
y(Ww,Qw);n=Ww.prototype;
n.t=function(){Ww.c.t.call(this);var a=this.l();this.G.get(S.is)||(this.$c=new Vw(xe("div",Xw(this.Wl)),void 0,a),this.$c.wd("Toggle Fullscreen"),Yw(this,this.$c));var b=pi&&(!yi(23)||this.r.vf);b||(this.ve=new Vw(xe("div",Xw(this.pq)),void 0,a),this.ve.wd("Toggle Audio Mute"),this.r&&rr(this.ve,this.r.Uj()),Yw(this,this.ve));b||(this.Rd=new Vw(xe("div",Xw(this.qq)),void 0,a),this.Rd.wd("Toggle Video Mute"),Yw(this,this.Rd));this.fg=new Sw(xe("div",Xw(this.gp)),void 0,a);this.fg.wd("End Call");Yw(this,
this.fg);this.G.get(S.ks)&&(this.Mf=new Sw(xe("div",Xw(this.Qr)),void 0,a),this.Mf.wd("Transfer Call"),Yw(this,this.Mf));this.G.get(S.js)&&(this.Of=new Sw(xe("div",Xw(this.Rr)),void 0,a),this.Of.wd("Trigger debug (log stats)"),Yw(this,this.Of))};function Yw(a,b){zi()&&sr(b,2,!1);a.ta(b,!0)}
n.o=function(){Ww.c.o.call(this);var a=this.w(),b=this.Qe.d();a.e(this.fg,"action",this.av).e(Re(this.Qe.getParent().l()),C?"webkitfullscreenchange":B?"mozfullscreenchange":null,this.gv).e(this,"enter",this.cv).e(this,"leave",this.kn).e(b,"mousemove",this.tn).e(b,"touchstart",this.Mq).e(b,"touchend",this.Mw);a.e(b,"click",this.tn);this.r&&a.e(this.r,"enterState:active",this.Dv);this.$c&&a.e(this.$c,"action",this.fv);this.Mf&&a.e(this.Mf,"action",this.yw);this.Of&&a.e(this.Of,"action",this.Aw);this.ve&&
a.e(this.ve,"action",this.Gv);this.Rd&&a.e(this.Rd,"action",this.Hv);this.ea(!1);this.P=!1;Zw(this,!0);$w(this,this.Vt)};n.fa=function(){ax(this);Ai(Re(this.Qe.getParent().l()))};
n.jd=function(a){var b=a.width,c=a.height;a=this.d();a=iq(a).width;b=Math.min(b,c);c=a-(a+50-b);if(c!==this.To){this.To=c;var b=Cq(this),d=Dq(this,0).d(),d=Vp(d,"width");isFinite(d)&&(d=String(d));a=Math.min(Math.max(c/b*((u(d)?/^\s*-?0x/i.test(d)?parseInt(d,16):parseInt(d,10):NaN)/(a/b)),20),40);a=Math.floor(a);for(c=0;c<b;c++)d=Dq(this,c).d(),d.style.width=a+"px",d.style.fontSize=a+"px"}};n.Dv=function(){bx(this);Zw(this,!0);$w(this,this.hj)};n.cv=function(){this.cn=!0};
n.kn=function(){this.cn=!1;$w(this)};function Xw(a){return a+"-unchecked"}function cx(a,b,c){a&&(b?je(a,Xw(c),c+"-checked"):je(a,c+"-checked",Xw(c)))}n.gv=function(){var a;a=Re(this.Qe.getParent().l());a=t(a.fullscreenElement)?a.fullscreenElement:!(!a.mozFullScreen&&!a.webkitIsFullScreen);rr(this.$c,a);cx(this.$c.ha,a,this.Wl)};
n.fv=function(){var a=fr(this.$c,16);he(this.$c.d(),"vl-toolbar-button-checked");var b=this.$c.ha;if(a){var c=null!=this.Qe.sp?this.Qe.sp:this.Qe.d();la(c.webkitRequestFullScreen)?c.webkitRequestFullScreen():la(c.mozRequestFullScreen)?c.mozRequestFullScreen():la(c.requestFullScreen)&&c.requestFullScreen()}else Ai(Re(this.Qe.getParent().l()));cx(b,a,this.Wl)};n.Gv=function(){var a=fr(this.ve,16);this.r&&this.r.Lg(a);cx(this.ve.ha,a,this.pq)};
n.Hv=function(){var a=fr(this.Rd,16);this.r&&this.r.Ng(a);cx(this.Rd.ha,a,this.qq)};n.av=function(){var a=fr(this.fg,16);if(this.r){var b=this.r.Tb();b&&b.Le()}(b=this.fg.ha)&&cx(b,a,this.gp)};n.yw=function(){var a=fr(this.Mf,16);this.r&&this.r.$k();cx(this.Mf.ha,a,this.Qr)};n.Aw=function(){var a=fr(this.Of,16);console.log("showvideostats : false");cx(this.Of.ha,a,this.Rr)};n.Qt=function(){var a=ta()-this.dq;a<this.hj?$w(this,this.hj-a):this.cn||(Zw(this,!1),ax(this))};
function Zw(a,b){a.G.get(S.hs)&&(b=!0);a.P!==b&&((a.P=b)?$w(a):ax(a),a.Rd&&a.Rd.ea(a.ep),a.rl=!0,Bt(a.d(),b,"fade",0.25).n(function(){this.ea(b);this.rl=!1},a))}function ax(a){a.Me&&(Zg(a.Me),a.Me=0)}function $w(a,b){a.Me&&ax(a);a.Me=G(a.Qt,null!=b?b:a.hj,a)}n.tn=function(){this.Zk||(this.dq=ta(),this.P||(bx(this),Zw(this,!0)))};n.Mq=function(a){this.rl||(Fe(this.d(),a.target)?this.tn():(a.stopPropagation(),a.preventDefault(),Zw(this,!this.P)));this.Zk=!0};
n.Mw=function(a){this.Zk||this.Mq(a);this.Zk=!1};function bx(a){if(a.r){var b=a.r.jg();b&&b[0]&&(a.ep=b[0].ke())}};function Cw(a,b,c,d){$.call(this,c);this.r=a||null;this.G=(this.jb=b||null)&&this.jb.da().G;this.te=[];this.mb=[];this.ho=[];this.Ca=null;this.Yh=0;this.bq=new Pp(0,0,0,0);this.se=-1;this.Cy="";this.Cl=new Ww(this,this.G,a,c);this.sp=d}y(Cw,$);Gd("videoPanel",Cw);function dx(a,b,c){var d=640,f=480,g;if(a.Oc){if(g=a.Oc.videoWidth)d=g;if(a=a.Oc.videoHeight)f=a}else a.Op&&(f=d=40);return Math.min(Math.ceil(b*(d/f)),c)}n=Cw.prototype;n.bn=!0;
function ex(a){return eb(a.mb,function(a){a=a.wa;var c;c=this.r.Za[0];c=0<c.Kd().length?c.Kd()[0]:null;return a===c},a)}function fx(a){var b=null,c=-1;if(a.mb){for(var d=0;d<a.mb.length;++d){var f=a.mb[d].wa;f.Xj&&f.ih>c&&(b=a.mb[d],c=f.ih)}a:{if(c=a.r.B.N())if(c=P(c,"presenceDesc")){c="Conferencing-1.1"===c;break a}c=!1}c&&(b&&b.wa&&a.r.oo(b.wa.Sq),b=ex(a))}return b}
n.X=function(a){Cw.c.X.call(this,a);a.className="vl-video-panel";Rp(a,{position:"absolute",top:0,bottom:0,left:0,right:0,overflow:"hidden","-webkit-perspective":"500px"});this.ta(this.Cl,!0);if(this.r&&this.d()){a=this.r.jg();var b=this.r.Kd();z(a,this.Vi,this);z(b,this.Vi,this);this.H&&this.jd(!0)}};n.o=function(){Cw.c.o.call(this);this.r&&gx(this,this.r);G(function(){this.jd(!1)},0,this)};
function gx(a,b){$k(b,!0);a.w().e(b,"mediaSession:addLocalStream",a.Jq).e(b,"mediaSession:addRemoteStream",a.Jq).e(b,"mediaSession:removeRemoteStream",a.rw).e(a,"speaking:start",a.ow).e(a,"speaking:stop",a.pw).e(a,"mediaStreamTrack:videoresolutionchange",a.Nw)}n.addStream=function(a){this.Vi(a)};n.fa=function(){-1!==this.se&&Zg(this.se);$k(this.r,!1);Cw.c.fa.call(this)};
function hx(a,b){var c=b&&a.H,d=kq(a.d()),f=d.width,d=d.height,g=0.05*d,h=0,k=[],m=nb(a.mb),p,s,r,x,D,Q,U,Ea,W;1===a.te.length&&1<=a.mb.length?(p=a.te[0],D=Math.max(0.2*d,90),D=Math.min(D,d/2),x=dx(p,D,f),Nw(p,c,x,D,d-g-D,f-g-x,void 0,1),Lw(p,!0),x=a.jb.da().G,D=a.r.Bg,x&&p.show(Ui(D.G,S.gs))):(z(a.te,function(a){Lw(a,!1)}),m.push.apply(m,a.te));if(1===m.length&&m[0].wa.ke())Nw(m[0],c,f,d,0,0,void 0,0);else{for(p=0;p<m.length;++p)h+=dx(m[p],d,f);Ea=Math.max(Math.floor(h/f),1);W=Math.floor(m.length/
Ea);for(p=h=0;h<Ea;++h){h===Ea-1&&(W=m.length-p);x=2*g;Q=Math.floor((f-x)/W);D=Math.floor(d/Ea);U=0;r=k.length=0;for(s=p;r<W;++r,++s)x=dx(m[s],D,Q),U+=x,k.push(x);U=(f-U)/2;for(r=0;r<W;++r,++p)s=1===m.length?0:0===r&&1<W?1:r===W-1&&1<W?3:2,x=dx(m[p],D,Q),Nw(m[p],c,k[r],D,D*h,U,s,0),U+=k[r]}}}
function ix(a,b,c){b=b&&a.H||!1;var d=kq(a.d()),f=d.width,d=d.height,g=0.05*d,h=nb(a.te),k,m,p,s,r=[],x=0,D,Q,U,Ea;h.push.apply(h,a.mb);kb(h,ex(a));k=Math.max(0.2*(d-g)-g,90);m=Math.min(g,18);p=Math.floor(2*k);for(s=0;s<h.length;++s)r[s]=dx(h[s],k,p),x=Math.max(r[s],x);D=Math.floor((d-3*g)/k);Q=Math.max(Math.ceil(h.length/D),1);for(s=0;s<Q;++s){var W=s*D;U=g;Ea=g+m*s+s*x;for(p=0;p<D&&W+p<h.length;++p)Nw(h[W+p],b,r[W+p],k,U,Ea,void 0,1),Lw(h[W+p],!0),U+=k+m}!c&&(!a.Ca&&0<a.mb.length)&&((c=fx(a))||
(c=a.mb[0]));g=eb(a.mb,function(a){return this.Ca?a.wa===this.Ca.wa:!1},a);c&&(c!==a.te[0]&&0<a.mb.length)&&((h=ta(),k=c.wa,a.Ca)?a.Ca.wa!==k&&k.ih>a.Ca.wa.ih||!g?(Jw(a.Ca,k),a.Yh=h):a.Yh<h-2500&&(a.Yh=h-2500+500):(a.Ca=new Iw(k,null,a.l(),!1,0),a.Ca.ib("main"),a.ta(a.Ca,!0),a.Yh=h));a.Ca&&(Nw(a.Ca,b,f,d,0,0),1>a.mb.length?a.Ca.show(!1,"fade"):a.Ca.show(!0,"fade"));c&&jx(a)}
n.jd=function(a,b){2>this.mb.length?(this.Ca&&this.Ca.show(!1,"fade"),hx(this,a)):Yk(this.r)?ix(this,a,b):hx(this,a);var c=kq(this.d());if(!Qp(c,this.bq)){this.bq=c;var d=this.Cl.d(),f=au(d);f&&Rp(d,{visibility:"hidden"});this.Cl.jd(c);var g=iq(d).width;d.style.left=(c.width-g)/2+"px";f&&(d.style.visibility="visible")}};
n.Vi=function(a){if(!kx(this,a)){ib(this.ho,a);a.Ba()?(Vc(this.F,"Add local stream to videoPanel"),this.w().e(a,"mediaStream:end",this.yv)):Vc(this.F,"Add remote stream to videoPanel");var b=a.Ba()?this.jb.ef().ya.ed():this.r.ed(),b=new Iw(a,b,this.l(),void 0,1);this.ta(b,!0);a.Ji?lx(this,b):this.w().e(a,"mediaStream:start",this.sw)}};function kx(a,b){return!!eb(a.ho,function(a){return b===a})}n.ir=function(){this.jd(!1)};n.Jq=function(a){this.Vi(a.stream);a.stream.Ji&&this.jd(!0)};
n.yv=function(a){mx(this,a.target)};n.rw=function(a){mx(this,a.stream)};function mx(a,b){kb(a.ho,b);var c=Aq(a,b.g());if(!a.Fc){if(c&&(nx(a,c),a.Ca&&c.wa===a.Ca.wa)){-1!==a.se&&(Zg(a.se),a.se=-1);c=fx(a);!c&&0<a.mb.length&&(c=a.mb[0]);a.jd(!0,c);return}a.jd(!0)}}n.sw=function(a){a=Aq(this,a.target.g());lx(this,a);this.jd(!0)};function lx(a,b){Vc(a.F,"Showing video in videoPanel");b.show(!0,"fade");(b.Ba()?a.te:a.mb).push(b)}
function nx(a,b){Vc(a.F,"Hiding video in videoPanel");b.show(!1,"fade").Ue(function(){!this.Fc&&this.removeChild(b);b.A()},a);var c=b.Ba()?a.te:a.mb;kb(c,b)}n.ow=function(a){a=a.target;this.Ca&&this.Ca.wa!==a.wa&&jx(this)};n.pw=function(a){this.Ca&&this.Ca.wa===a.target.wa&&jx(this)};n.Nw=function(){this.Ca&&jx(this)};function jx(a){if(-1===a.se){var b=a.Yh+2500-ta(),b=Math.max(b,0);a.se=G(function(){this.se=-1;this.jd(!0,fx(this))},b,a)}};function Aw(a){zt.call(this,"vl-not-dialog",a);this.Ph=this.oi=null;this.Te()}y(Aw,zt);n=Aw.prototype;n.Rk=!1;n.Te=function(){this.w().e(this,"hide",this.bf).e(this,Mk,this.Kv).e(this,Ik,this.pv)};n.Kv=function(a){this.oi=new Hw(a.mediaSession,this.l());At(this,this.oi)};n.pv=function(a){this.Ph=new Gw(a.mediaSession,this.l());At(this,this.Ph)};n.h=function(){this.bf();Aw.c.h.call(this)};n.bf=function(a){a&&a.target!==this||(this.oi&&(this.oi.A(),this.oi=null),this.Ph&&(this.Ph.A(),this.Ph=null))};
n.Vo=function(){var a=this.d();return new Ns(a,a)};function yw(a){Xs.call(this,!1,a);this.rf=!1}y(yw,Xs);yw.prototype.t=function(){yw.c.t.call(this);var a=this.d();a.className="vl-call-arrow-wrapper";this.df().className="vl-dialog-bg";var b=xe("div",{});a.appendChild(b);a="vl-call-arrow animated bounce";pi&&(a+=" vl-call-arrow-firefox");b.className=a;b=this.df();a=this.d();bt(this,Gt(a,0.25),Ht(a,0.25),Gt(b,0.25),Ht(b,0.25))};yw.prototype.show=function(a){this.rf&&this.ea(a);return new F("showing")};yw.prototype.oe=e("rf");
yw.prototype.load=function(){this.rf=!0;return new F("loaded")};function ox(a,b){gw.call(this,b);this.jb=a}y(ox,gw);n=ox.prototype;n.navigate=function(a,b){ox.c.navigate.call(this,a,b);window._gaq.push(["_trackPageview",a])};n.Zn=function(){var a=pw(this),b=xw(this,a.rg);sw(this,b,a)};n.Jj=function(a){var b=pw(this),c=xw(this,b.rg);return uw(this,c,b,a)};n.Wo=function(a){var b=pw(this);return zw(this,a,b.rg)};n.Kj=function(a,b){ww(this,a,b)};n.Sk=function(a,b){return rw(this,a,b)};n.fa=function(){ox.c.fa.call(this);console.log("Application exited while on page?")};
n.Gr=function(a){var b=Ew(this);return(a=this.Re[a])?sw(this,a,b):new F("no panel")};n.Zo=function(a,b){var c=Ew(this,b),d=c.d();return Bw(this,a,c.rg,d)};n.Kp=function(a,b){Vc(this.F,"Hiding video panel");Dw(this,a,b)};function px(a){this.G=new Ri(a,S);this.mo=this.$a=this.Nf=this.or=this.jb=this.eb=this.rk=null}n=px.prototype;n.ka=function(){var a=this.G;return P(a,"serviceId")||P(a,"appId")};n.K=function(){return this.jb||(this.jb=new Y(this))};function ck(a){return a.eb||(a.eb=new sm(a))}n.Ej=function(){return this.or||(this.or=cn(this,null))};n.gf=function(){var a;if(!(a=this.mo)){a=new ox(this.K());var b=new Is(this,a);a.load(document.body);a=this.mo=b}return a};n.tb=function(){return this.gf().tb()};
function cn(a,b){if(b){var c=a.K().hm(),d,f=b.Ma();f&&(d=f.Sg);for(f=0;f<c.length;f++)if(null!=c[f]&&d===c[f].Ma().Sg)return c[f]}return new Jm(a,b,new Yn,a.Nf||(a.Nf=dn(a)))}n.El=function(a,b,c,d,f){var g=a.m(),h=d&&P(d,"mid")||Di(),h=g.T.put(Yh("/local/peerSession",h),"peerSession").Ia().Fa;h.ne(g,a,b,c,d,f);return h};function dn(a){var b=new Yn;new bp(a.rk||(a.rk=new Yl),b,a.G);return b};function qx(a){u(a)&&(a={appId:a});a=(new px(a)).K();if(!a.Sp){a.Sp=!0;var b=(new Tm(a.J,null,!0)).Ma();b?(Nm(b.Cn.m(),b),a.za()):ln(a)}a.hm();a.da().G.get("ui")&&a.tb();return a};w("vline.LogLevels.ERROR",Nc);w("vline.LogLevels.WARNING",Oc);w("vline.LogLevels.INFO",Pc);w("vline.LogLevels.FINE",Rc);w("vline.LogLevels.FINER",Sc);w("vline.LogLevels.FINEST",Tc);w("vline.LogLevels.OFF",Lc);w("vline.MediaStates.INACTIVE","inactive");w("vline.MediaStates.PENDING","pending");w("vline.MediaStates.INCOMING","incoming");w("vline.MediaStates.OUTGOING","outgoing");w("vline.MediaStates.ACTIVE","active");w("vline.PresenceStates.OFFLINE","offline");w("vline.PresenceStates.ONLINE","online");
w("vline.PresenceStates.AWAY","away");w("vline.PresenceStates.DO_NOT_DISTURB","do_not_disturb");w("vline.PresenceStates.INVISIBLE","invisible");w("vline.PresenceStates.NONE","none");w("vline.client.create",qx);w("vline.config",S);w("vline.ui.create",function(a,b){return new Is(a.da(),b)});w("vline.log.setLevel",sd);w("vline.defer",$g);w("vline.when",rh);w("vline.Promise.prototype",F.prototype);w("vline.Promise.prototype.always",F.prototype.Ue);w("vline.Promise.prototype.done",F.prototype.n);
w("vline.Promise.prototype.then",F.prototype.Vk);w("vline.Promise.prototype.fail",F.prototype.Ib);w("vline.EventTarget.prototype",O.prototype);w("vline.EventTarget.prototype.on",O.prototype.on);w("vline.EventTarget.prototype.off",O.prototype.fn);w("vline.EventTarget.prototype.one",O.prototype.un);w("vline.EventTarget.prototype.getId",O.prototype.g);w("vline.Events.SESSION_INITIATE","pub:sig:sessionInitiate");w("vline.Events.SESSION_TERMINATE","pub:sig:sessionTerminate");
w("vline.Events.SESSION_CANDIDATE","pub:sig:transportCandidate");w("vline.Events.SESSION_ACCEPT","pub:sig:sessionAccept");w("vline.Events.UPDATE_SESSION_SOURCE","pub:updateSessionSource");w("vline.Client.create",qx);w("vline.Client.prototype",Y.prototype);w("vline.Client.prototype.connect",Y.prototype.$f);w("vline.Client.prototype.disconnect",Y.prototype.disconnect);w("vline.Client.prototype.login",Y.prototype.uf);w("vline.Client.prototype.logout",Y.prototype.gc);
w("vline.Client.prototype.isConnected",Y.prototype.qf);w("vline.Client.prototype.isLoggedIn",Y.prototype.Th);w("vline.Client.prototype.isAnonymous",Y.prototype.Tj);w("vline.Client.prototype.getConnectionState",Y.prototype.ad);w("vline.Client.prototype.getDefaultSession",Y.prototype.ef);w("vline.Client.prototype.getSessions",Y.prototype.hm);w("vline.Client.prototype.getMediaSessions",Y.prototype.kg);w("vline.Client.prototype.getIncomingMediaSessions",Y.prototype.Aj);
w("vline.Client.prototype.getOutgoingMediaSessions",Y.prototype.Dj);w("vline.Client.prototype.getActiveMediaSession",Y.prototype.xj);w("vline.Client.prototype.getUnreadCount",Y.prototype.hf);w("vline.Client.prototype.hasMediaSessions",Y.prototype.Nt);w("vline.Client.prototype.hasActiveMediaSession",Y.prototype.Kt);w("vline.Client.prototype.hasIncomingMediaSessions",Y.prototype.Mt);w("vline.Client.prototype.hasOutgoingMediaSessions",Y.prototype.Pt);
w("vline.Client.prototype.hasPendingMediaSessions",Y.prototype.xm);w("vline.Client.prototype.hasPendingMediaStreams",Y.prototype.ym);w("vline.Client.prototype.stopMediaSessions",Y.prototype.bo);w("vline.Client.prototype.setAnswerTimeout",Y.prototype.hx);w("vline.Client.prototype.setRingtone",Y.prototype.Vn);w("vline.Client.prototype.setIncomingMessageSound",Y.prototype.jx);w("vline.Client.prototype.getUiModule",Y.prototype.gf);w("vline.Client.prototype.getLocalStream",Y.prototype.Ch);
w("vline.Session.prototype",Jm.prototype);w("vline.Session.prototype.logout",Jm.prototype.gc);w("vline.Session.prototype.getAuthToken",Jm.prototype.xh);w("vline.Session.prototype.getContacts",Jm.prototype.ft);w("vline.Session.prototype.getProviderUrl",Jm.prototype.Gh);w("vline.Session.prototype.getLocalPerson",Jm.prototype.it);w("vline.Session.prototype.getLocalPersonId",Jm.prototype.Va);w("vline.Session.prototype.getPerson",Jm.prototype.kb);w("vline.Session.prototype.getUnreadCount",Jm.prototype.hf);
w("vline.Session.prototype.setPresence",Jm.prototype.Qk);w("vline.Session.prototype.setStatus",Jm.prototype.Mg);w("vline.Session.prototype.postMessage",Jm.prototype.postMessage);w("vline.Session.prototype.publishMessage",Jm.prototype.zk);w("vline.Session.prototype.startMedia",Jm.prototype.Ke);w("vline.Session.prototype.stopMedia",Jm.prototype.Le);w("vline.Session.prototype.joinGroup",Jm.prototype.lu);w("vline.Session.prototype.createRoom",Jm.prototype.Is);w("vline.Session.prototype.getRoom",Jm.prototype.yp);
w("vline.Session.prototype.publishToRemoteSession",Jm.prototype.Ww);w("vline.Channel.prototype",X.prototype);w("vline.Channel.prototype.postMessage",X.prototype.postMessage);w("vline.Channel.prototype.publishMessage",X.prototype.zk);w("vline.Channel.prototype.startMedia",X.prototype.Ke);w("vline.Channel.prototype.stopMedia",X.prototype.Le);w("vline.Channel.prototype.informLocalTyping",X.prototype.Pp);w("vline.Channel.prototype.getId",X.prototype.g);w("vline.Channel.prototype.getShortId",X.prototype.rt);
w("vline.Channel.prototype.getDisplayName",X.prototype.Jd);w("vline.Channel.prototype.getMessages",X.prototype.lt);w("vline.Channel.prototype.getMediaSession",X.prototype.kt);w("vline.Channel.prototype.getProfileUrl",X.prototype.fm);w("vline.Channel.prototype.getThumbnailUrl",X.prototype.ed);w("vline.Channel.prototype.getStatus",X.prototype.je);w("vline.Channel.prototype.getUnreadCount",X.prototype.hf);w("vline.Channel.prototype.isMediaSupported",X.prototype.au);
w("vline.Channel.prototype.isActive",X.prototype.Mc);w("vline.Channel.prototype.isTyping",X.prototype.hu);w("vline.Channel.prototype.setMessageSoundEnabled",X.prototype.kx);w("vline.Channel.prototype.setActive",X.prototype.setActive);w("vline.Channel.prototype.setStatus",X.prototype.Mg);w("vline.Channel.prototype.getPath",X.prototype.j);w("vline.Channel.prototype.getType",X.prototype.V);w("vline.Channel.prototype.retain",X.prototype.Ia);w("vline.Channel.prototype.release",X.prototype.ga);
w("vline.Channel.prototype.autorelease",X.prototype.pb);w("vline.Person.prototype",tl.prototype);w("vline.Person.prototype.getUsername",tl.prototype.km);w("vline.Person.prototype.getPresenceState",tl.prototype.mg);w("vline.Person.prototype.getPresenceDesc",tl.prototype.dm);w("vline.Group.prototype",fm.prototype);w("vline.Group.prototype.getMembers",fm.prototype.Bj);w("vline.Group.prototype.startGroupMedia",fm.prototype.sx);w("vline.Room.prototype",mm.prototype);w("vline.Room.prototype.join",mm.prototype.join);
w("vline.Room.prototype.leave",mm.prototype.wg);w("vline.Room.prototype.startMedia",mm.prototype.Ke);w("vline.Room.prototype.stopMedia",mm.prototype.Le);w("vline.Message.prototype",T.prototype);w("vline.Message.prototype.getSender",T.prototype.qt);w("vline.Message.prototype.getSenderId",T.prototype.Ih);w("vline.Message.prototype.getChannel",T.prototype.Tb);w("vline.Message.prototype.getChannelId",T.prototype.et);w("vline.Message.prototype.getSessionId",T.prototype.Kc);
w("vline.Message.prototype.getBody",T.prototype.up);w("vline.Message.prototype.getError",T.prototype.getError);w("vline.Message.prototype.getPath",T.prototype.j);w("vline.Message.prototype.getType",T.prototype.V);w("vline.Message.prototype.getId",T.prototype.g);w("vline.Message.prototype.retain",T.prototype.Ia);w("vline.Message.prototype.release",T.prototype.ga);w("vline.Message.prototype.autorelease",T.prototype.pb);w("vline.msg.CandidateSignal",Sj);w("vline.msg.CandidateSignal.prototype",Sj.prototype);
w("vline.msg.VADStateTransition",Vj);w("vline.msg.VADStateTransition.prototype",Vj.prototype);w("vline.msg.VADStateConfidence",yk);w("vline.msg.VADStateConfidence.prototype",yk.prototype);w("vline.msg.UpdateSessionSource",ak);w("vline.msg.UpdateSessionSource.prototype",ak.prototype);w("vline.MediaSession.prototype",V.prototype);w("vline.MediaSession.prototype.start",V.prototype.start);w("vline.MediaSession.prototype.stop",V.prototype.stop);w("vline.MediaSession.prototype.getChannel",V.prototype.Tb);
w("vline.MediaSession.prototype.getDisplayName",V.prototype.Jd);w("vline.MediaSession.prototype.getThumbnailUrl",V.prototype.ed);w("vline.MediaSession.prototype.getMediaState",V.prototype.Jc);w("vline.MediaSession.prototype.getLocalStreams",V.prototype.jg);w("vline.MediaSession.prototype.getRemoteStreams",V.prototype.Kd);w("vline.MediaSession.prototype.hasVideo",V.prototype.ke);w("vline.MediaSession.prototype.hasAudio",V.prototype.Ij);w("vline.MediaSession.prototype.isPending",V.prototype.du);
w("vline.MediaSession.prototype.isIncoming",V.prototype.Zt);w("vline.MediaSession.prototype.isOutgoing",V.prototype.cu);w("vline.MediaSession.prototype.isConnecting",V.prototype.Jm);w("vline.MediaSession.prototype.isActive",V.prototype.Mc);w("vline.MediaSession.prototype.isClosed",V.prototype.Xt);w("vline.MediaSession.prototype.isAudioMuted",V.prototype.Uj);w("vline.MediaSession.prototype.isVideoMuted",V.prototype.Mm);w("vline.MediaSession.prototype.setAudioMuted",V.prototype.Lg);
w("vline.MediaSession.prototype.setVideoMuted",V.prototype.Ng);w("vline.MediaSession.prototype.isVideoPanelVisible",V.prototype.iu);w("vline.MediaSession.prototype.getConnectionType",V.prototype.Zl);w("vline.MediaSession.prototype.isInitiator",V.prototype.$t);w("vline.MediaSession.prototype.transfer",V.prototype.$k);w("vline.MediaSession.prototype.getParticipants",V.prototype.ot);w("vline.MediaStream.prototype",Gi.prototype);w("vline.MediaStream.prototype.stop",Gi.prototype.stop);
w("vline.MediaStream.prototype.setAudioMuted",Gi.prototype.Lg);w("vline.MediaStream.prototype.setVideoMuted",Gi.prototype.Ng);w("vline.MediaStream.prototype.createMediaElement",Gi.prototype.Xo);w("vline.MediaStream.prototype.createVideoElement",Gi.prototype.Yo);w("vline.MediaStream.prototype.createAudioElement",Gi.prototype.Uo);w("vline.MediaStream.prototype.getNativeStream",Gi.prototype.nt);w("vline.MediaStream.prototype.hasAudio",Gi.prototype.Ij);w("vline.MediaStream.prototype.hasVideo",Gi.prototype.ke);
w("vline.MediaStream.prototype.isAudioMuted",Gi.prototype.Uj);w("vline.MediaStream.prototype.isVideoMuted",Gi.prototype.Mm);w("vline.MediaStream.prototype.isStarted",Gi.prototype.gu);w("vline.MediaStream.prototype.isLocal",Gi.prototype.Ba);w("vline.MediaStream.prototype.isRemote",Gi.prototype.fu);w("vline.MediaStream.prototype.getPerson",Gi.prototype.kb);w("vline.Entity.prototype",H.prototype);w("vline.Entity.prototype.getCreationTime",H.prototype.$l);w("vline.Entity.prototype.getPath",H.prototype.j);
w("vline.Entity.prototype.getType",H.prototype.V);w("vline.Entity.prototype.getId",H.prototype.g);w("vline.Entity.prototype.retain",H.prototype.Ia);w("vline.Entity.prototype.release",H.prototype.ga);w("vline.Entity.prototype.autorelease",H.prototype.pb);w("vline.Delegate.prototype",ci.prototype);w("vline.Delegate.prototype.getId",ci.prototype.g);w("vline.Delegate.prototype.retain",ci.prototype.Ia);w("vline.Delegate.prototype.release",ci.prototype.ga);w("vline.Delegate.prototype.autorelease",ci.prototype.pb);
w("vline.Collection.prototype",Tl.prototype);w("vline.Collection.prototype.getRoot",Tl.prototype.pt);w("vline.Collection.prototype.getPath",Tl.prototype.j);w("vline.Collection.prototype.getSize",Tl.prototype.dc);w("vline.Collection.prototype.getImpl",Tl.prototype.gt);w("vline.Collection.prototype.get",Tl.prototype.get);w("vline.Collection.prototype.getAt",Tl.prototype.Yl);w("vline.Collection.prototype.retain",Tl.prototype.Ia);w("vline.Collection.prototype.release",Tl.prototype.ga);
w("vline.Collection.prototype.autorelease",Tl.prototype.pb);w("vline.Collection.prototype.hasNextPage",Tl.prototype.Ot);w("vline.Collection.prototype.loadNextPage",Tl.prototype.ru);w("vline.UiModule.prototype",Is.prototype);w("vline.UiModule.prototype.createMessageInput",Is.prototype.Hs);w("vline.UiModule.prototype.createTextLogo",Is.prototype.Js);w("vline.Browser.supportsChat",function(){return Bi()||ui||pi||vi||si||ri||ti});w("vline.Browser.supportsWebRtc",Bi);w("vline.Browser.supportsHd",gi);
w("vline.Browser.getUserAgentString",function(){return zb()});w("vline.Browser.isVersion",function(a){return yi(a)});w("vline.Browser.getVersionString",function(){return Ib});w("vline.Browser.isFirefox",function(){return pi});w("vline.Browser.isIE",function(){return A});w("vline.Browser.isOpera",function(){return Db});w("vline.Browser.isSafari",function(){return vi});w("vline.Browser.isChrome",function(){return ui});w("vline.Browser.isMobile",zi);w("vline.MessageInput",Hs);
w("vline.MessageInput.prototype",Hs.prototype);w("vline.MessageInput.prototype.setPersonId",Hs.prototype.lx);w("vline.MessageInput.prototype.render",Hs.prototype.Mb);w("vline.Disposable.prototype",fg.prototype);w("vline.Disposable.prototype.dispose",fg.prototype.A);

})();
