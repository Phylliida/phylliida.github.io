<html>
<head>
<script src="/punycode.js"></script>
<link rel="stylesheet" type="text/css" href="/css/fonts/fonts.css">
<style>

input {
    color: black;
	width: 100px;
	height: 40px;
    padding: 0px 0px;
    text-align: center;
    display: inline-block;
    font-size: 16px;
}

#resultoutput {
  text-align: left;
  padding: 20px 20px;
  width: 100%;
}

#resultoutput2 {
  text-align: left;
  padding: 20px 20px;
  width: 100%;
}

button {

    /*font-family: 'lmmono12-regular', 'emojiiFont', 'unifont', 'NotoSansCJK', 'Symbola', 'Musica', 'Unidings', 'Myanmar', 'NotomojiColor', 'Notomoji', 'sans-serif';*/
    background-color: #BBBBBB; /* Green */
    color: black;
	width: 90px;
	height: 90px;
    padding: 0px 0px;
    text-align: center;
    display: inline-block;
    font-size: 16px;
}

#buttonHolder
{
}


</style>
</head>
<body>
<a href="/copier">Unicode to clipboard</a><br/><br/>
Apply to: <input id="appliedToText" value="A" oninput="updatePreview();"></input><h3>current contents (click to copy):</h3><button id="resultoutput" onclick="setClipboardWithPreview();"></button><br/><br/><button id="resetButton" onclick="resetCopied();">Reset Cur</button><button id="appendButton" onclick="appendCopied();">Append</button><button id="resetHist" onclick="resetHist();">Reset Res</button>
<br />
<button id="resultoutput2" onclick="setClipboard2WithPreview();"></button>
<script>

function setClipboardWithPreview()
{
		copyToClipboard(getPreviewText());
}

function setClipboard2WithPreview()
{
		copyToClipboard(getHistoryText());
}

function resetHist()
{
  allHistory = [];
  updatePreview();
}


function getPreviewText()
{
  var prevText = document.getElementById("appliedToText").value;
  var resText = "";
  for (var j = 0; j < prevText.length; j++)
  {
    var curLetter = prevText[j];
    for (var i = 0; i < allLetters.length; i++)
    {
      curLetter += allLetters[i];
    }
    resText += curLetter;
  }
  return resText;
}


function getHistoryText()
{
  var res = "";
  for (var i = 0; i < allHistory.length; i++)
  {
    res += allHistory[i];
  }
  return res;
}



function updatePreview()
{
   document.getElementById("resultoutput").innerHTML = getPreviewText();
   document.getElementById("resultoutput2").innerHTML = getHistoryText();
}

function setClipboardWithMe()
{
	var myId = parseInt(this.class.substring(1));
	
	try
	{
		var textThing = punycode.ucs2.encode([myId]);
    allLetters.push(textThing);
		copyToClipboard(textThing);
    updatePreview();
    
	}
	catch(err)
	{
		console.log(this.class + " has error"  + err);
	}
}


var allHistory = [];


var allLetters = [];

function resetCopied()
{
  allLetters = [];
  copyToClipboard(allLetters);
  updatePreview();
}

function appendCopied()
{
  allHistory.push(getPreviewText());
  updatePreview();
}

var allButtons = [];
function setupStuff()
{
	var buttonHolder = document.getElementById("buttonHolder");
  /*
  var rangesNames = ["Combining Diacritical Marks (0300–036F)", "Combining Diacritical Marks Extended (1AB0–1AFF)", "Combining Diacritical Marks Supplement (1DC0–1DFF)", "Combining Diacritical Marks for Symbols (20D0–20FF)", "Combining Half Marks (FE20–FE2F)"]
  
  var rangesMin = [0x0300, 0x1AB0, 0x1DC0, 0x20D0, 0xFE20];
  var rangesMax = [0x036F, 0x1AFF, 0x1DFF, 0x20FF, 0xFE2F];
  
  for (var j = 0; j < rangesMin.length; j++)
  {
    var rangeName = rangesNames[j].replace("–", "&#8722;");
    console.log(rangeName);
    var title = document.createElement("h3");
    title.innerHTML = rangeName;
    buttonHolder.appendChild(title);
    for (var i = rangesMin[j]; i < rangesMax[j]; i++)
    {
      var thing = document.createElement("button");
      thing.onclick = setClipboardWithMe;
      allButtons.push(thing);
      try
      {
        var textThing = punycode.ucs2.encode([i]);
        thing.innerHTML = "A" + textThing + "<br>" + i + "<br>" + "0x" + i.toString(16);
        thing.class = "c" + i;
        buttonHolder.appendChild(thing);
      }
      catch(err)
      {
      }
    }
  }
  */


	  var table230 = [0x300,0x301,0x302,0x303,0x304,0x305,0x306,0x307,0x308,0x309,0x30a,0x30b,0x30c,0x30d,0x30e,0x30f,0x310,0x311,0x312,0x313,0x314,0x33d,0x33e,0x33f,0x340,0x341,0x342,0x343,0x344,0x346,0x34a,0x34b,0x34c,0x350,0x351,0x352,0x357,0x35b,0x363,0x364,0x365,0x366,0x367,0x368,0x369,0x36a,0x36b,0x36c,0x36d,0x36e,0x36f,0x483,0x484,0x485,0x486,0x487,0x592,0x593,0x594,0x595,0x597,0x598,0x599,0x59c,0x59d,0x59e,0x59f,0x5a0,0x5a1,0x5a8,0x5a9,0x5ab,0x5ac,0x5af,0x5c4,0x610,0x611,0x612,0x613,0x614,0x615,0x616,0x617,0x653,0x654,0x657,0x658,0x659,0x65a,0x65b,0x65d,0x65e,0x6d6,0x6d7,0x6d8,0x6d9,0x6da,0x6db,0x6dc,0x6df,0x6e0,0x6e1,0x6e2,0x6e4,0x6e7,0x6e8,0x6eb,0x6ec,0x730,0x732,0x733,0x735,0x736,0x73a,0x73d,0x73f,0x740,0x741,0x743,0x745,0x747,0x749,0x74a,0x7eb,0x7ec,0x7ed,0x7ee,0x7ef,0x7f0,0x7f1,0x7f3,0x816,0x817,0x818,0x819,0x81b,0x81c,0x81d,0x81e,0x81f,0x820,0x821,0x822,0x823,0x825,0x826,0x827,0x829,0x82a,0x82b,0x82c,0x82d,0x8d4,0x8d5,0x8d6,0x8d7,0x8d8,0x8d9,0x8da,0x8db,0x8dc,0x8dd,0x8de,0x8df,0x8e0,0x8e1,0x8e4,0x8e5,0x8e7,0x8e8,0x8ea,0x8eb,0x8ec,0x8f3,0x8f4,0x8f5,0x8f7,0x8f8,0x8fb,0x8fc,0x8fd,0x8fe,0x8ff,0x951,0x953,0x954,0x9fe,0xf82,0xf83,0xf86,0xf87,0x135d,0x135e,0x135f,0x17dd,0x193a,0x1a17,0x1a75,0x1a76,0x1a77,0x1a78,0x1a79,0x1a7a,0x1a7b,0x1a7c,0x1ab0,0x1ab1,0x1ab2,0x1ab3,0x1ab4,0x1abb,0x1abc,0x1b6b,0x1b6d,0x1b6e,0x1b6f,0x1b70,0x1b71,0x1b72,0x1b73,0x1cd0,0x1cd1,0x1cd2,0x1cda,0x1cdb,0x1ce0,0x1cf4,0x1cf8,0x1cf9,0x1dc0,0x1dc1,0x1dc3,0x1dc4,0x1dc5,0x1dc6,0x1dc7,0x1dc8,0x1dc9,0x1dcb,0x1dcc,0x1dd1,0x1dd2,0x1dd3,0x1dd4,0x1dd5,0x1dd6,0x1dd7,0x1dd8,0x1dd9,0x1dda,0x1ddb,0x1ddc,0x1ddd,0x1dde,0x1ddf,0x1de0,0x1de1,0x1de2,0x1de3,0x1de4,0x1de5,0x1de6,0x1de7,0x1de8,0x1de9,0x1dea,0x1deb,0x1dec,0x1ded,0x1dee,0x1def,0x1df0,0x1df1,0x1df2,0x1df3,0x1df4,0x1df5,0x1dfb,0x1dfe,0x20d0,0x20d1,0x20d4,0x20d5,0x20d6,0x20d7,0x20db,0x20dc,0x20e1,0x20e7,0x20e9,0x20f0,0x2cef,0x2cf0,0x2cf1,0x2de0,0x2de1,0x2de2,0x2de3,0x2de4,0x2de5,0x2de6,0x2de7,0x2de8,0x2de9,0x2dea,0x2deb,0x2dec,0x2ded,0x2dee,0x2def,0x2df0,0x2df1,0x2df2,0x2df3,0x2df4,0x2df5,0x2df6,0x2df7,0x2df8,0x2df9,0x2dfa,0x2dfb,0x2dfc,0x2dfd,0x2dfe,0x2dff,0xa66f,0xa674,0xa675,0xa676,0xa677,0xa678,0xa679,0xa67a,0xa67b,0xa67c,0xa67d,0xa69e,0xa69f,0xa6f0,0xa6f1,0xa8e0,0xa8e1,0xa8e2,0xa8e3,0xa8e4,0xa8e5,0xa8e6,0xa8e7,0xa8e8,0xa8e9,0xa8ea,0xa8eb,0xa8ec,0xa8ed,0xa8ee,0xa8ef,0xa8f0,0xa8f1,0xaab0,0xaab2,0xaab3,0xaab7,0xaab8,0xaabe,0xaabf,0xaac1,0xfe20,0xfe21,0xfe22,0xfe23,0xfe24,0xfe25,0xfe26,0xfe2e,0xfe2f,0x10376,0x10377,0x10378,0x10379,0x1037a,0x10a0f,0x10a38,0x10ae5,0x10d24,0x10d25,0x10d26,0x10d27,0x10eab,0x10eac,0x10f48,0x10f49,0x10f4a,0x10f4c,0x11100,0x11101,0x11102,0x11366,0x11367,0x11368,0x11369,0x1136a,0x1136b,0x1136c,0x11370,0x11371,0x11372,0x11373,0x11374,0x1145e,0x16b30,0x16b31,0x16b32,0x16b33,0x16b34,0x16b35,0x16b36,0x1d185,0x1d186,0x1d187,0x1d188,0x1d189,0x1d1aa,0x1d1ab,0x1d1ac,0x1d1ad,0x1d242,0x1d243,0x1d244,0x1e000,0x1e001,0x1e002,0x1e003,0x1e004,0x1e005,0x1e006,0x1e008,0x1e009,0x1e00a,0x1e00b,0x1e00c,0x1e00d,0x1e00e,0x1e00f,0x1e010,0x1e011,0x1e012,0x1e013,0x1e014,0x1e015,0x1e016,0x1e017,0x1e018,0x1e01b,0x1e01c,0x1e01d,0x1e01e,0x1e01f,0x1e020,0x1e021,0x1e023,0x1e024,0x1e026,0x1e027,0x1e028,0x1e029,0x1e02a,0x1e130,0x1e131,0x1e132,0x1e133,0x1e134,0x1e135,0x1e136,0x1e2ec,0x1e2ed,0x1e2ee,0x1e2ef,0x1e944,0x1e945,0x1e946,0x1e947,0x1e948,0x1e949];
	var table232 = [0x315,0x31a,0x358,0x1df6,0x302c];
	var table220 = [0x316,0x317,0x318,0x319,0x31c,0x31d,0x31e,0x31f,0x320,0x323,0x324,0x325,0x326,0x329,0x32a,0x32b,0x32c,0x32d,0x32e,0x32f,0x330,0x331,0x332,0x333,0x339,0x33a,0x33b,0x33c,0x347,0x348,0x349,0x34d,0x34e,0x353,0x354,0x355,0x356,0x359,0x35a,0x591,0x596,0x59b,0x5a2,0x5a3,0x5a4,0x5a5,0x5a6,0x5a7,0x5aa,0x5c5,0x655,0x656,0x65c,0x65f,0x6e3,0x6ea,0x6ed,0x731,0x734,0x737,0x738,0x739,0x73b,0x73c,0x73e,0x742,0x744,0x746,0x748,0x7f2,0x7fd,0x859,0x85a,0x85b,0x8d3,0x8e3,0x8e6,0x8e9,0x8ed,0x8ee,0x8ef,0x8f6,0x8f9,0x8fa,0x952,0xf18,0xf19,0xf35,0xf37,0xfc6,0x108d,0x193b,0x1a18,0x1a7f,0x1ab5,0x1ab6,0x1ab7,0x1ab8,0x1ab9,0x1aba,0x1abd,0x1abf,0x1ac0,0x1b6c,0x1cd5,0x1cd6,0x1cd7,0x1cd8,0x1cd9,0x1cdc,0x1cdd,0x1cde,0x1cdf,0x1ced,0x1dc2,0x1dca,0x1dcf,0x1df9,0x1dfd,0x1dff,0x20e8,0x20ec,0x20ed,0x20ee,0x20ef,0xa92b,0xa92c,0xa92d,0xaab4,0xfe27,0xfe28,0xfe29,0xfe2a,0xfe2b,0xfe2c,0xfe2d,0x101fd,0x102e0,0x10a0d,0x10a3a,0x10ae6,0x10f46,0x10f47,0x10f4b,0x10f4d,0x10f4e,0x10f4f,0x10f50,0x1d17b,0x1d17c,0x1d17d,0x1d17e,0x1d17f,0x1d180,0x1d181,0x1d182,0x1d18a,0x1d18b,0x1e8d0,0x1e8d1,0x1e8d2,0x1e8d3,0x1e8d4,0x1e8d5,0x1e8d6];
	var table216 = [0x31b,0xf39,0x1d165,0x1d166,0x1d16e,0x1d16f,0x1d170,0x1d171,0x1d172];
	var table202 = [0x321,0x322,0x327,0x328,0x1dd0];
	var table1 = [0x334,0x335,0x336,0x337,0x338,0x1cd4,0x1ce2,0x1ce3,0x1ce4,0x1ce5,0x1ce6,0x1ce7,0x1ce8,0x20d2,0x20d3,0x20d8,0x20d9,0x20da,0x20e5,0x20e6,0x20ea,0x20eb,0x10a39,0x16af0,0x16af1,0x16af2,0x16af3,0x16af4,0x1bc9e,0x1d167,0x1d168,0x1d169];
	var table240 = [0x345];
	var table233 = [0x35c,0x35f,0x362,0x1dfc];
	var table234 = [0x35d,0x35e,0x360,0x361,0x1dcd];
	var table222 = [0x59a,0x5ad,0x1939,0x302d];
	var table228 = [0x5ae,0x18a9,0x1df7,0x1df8,0x302b];
	var table10 = [0x5b0];
	var table11 = [0x5b1];
	var table12 = [0x5b2];
	var table13 = [0x5b3];
	var table14 = [0x5b4];
	var table15 = [0x5b5];
	var table16 = [0x5b6];
	var table17 = [0x5b7];
	var table18 = [0x5b8,0x5c7];
	var table19 = [0x5b9,0x5ba];
	var table20 = [0x5bb];
	var table21 = [0x5bc];
	var table22 = [0x5bd];
	var table23 = [0x5bf];
	var table24 = [0x5c1];
	var table25 = [0x5c2];
	var table30 = [0x618,0x64e];
	var table31 = [0x619,0x64f];
	var table32 = [0x61a,0x650];
	var table27 = [0x64b,0x8f0];
	var table28 = [0x64c,0x8f1];
	var table29 = [0x64d,0x8f2];
	var table33 = [0x651];
	var table34 = [0x652];
	var table35 = [0x670];
	var table36 = [0x711];
	var table7 = [0x93c,0x9bc,0xa3c,0xabc,0xb3c,0xcbc,0x1037,0x1b34,0x1be6,0x1c37,0xa9b3,0x110ba,0x11173,0x111ca,0x11236,0x112e9,0x1133b,0x1133c,0x11446,0x114c3,0x115c0,0x116b7,0x1183a,0x11943,0x11d42,0x1e94a];
	var table9 = [0x94d,0x9cd,0xa4d,0xacd,0xb4d,0xbcd,0xc4d,0xccd,0xd3b,0xd3c,0xd4d,0xdca,0xe3a,0xeba,0xf84,0x1039,0x103a,0x1714,0x1734,0x17d2,0x1a60,0x1b44,0x1baa,0x1bab,0x1bf2,0x1bf3,0x2d7f,0xa806,0xa82c,0xa8c4,0xa953,0xa9c0,0xaaf6,0xabed,0x10a3f,0x11046,0x1107f,0x110b9,0x11133,0x11134,0x111c0,0x11235,0x112ea,0x1134d,0x11442,0x114c2,0x115bf,0x1163f,0x116b6,0x1172b,0x11839,0x1193d,0x1193e,0x119e0,0x11a34,0x11a47,0x11a99,0x11c3f,0x11d44,0x11d45,0x11d97];
	var table84 = [0xc55];
	var table91 = [0xc56];
	var table103 = [0xe38,0xe39];
	var table107 = [0xe48,0xe49,0xe4a,0xe4b];
	var table118 = [0xeb8,0xeb9];
	var table122 = [0xec8,0xec9,0xeca,0xecb];
	var table129 = [0xf71];
	var table130 = [0xf72,0xf7a,0xf7b,0xf7c,0xf7d,0xf80];
	var table132 = [0xf74];
	var table214 = [0x1dce];
	var table218 = [0x302a];
	var table224 = [0x302e,0x302f];
	var table8 = [0x3099,0x309a];
	var table26 = [0xfb1e];
	var table6 = [0x16ff0,0x16ff1];
	var table226 = [0x1d16d];

	var allTables = [table230,table232,table220,table216,table202,table1,table240,table233,table234,table222,table228,table10,table11,table12,table13,table14,table15,table16,table17,table18,table19,table20,table21,table22,table23,table24,table25,table30,table31,table32,table27,table28,table29,table33,table34,table35,table36,table7,table9,table84,table91,table103,table107,table118,table122,table129,table130,table132,table214,table218,table224,table8,table26,table6,table226]
	for (var j = 0; j < allTables.length; j++)
	  {
            var curTable = allTables[j];
	    for (var i = 0; i < curTable.length; i++)
	    {
		var unicodeVal = curTable[i];
	      var thing = document.createElement("button");
	      thing.onclick = setClipboardWithMe;
	      allButtons.push(thing);
	      try
	      {
		var textThing = punycode.ucs2.encode([unicodeVal]);
		thing.innerHTML = "A" + textThing + "<br>" + unicodeVal + "<br>" + "0x" + unicodeVal.toString(16);
		thing.class = "c" + unicodeVal;
		buttonHolder.appendChild(thing);
	      }
	      catch(err)
	      {
	      }
	    }
	  }
	
}




// from https://stackoverflow.com/a/33928558/2924421

// Copies a string to the clipboard. Must be called from within an 
// event handler such as click. May return false if it failed, but
// this is not always possible. Browser support for Chrome 43+, 
// Firefox 42+, Safari 10+, Edge and IE 10+.
// IE: The clipboard feature may be disabled by an administrator. By
// default a prompt is shown the first time the clipboard is 
// used (per session).
function copyToClipboard(text) {
    if (window.clipboardData && window.clipboardData.setData) {
        // IE specific code path to prevent textarea being shown while dialog is visible.
        return clipboardData.setData("Text", text); 

    } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
        var textarea = document.createElement("textarea");
        textarea.textContent = text;
        textarea.style.position = "fixed";  // Prevent scrolling to bottom of page in MS Edge.
        document.body.appendChild(textarea);
        textarea.select();
        try {
            return document.execCommand("copy");  // Security exception may be thrown by some browsers.
        } catch (ex) {
            console.warn("Copy to clipboard failed.", ex);
            return false;
        } finally {
            document.body.removeChild(textarea);
        }
    }
}
</script>
<div id="cloud-container">
</div>
	<br/><br/>

  <h3>Click on a button in the table to copy it:</h3>
<div id="buttonHolder"></div>
<script>
	
setupStuff();
resetCopied();
</script>
</body>
</html>
